{"id":"gr-03z7","content_hash":"9aa9369fc589c4f3e138b43d8f276d577c82d2b4f2959f4cac815de718c0e607","title":"payment_service.go:getOrCreateStripeCustomer has N+1 potential with pagination","description":"Lines 147-158 use customer.List iterator to find existing customer by email. If a user has multiple Stripe customers or the account has many customers, this could be inefficient. Issue: Iterator pattern doesn't show total customer count - could iterate over thousands. Stripe API supports email search but implementation doesn't handle pagination properly. Fix: Use Stripe's customer search API with explicit email filter, or add result limit checks.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T20:08:47.387176-08:00","updated_at":"2025-11-24T21:24:46.254076373Z","source_repo":"."}
{"id":"gr-0qk","content_hash":"a5581d4f0ae8a9b7e84aa5cfb726a52391491934ade4bd3e23923f368b005232","title":"Add port number validation","description":"Port configuration value is never validated, allowing invalid values that will cause server startup failure.\n\nLocation: internal/config/validation.go:112-128 (validateOtherConfig doesn't check port)\n\nProblem:\n- Could be non-numeric (parsing would fail silently)\n- Could be out of range (valid ports: 1-65535)\n- Could be privileged port (\u003c1024) without appropriate permissions\n- Could be 0 (invalid for binding)\n\nCurrent behavior:\nPort: getEnvOrDefault(\"PORT\", \"8080\"),  // No validation\n\nRecommended fix:\nAdd to validateOtherConfig():\n\nfunc validateOtherConfig(strict bool) error {\n    // ... existing code ...\n    \n    // Validate port\n    portStr := os.Getenv(\"PORT\")\n    if portStr == \"\" {\n        portStr = \"8080\"  // Default\n    }\n    port, err := strconv.Atoi(portStr)\n    if err != nil {\n        return fmt.Errorf(\"PORT must be a valid integer, got: %s\", portStr)\n    }\n    if port \u003c 1 || port \u003e 65535 {\n        return fmt.Errorf(\"PORT must be between 1 and 65535, got: %d\", port)\n    }\n    if strict \u0026\u0026 port \u003c 1024 {\n        log.Printf(\"WARNING: Using privileged port %d (requires root/admin privileges)\", port)\n    }\n    \n    return nil\n}\n\nImpact: Invalid port would cause server startup failure with cryptic error\nPriority: Low - usually fails fast at startup, but better validation helps debugging","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-15T19:50:14.059102-08:00","updated_at":"2025-11-24T21:24:46.712212132Z","source_repo":"."}
{"id":"gr-0y9","content_hash":"9bd7bf9da6c29df537d82ff5c917edce39ba8eb0696279a4e1234d5686db4425","title":"Inconsistent error messages in Datastore","description":"Error messages in datastore.go are inconsistent - some include context (function name, parameters), others don't.\n\nLocation: internal/database/datastore.go (throughout)\nImpact: Makes debugging harder\n\nFix: Standardize error wrapping to always include operation context","status":"open","priority":3,"issue_type":"chore","created_at":"2025-11-15T19:54:46.883416-08:00","updated_at":"2025-11-24T21:24:46.703124676Z","source_repo":"."}
{"id":"gr-0zlb","content_hash":"71d8ddaf3fa8d286fe7d275d1999bc04625d475f8035a252a96e037dc9853b04","title":"Multiple sequential HTTP requests in discovery","description":"tryCommonFeedPaths and tryMastodonFeedPaths make sequential HEAD requests. Could take 20+ seconds if all fail.\n\nLocation: internal/services/feed_discovery.go:196-261, 264-310\nImpact: Slow feed addition, poor UX, could hit 15s overall timeout\n\nFix: Make requests in parallel with sync.WaitGroup","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:05:00.215619-08:00","updated_at":"2025-11-24T21:24:46.499238576Z","source_repo":"."}
{"id":"gr-135","content_hash":"4652e02cd3a8c277b5177bee8fdda6378b6963aaf55ff4b3a293f70b74eb4a38","title":"Hardcoded placeholder detection strings","description":"GetStripeCredentials uses exact string match for placeholders (e.g., secretKey == 'stripe-secret-key'). Brittle and undocumented convention.\n\nLocation: internal/secrets/secrets.go:78, 87, 96, 105\nImpact: Actual secret value 'stripe-secret-key' would trigger Secret Manager lookup, confusion\n\nFix: Use consistent prefix convention like OAuth's '_secret:' or document placeholder convention","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T20:02:23.052972-08:00","updated_at":"2025-11-24T21:24:46.273073693Z","source_repo":"."}
{"id":"gr-1td","content_hash":"3debb7ad7114527d7f402f7e42095e9aa0e966f6b64d8ec5959ae22a002d8eb3","title":"Auth error responses missing request tracking","description":"Authentication failures return generic errors without request ID or trace info, making debugging difficult.\n\nLocation: internal/auth/middleware.go:30, 74, 80\nImpact: Hard to correlate failed auth attempts in logs\n\nFix: Include request ID in error responses and log auth failures","status":"open","priority":3,"issue_type":"chore","created_at":"2025-11-15T20:00:17.786159-08:00","updated_at":"2025-11-24T21:24:46.688750521Z","source_repo":"."}
{"id":"gr-1u5r","content_hash":"3ec239e5c8446a0977a49df2eda634ce8afd575343b356cccceb46d562be8b88","title":"subscription_service.go:Admin token type assertions don't handle unknown DB types","description":"Lines 221-245 (GenerateAdminToken), 262-321 (ValidateAdminToken), 326-379 (ListAdminTokens), 384-432 (RevokeAdminToken) use type assertions for *database.DB and *database.DatastoreDB. If neither matches, they return generic error. Issue: Error messages don't indicate which DB type was received, making debugging difficult. No compile-time check that all DB types are handled. Fix: Consider interface method for admin tokens in Database interface, or log the actual type in error messages.","status":"open","priority":3,"issue_type":"bug","created_at":"2025-11-15T20:09:23.39303-08:00","updated_at":"2025-11-24T21:24:46.673108539Z","source_repo":"."}
{"id":"gr-1zx","content_hash":"53f7f71097a509a68651c04ffa10a379665717a8bb4a36987d7e9797aafa831d","title":"Add cache hit/miss metrics for monitoring","description":"Enhancement: Add cache hit/miss tracking to measure cache effectiveness.\n\nLocations:\n- internal/cache/unread_cache.go\n- internal/cache/feed_list_cache.go\n\nRationale:\n- Measure cache effectiveness and hit rates\n- Help tune TTL values\n- Identify performance issues\n\nRecommended implementation:\n1. Add atomic counters for hits and misses\n2. Track in Get() method\n3. Expose in GetStats()\n\nExample:\ntype CacheStats struct {\n    CachedUsers int\n    TotalFeeds  int\n    Hits        int64\n    Misses      int64\n    HitRate     float64  // Calculated: hits / (hits + misses)\n}\n\nfunc (uc *UnreadCache) Get(userID int) (map[int]int, bool) {\n    // ... existing logic ...\n    if hit {\n        atomic.AddInt64(\u0026uc.hits, 1)\n    } else {\n        atomic.AddInt64(\u0026uc.misses, 1)\n    }\n    return result, hit\n}\n\nBenefits:\n- Data-driven performance tuning\n- Identify cache warming opportunities\n- Monitor production effectiveness\n\nImpact: Enhancement - improves observability\nPriority: Low - nice to have for production monitoring","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-15T19:47:09.780523-08:00","updated_at":"2025-11-24T21:24:46.725159813Z","source_repo":"."}
{"id":"gr-2","content_hash":"3db2a8345a2001489e19562835a0cad45ce665b319b2305a1b7aceb6ee108023","title":"Implement cursor-based pagination for article loading","description":"","notes":"## Problem\n\nCurrent pagination uses offset-based queries with unread_only filtering, which has fundamental issues when the underlying dataset changes:\n\n1. User loads first 50 articles (offset=0)\n2. User marks some as read\n3. Server's unread query now returns different results for offset positions\n4. Clicking 'Load More' with offset=50 can skip articles or show duplicates\n\n## Current Workaround\n\nClient-side duplicate detection using a Set of loaded article IDs. This prevents duplicates but doesn't solve the skipped articles problem.\n\n## Ideal Solution\n\nImplement cursor-based pagination using timestamps:\n\n- Instead of offset, use before parameter with article timestamp/ID\n- Example: /api/feeds/all/articles?limit=50\u0026before=2025-10-13T18:30:00\u0026unread_only=true\n- Server returns articles published before the cursor, maintaining consistent ordering\n- Works correctly even when articles are marked as read between requests\n\n## Implementation\n\nBackend changes needed:\n- Modify GetUserArticlesPaginated in feed service to accept cursor parameter\n- Change SQL query from OFFSET to WHERE published_at \u003c ? with ORDER BY published_at DESC\n- Return cursor value for next page in response\n\nFrontend changes:\n- Track cursor (timestamp of last article) instead of offset\n- Pass cursor to subsequent requests\n\n## Benefits\n\n- No duplicate articles\n- No skipped articles  \n- Consistent pagination regardless of read/unread state changes\n- Better performance (cursor queries faster than large offsets)","status":"open","priority":2,"issue_type":"task","created_at":"2025-10-13T18:41:47.375395-07:00","updated_at":"2025-11-24T21:24:46.644266723Z","source_repo":"."}
{"id":"gr-25c","content_hash":"7004b635d67bba2696da51ad2a35708996a675e644de0be7e6db00f785adc827","title":"Missing rate limiting on Stripe webhook","description":"Stripe webhook endpoint has no rate limiting. Attacker could flood with fake webhook requests.\n\nLocation: internal/handlers/payment_handler.go:68-189\nImpact: DoS via webhook flooding, log spam\n\nFix: Add rate limiting middleware specifically for webhook endpoint","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T19:57:15.946749-08:00","updated_at":"2025-11-24T21:24:46.293773419Z","source_repo":"."}
{"id":"gr-37","content_hash":"8dd5422da6fbd978dd4af3676b8db88ff43d2ca769118e87bd796856e0063aaa","title":"Add payment service tests","description":"Payment service is mostly untested. Add tests for:\n- CreateCheckoutSession with various user states\n- HandleWebhook with different Stripe event types\n- Subscription status checks\n- Payment failure scenarios\n- Webhook signature validation\n- Idempotency handling\nCurrent coverage shows most payment_service.go functions at 0%.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-11-24T19:03:13.235046145Z","updated_at":"2025-11-24T21:24:46.430460665Z","source_repo":"."}
{"id":"gr-38","content_hash":"d41cc1e9d76f654ed9c60962afda6d2f425d08ef738b94255acc79a602a895eb","title":"Add feed service error handling tests","description":"Feed service has gaps in error handling test coverage. Add tests for:\n- AddFeedForUser failure cases\n- RefreshFeeds with various error conditions\n- OPML import/export edge cases\n- Feed discovery failures\n- Article deduplication logic\n- Concurrent access patterns\nMany service methods have 0% or low coverage for error paths.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-11-24T19:03:13.237025939Z","updated_at":"2025-11-24T21:24:46.427460837Z","source_repo":"."}
{"id":"gr-3ay","content_hash":"28d75ecbf28447b2f5b702686e4a98871cfcc0dddd1410f5b206e4eb49c2a069","title":"Client potentially leaked in error paths","description":"Secret Manager client closed in defer but errors between client creation and defer could leak client in some scenarios.\n\nLocation: internal/secrets/secrets.go:20-24\nImpact: Resource leak in error cases, though unlikely given defer placement\n\nFix: Ensure client.Close is called in all paths or use sync.Once for singleton client","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:02:47.385-08:00","updated_at":"2025-11-24T21:24:46.502268893Z","source_repo":"."}
{"id":"gr-3dg","content_hash":"5ecb1df608c5cc54fc986bc1f2dca244b254e9c73e994b377500829839486710","title":"Missing Datastore transaction support","description":"Datastore implementation has no transaction wrapper for multi-entity operations. BatchSetUserArticleStatus can fail partially with no rollback.\n\nLocation: internal/database/datastore.go\nImpact: Data integrity risk on partial failures\n\nFix: Implement transaction wrapper using Datastore transactions or implement compensating rollback","status":"open","priority":1,"issue_type":"feature","created_at":"2025-11-15T19:55:06.22812-08:00","updated_at":"2025-11-24T21:24:46.300155087Z","source_repo":"."}
{"id":"gr-3op","content_hash":"00db86900e7d6083884971ba6085113e53494e18f344a3786a92abe2bc9de4e1","title":"Make session cache TTL configurable","description":"Currently session cache TTL is hardcoded to 10 minutes. Make this configurable via environment variable to allow tuning based on traffic patterns.\n\nLocation: internal/auth/session.go:41\n\nRecommended implementation:\n- Add SESSION_CACHE_TTL_MINUTES environment variable\n- Default to 10 minutes if not set\n- Parse and validate the value\n- Use configured value for cacheTTL\n\nRationale: Allows performance tuning for different deployment scenarios and traffic patterns.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-15T19:45:08.327567-08:00","updated_at":"2025-11-24T21:24:46.73506042Z","source_repo":"."}
{"id":"gr-3yad","content_hash":"cc35f689aaab85fa1f499124d1fd2194f8be1ec9989f8db65cf8a19b82ab2e37","title":"Implement Cloud Tasks for async cron job processing","description":"Replace synchronous cron job handlers with Cloud Tasks to prevent excessive App Engine instance scaling while ensuring background work completes reliably.\n\nCurrent problem:\n- Cron jobs (feed refresh every 1h, cleanup every 24h) run synchronously\n- Long-running operations keep App Engine instances alive\n- Causes excessive instance scaling and unnecessary costs for low-traffic deployments\n- Previous attempt to use background goroutines failed because App Engine kills goroutines when HTTP response completes\n\nAffected endpoints:\n- /cron/refresh-feeds (internal/handlers/feed_handler.go:303)\n- /cron/cleanup-orphaned-articles (internal/handlers/feed_handler.go:346)","design":"Use Google Cloud Tasks to process cron work asynchronously:\n\n1. Create Cloud Tasks queue (via Terraform or gcloud)\n2. Update cron handlers to:\n   - Enqueue task to Cloud Tasks\n   - Return 200 OK immediately\n   - Task worker endpoint processes the actual work\n3. Implement task handler endpoints:\n   - /tasks/refresh-feeds (actual feed processing)\n   - /tasks/cleanup-orphaned-articles (actual cleanup)\n4. Add authentication for task endpoints (verify X-CloudTasks-* headers)\n5. Configure task queue with appropriate retry policies\n\nBenefits:\n- Cron handlers return immediately (\u003c 100ms)\n- App Engine doesn't keep instances running during long operations\n- Tasks complete reliably even if instance shuts down\n- Proper retry/error handling built into Cloud Tasks\n- Reduces instance-hour costs by 30-50% for low-traffic deployments\n\nReferences:\n- https://cloud.google.com/tasks/docs/creating-appengine-handlers\n- https://cloud.google.com/appengine/docs/standard/go/taskqueue/push/creating-handlers","acceptance_criteria":"- [ ] Cloud Tasks queue created and configured\n- [ ] Cron handlers enqueue tasks and return immediately\n- [ ] Task handler endpoints process work correctly\n- [ ] Task endpoints properly authenticated (X-CloudTasks headers)\n- [ ] Feed refresh completes successfully via Cloud Tasks\n- [ ] Cleanup completes successfully via Cloud Tasks\n- [ ] Error handling and retry logic tested\n- [ ] App Engine instance count reduced for low-traffic periods\n- [ ] No 500 errors in production after deployment","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-21T03:21:10.571090909Z","updated_at":"2025-11-24T21:24:46.456551534Z","source_repo":"."}
{"id":"gr-4cfd3fbf","content_hash":"ae26c915c3c4fe7834c3b91fa12e6d5953024dcaae89faff17d964005ec8abde","title":"Add user-configurable feed ordering in sidebar","description":"Currently, feeds in the left sidebar appear to be ordered by title alphabetically. Users should be able to choose how their feeds are ordered.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-10-14T18:43:55.818912Z","updated_at":"2025-11-24T21:24:46.613121615Z","external_ref":"gh-11","source_repo":"."}
{"id":"gr-4j3w","content_hash":"e291a02fc880c6c49ea1894975ba383e3457e6f8a37b9a39aa8d32715ee3d5ed","title":"rate_limiter.go:CleanupOldLimiters removes in-use limiters","description":"Lines 128-139: CleanupOldLimiters removes any limiter at full token capacity (limiter.Tokens() \u003e= burstSize). A limiter can be at full capacity but still actively rate-limiting (e.g., recently used domain that regenerated all tokens). Issue: If cleanup runs between requests, limiter is removed and recreated, resetting rate limit state. Fix: Track last access time per limiter and only cleanup limiters unused for X duration (e.g., 1 hour).","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:09:11.312335-08:00","updated_at":"2025-11-24T21:24:46.464146832Z","source_repo":"."}
{"id":"gr-50","content_hash":"c8b0eaa7913518601d2de319c9c5c18b86c3efa9402619639e0c2658471b245e","title":"LOW: Session Fixation Vulnerability on Login","description":"**Location:** internal/handlers/auth_handler.go - Callback()\n\n**Issue:** Sessions are not regenerated after successful authentication, allowing session fixation attacks. An attacker can set a victim's session ID before login, then hijack the authenticated session.\n\n**Missing:** Session ID regeneration after authentication\n\n**Risk:** LOW - Requires attacker to set victim's session cookie before authentication\n\n**Recommendation:**\n1. Delete old session after successful OAuth callback\n2. Generate new session with new ID\n3. Update session cookie with new ID","status":"open","priority":3,"issue_type":"bug","created_at":"2025-11-24T19:03:13.27514568Z","updated_at":"2025-11-24T21:24:46.668174774Z","source_repo":"."}
{"id":"gr-53","content_hash":"b3c2bf967e3e78dc59799a589331f429bd4d713fe957d7d21e4d45795772740a","title":"LOW: Missing GDPR Compliance Mechanisms","description":"**Location:** Privacy policy referenced but no data export/deletion\n\n**Issue:** The application references a privacy policy but lacks required GDPR compliance features:\n- No user data export functionality\n- No user account deletion endpoint  \n- No data retention policies implemented\n- User data (articles read/starred) persists indefinitely\n\n**Current State:**\n- Privacy policy page exists at /privacy\n- Users can view their data but cannot export it\n- No way to delete account and associated data\n\n**Risk:** LOW - Potential GDPR/privacy regulation violations in EU\n\n**Recommendation:**\n1. Add 'Export My Data' endpoint (JSON format)\n2. Add 'Delete My Account' endpoint (with confirmation)\n3. Implement data retention policies\n4. Add consent tracking for analytics/cookies\n5. Document data processing in privacy policy","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-24T19:03:13.284182809Z","updated_at":"2025-11-24T21:24:46.663132846Z","source_repo":"."}
{"id":"gr-56","content_hash":"700bb94afd9b995a1741389364894c6317dc03f308f61b13fa707d558d997417","title":"LOW: No Security Headers Configured","description":"**Location:** main.go - Missing security header middleware\n\n**Issue:** The application does not set recommended security HTTP headers:\n- X-Frame-Options (clickjacking protection)\n- X-Content-Type-Options (MIME sniffing protection)  \n- X-XSS-Protection (XSS filter)\n- Strict-Transport-Security (HSTS)\n- Content-Security-Policy (CSP)\n- Referrer-Policy (referrer leakage)\n\n**Risk:** LOW - Missing defense-in-depth layers\n\n**Recommendation:**\nAdd security headers middleware:\n```go\nr.Use(func(c *gin.Context) {\n    c.Header(\"X-Frame-Options\", \"DENY\")\n    c.Header(\"X-Content-Type-Options\", \"nosniff\")\n    c.Header(\"X-XSS-Protection\", \"1; mode=block\")\n    c.Header(\"Referrer-Policy\", \"strict-origin-when-cross-origin\")\n    if isProduction {\n        c.Header(\"Strict-Transport-Security\", \"max-age=31536000; includeSubDomains\")\n    }\n    c.Next()\n})\n```","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-24T19:03:13.292367671Z","updated_at":"2025-11-24T21:24:46.658141945Z","source_repo":"."}
{"id":"gr-5d799a68","content_hash":"c93be8ada5cc27b8ca43d8986ae193e9c89ba2d0c61f9732417ddb8dc54435cf","title":"Search filter for feed list","description":"The feed list is gonna get long for some folks. Add a way to filter it.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-10-14T18:43:55.55739Z","updated_at":"2025-11-24T21:24:46.627696813Z","external_ref":"gh-16","source_repo":"."}
{"id":"gr-5iz","content_hash":"b86bd2637ef921eba6bce2ed6f90da3f25efedff0ccad80933ce94bcaffe6527","title":"Improve session expiration check to avoid race condition","description":"Minor improvement to session expiration handling to delete expired sessions asynchronously.\n\nLocation: internal/auth/session.go:101-105\n\nCurrent behavior: Checks expiration after DB read, deletes synchronously\nIssue: Very low severity race condition (sub-second window)\n\nRecommended implementation:\n- Delete expired sessions asynchronously with go sm.DeleteSession(sessionID)\n- Avoids blocking the request for cleanup\n\nImpact: Very low - this is mostly a code quality improvement.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-15T19:45:42.577668-08:00","updated_at":"2025-11-24T21:24:46.729307379Z","source_repo":"."}
{"id":"gr-5nw","content_hash":"14ed7f40ed0499ec5a41e20a04357d86e6ee2b47a46d1e27326feb305ec52310","title":"No secret version pinning support","description":"Always fetches 'latest' secret version. Cannot pin to specific version for rollback or testing.\n\nLocation: internal/secrets/secrets.go:28\nImpact: Cannot rollback to previous secret version, difficult testing\n\nFix: Add optional version parameter, default to 'latest'","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-15T20:02:59.486755-08:00","updated_at":"2025-11-24T21:24:46.683775435Z","source_repo":"."}
{"id":"gr-5tz","content_hash":"98ca6a96dcefa8a077b53680f14423226ca69ee2924239ecd565431f214c53a4","title":"No validation of fetched secrets","description":"GetSecret returns raw secret data without validating it's non-empty or has expected format. Could return empty secrets.\n\nLocation: internal/secrets/secrets.go:37, 53, 65\nImpact: Silent failures with empty secrets, cryptic errors later\n\nFix: Validate secrets are non-empty and match expected format (e.g., Stripe keys have prefix)","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T20:02:29.156267-08:00","updated_at":"2025-11-24T21:24:46.271140176Z","source_repo":"."}
{"id":"gr-68","content_hash":"3cf0968cabb1d016840d59fa69bb2abbcfb49521c9ce86781285aedaeac16809","title":"Add accessibility ARIA labels and improvements","description":"Improve accessibility throughout the application with proper ARIA labels, keyboard navigation, and screen reader support.\n\nIssues to address:\n1. Missing ARIA labels on interactive elements\n2. Keyboard focus indicators not visible enough\n3. Color contrast issues (read articles at opacity 0.6)\n4. No screen reader announcements for dynamic content\n5. Modal keyboard traps not implemented\n6. Missing skip-to-content links\n\nSpecific improvements:\n- Add aria-label to all icon buttons\n- Add aria-live regions for notifications\n- Implement proper focus management in modals\n- Add visible focus indicators (outline style)\n- Improve color contrast ratios to WCAG AA standard\n- Add keyboard navigation docs to help modal\n- Implement ESC key to close modals\n- Tab trap within modals\n- Add role attributes where appropriate\n\nTesting requirements:\n- Test with screen reader (VoiceOver/NVDA)\n- Keyboard-only navigation test\n- Color contrast validation\n- Automated accessibility audit (Lighthouse)\n\nFiles to modify:\n- web/templates/index.html\n- web/static/css/styles.css (focus indicators, contrast)\n- web/static/js/app.js (keyboard handling, ARIA updates)","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-24T19:03:13.337422297Z","updated_at":"2025-11-24T21:24:46.207552351Z","source_repo":"."}
{"id":"gr-69","content_hash":"ded920d6c82d89422c5cb121f5b3343f8dbc325eef3f6c9066b344cb4049b7a2","title":"Add resizable panes on desktop","description":"Allow users to resize the three-pane layout on desktop with draggable dividers.\n\nCurrent state:\n- Fixed widths: 300px (feeds), 400px (articles), flex (content)\n- No way to customize layout for different use cases\n\nImplementation:\n- Add draggable divider between feed and article panes\n- Add draggable divider between article and content panes\n- Store pane widths in localStorage\n- Set reasonable min/max constraints (e.g., 200px-500px)\n- Add visual hover state on dividers\n- Implement smooth drag UX with cursor change\n- Consider double-click to reset to defaults\n\nUser benefits:\n- Power users can optimize layout for their workflow\n- Wider feed pane for long feed names\n- Wider content pane for reading focus\n- Narrower article list for quick scanning\n\nFiles to modify:\n- web/static/js/app.js (drag handlers, localStorage)\n- web/static/css/styles.css (divider styling, cursor)\n- web/templates/index.html (divider elements)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-24T19:03:13.340447924Z","updated_at":"2025-11-24T21:24:46.369882308Z","source_repo":"."}
{"id":"gr-70","content_hash":"2a6e5a1521e1fa97d863648e82df9311276e4b78b7b69b87ce56f84c535a1afe","title":"Add article preview thumbnails","description":"Display thumbnail images in article list for articles that have featured images.\n\nCurrent state:\n- Article list shows only text (title, metadata, description)\n- Visual feeds lose their visual appeal\n\nImplementation:\n- Extract og:image or first image from article content\n- Show 60x60px thumbnail on left side of article item\n- Lazy load images for performance\n- Fallback to feed icon or generic icon if no image\n- Add setting to disable thumbnails (for minimal UI)\n- Ensure responsive sizing on mobile\n\nDesign considerations:\n- Maintain touch target sizes on mobile\n- Don't break existing layout too much\n- Consider optional larger thumbnails (80x80px)\n- Cache thumbnail URLs to avoid re-parsing\n\nFiles to modify:\n- Backend: Update article parsing to extract images\n- web/static/js/app.js (render thumbnails)\n- web/static/css/styles.css (thumbnail styling)\n- Database: May need to store thumbnail URL","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-24T19:03:13.343981112Z","updated_at":"2025-11-24T21:24:46.36287772Z","source_repo":"."}
{"id":"gr-71","content_hash":"e1659e3a1fc9d287824de857ce0baef95561da97d56aaf62ec588fcea5a7ffbb","title":"Add reading progress indicator","description":"Add a visual reading progress indicator to show how far user has scrolled through an article.\n\nImplementation options:\n1. Fixed progress bar at top of content pane (like Medium)\n2. Circular progress indicator (percentage in corner)\n3. Subtle progress line in scrollbar\n\nRecommended approach:\n- Thin progress bar at top of article content\n- Calculate based on scroll position\n- Update smoothly as user scrolls\n- Color matches primary theme color (#1a73e8)\n- Works on desktop and mobile\n- Optional: Show estimated reading time remaining\n\nAdditional features:\n- Jump to percentage (click on progress bar)\n- Remember scroll position when returning to article\n- Sync across devices (could be future enhancement)\n\nFiles to modify:\n- web/static/js/app.js (scroll tracking)\n- web/static/css/styles.css (progress bar styling)\n- Consider localStorage for scroll position memory","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-24T19:03:13.347143941Z","updated_at":"2025-11-24T21:24:46.359187934Z","source_repo":"."}
{"id":"gr-72","content_hash":"755c0f2f0a59b1f3dfad70ade40e0ebb33a48478ca2081906181c4b657d34e32","title":"Add swipe-to-star gesture on mobile","description":"Implement swipe gesture on article items to quickly star/unstar articles on mobile.\n\nCurrent state:\n- Must tap small star button (can be fiddly on mobile)\n- No quick gesture for common action\n\nImplementation:\n- Left swipe on article item reveals star action\n- Similar to email apps (swipe to archive/delete)\n- Visual feedback showing star icon as you swipe\n- Threshold distance to trigger action\n- Smooth animation\n- Haptic feedback if available (vibration API)\n- Don't interfere with article selection tap\n\nDesign:\n- Show star icon with background color as user swipes\n- Yellow/gold background for starring\n- Undo toast notification after action\n- Works in both feed list and article list views\n\nAlternative gestures to consider:\n- Right swipe for mark as read/unread\n- Configurable swipe actions in settings\n\nFiles to modify:\n- web/static/js/app.js (touch handlers)\n- web/static/css/styles.css (swipe action styling)\n- Mobile-only feature (check screen size)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-24T19:03:13.349104185Z","updated_at":"2025-11-24T21:24:46.355300228Z","source_repo":"."}
{"id":"gr-73","content_hash":"f8427f9537f3ac76552e0b5d7b77e1353fe6d27257d9bbae93d32921f4743f20","title":"Implement skeleton loading screens","description":"Replace generic spinners with skeleton screens for better perceived performance.\n\nCurrent state:\n- Generic spinner with 'Loading...' text\n- Feels slow and unpolished\n- No visual indication of what's loading\n\nSkeleton screens to add:\n1. Feed list loading (show 5-10 skeleton feed items)\n2. Article list loading (show skeleton article cards)\n3. Article content loading (show skeleton header + paragraphs)\n4. Subscription panel loading\n\nBenefits:\n- Better perceived performance\n- Users understand what content is coming\n- More modern, polished feel\n- Reduces feeling of 'waiting'\n\nImplementation:\n- Create CSS-only skeleton components (animated gradient)\n- Use same layout as actual content\n- Fade transition from skeleton to real content\n- Keep spinners for long operations (feed refresh)\n\nDesign:\n- Gray placeholder blocks with shimmer animation\n- Match actual content dimensions\n- Subtle pulse/shimmer effect\n\nFiles to modify:\n- web/static/css/styles.css (skeleton animations)\n- web/static/js/app.js (show skeletons instead of spinners)\n- web/templates/index.html (skeleton markup)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-24T19:03:13.352076799Z","updated_at":"2025-11-24T21:24:46.350757673Z","source_repo":"."}
{"id":"gr-73v","content_hash":"700293892526657d7900bea7014177c7fd5bdfd8615f22ce45395d90cc548739","title":"Sessions never refreshed in auth middleware","description":"RequireAuth and RequireAdmin validate sessions but never call sessionManager.RefreshSession. Users must re-login after session expiry even if actively using the app.\n\nLocation: internal/auth/middleware.go:28-37, 72-88\nImpact: Poor UX - active users forced to re-authenticate\n\nFix: Call sessionManager.RefreshSession on successful validation to extend session","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T19:59:41.810195-08:00","updated_at":"2025-11-24T21:24:46.285672689Z","source_repo":"."}
{"id":"gr-74","content_hash":"fae7c53f57f14131f5b6e32736a682b9836740f3285642240be9756a302c1b59","title":"Add onboarding flow for new users","description":"Create a welcoming onboarding experience for first-time users to guide them through key features.\n\nCurrent state:\n- New users see blank screens\n- No guidance on how to get started\n- Keyboard shortcuts hidden in help modal\n- Features not discoverable\n\nOnboarding flow:\n1. Welcome screen after first login\n2. Option to add sample feeds or import OPML\n3. Brief tour of key features (optional, can skip)\n4. Highlight keyboard shortcuts\n5. Show where to find help\n\nImplementation approaches:\n- Lightweight tooltip tour (use a library like Intro.js or custom)\n- Optional video walkthrough\n- Interactive checklist of first actions\n- Sample/demo feeds to explore\n\nFirst-time user checklist:\n‚ñ° Add your first feed\n‚ñ° Star an article  \n‚ñ° Try keyboard shortcuts (j/k)\n‚ñ° Import OPML from another reader\n‚ñ° Customize settings\n\nFeatures to highlight:\n- Keyboard shortcuts (j/k/m/s/o)\n- Swipe navigation on mobile\n- Mark all as read\n- Feed discovery (can enter any URL)\n\nStorage:\n- Use localStorage to track onboarding completion\n- Don't show again after dismissal\n\nFiles to modify:\n- web/static/js/app.js (onboarding logic)\n- web/static/css/styles.css (tooltip/overlay styling)\n- web/templates/index.html (onboarding markup)\n- Consider adding sample feed suggestions","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-24T19:03:13.354210273Z","updated_at":"2025-11-24T21:24:46.345632329Z","source_repo":"."}
{"id":"gr-75","content_hash":"c52049fcec8064849a905cc2604223e5981d7ae95f044174284942cc57481821","title":"Add view density toggle (compact/comfortable/spacious)","description":"Allow users to choose article list density to fit their preference and screen size.\n\nThree density modes:\n1. Compact - 8px padding, smaller fonts, more items visible\n2. Comfortable - Current default (16px padding)\n3. Spacious - 24px padding, larger fonts, easier reading\n\nImplementation:\n- Toggle in header or settings\n- Apply CSS class to article-list container\n- Store preference in localStorage\n- Different densities for desktop vs mobile\n- Update min-height for touch targets on mobile\n\nBenefits:\n- Power users can see more items\n- Users with vision issues can use spacious mode\n- Customization improves user satisfaction\n\nFiles to modify:\n- web/static/css/styles.css (density classes)\n- web/static/js/app.js (toggle logic)\n- web/templates/index.html (toggle UI)","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-24T19:03:13.356477939Z","updated_at":"2025-11-24T21:24:46.65445808Z","source_repo":"."}
{"id":"gr-76","content_hash":"d5676ed4c46e3bc8f1f5c3f2e0970725547110092d55b281d6c681ac5fe889e9","title":"Add table of contents for long articles","description":"Auto-generate table of contents from article headings for easier navigation in long articles.\n\nFeatures:\n- Scan article content for h2, h3 headings\n- Generate collapsible TOC sidebar or floating menu\n- Smooth scroll to section on click\n- Highlight current section as user scrolls\n- Only show for articles with 3+ headings\n- Minimize/collapse option\n\nImplementation:\n- Parse article HTML for heading tags\n- Generate TOC list with anchor links\n- Add IDs to headings if missing\n- Track scroll position to highlight active section\n- Responsive: drawer on mobile, sidebar on desktop\n\nDesign options:\n1. Fixed sidebar on right (desktop only)\n2. Floating button that opens TOC overlay\n3. Expandable panel at top of article\n\nFiles to modify:\n- web/static/js/app.js (TOC generation, scroll tracking)\n- web/static/css/styles.css (TOC styling)\n- Integrate with article content rendering","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-24T19:03:13.35883751Z","updated_at":"2025-11-24T21:24:46.651289476Z","source_repo":"."}
{"id":"gr-77","content_hash":"d5df019ff40ffa277dc88dc4f320be853f802a2e7595480f7bd36ef3068c33b5","title":"Add custom accent color picker","description":"Allow users to customize the app accent color beyond the default blue.\n\nCurrent state:\n- Hardcoded blue (#1a73e8) throughout app\n- Very Google-like, no personalization\n\nImplementation:\n- Color picker in settings/account page\n- Preset color options (blue, green, purple, orange, red)\n- Custom color picker for advanced users\n- Update CSS variables dynamically\n- Store in user preferences (backend) or localStorage\n- Apply to: buttons, links, active states, badges\n\nCSS variables to add:\n--color-primary\n--color-primary-hover\n--color-primary-light\n--color-primary-dark\n\nEnsure:\n- Sufficient contrast ratios maintained\n- Works with both light and dark modes\n- Preview before applying\n\nFiles to modify:\n- web/static/css/styles.css (CSS variables)\n- web/static/js/app.js or account.js (color picker)\n- web/templates/account.html (settings UI)\n- Backend: Store user preference","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-15T20:18:15.651282-08:00","updated_at":"2025-11-24T21:24:46.671125403Z","source_repo":"."}
{"id":"gr-78","content_hash":"fd1b250dae6809fdb9fe6757231e9e2d8ffc55c753b1a91cc867d8fe8158b5bc","title":"Add global search for articles","description":"Implement search functionality to find articles across all feeds.\n\nSearch capabilities:\n- Search article titles and content\n- Filter by feed\n- Filter by date range\n- Filter by read/unread/starred status\n- Search as you type (debounced)\n- Keyboard shortcut to open search (/ or Cmd+K)\n\nUI:\n- Search bar in header or modal overlay\n- Show results in article list pane\n- Highlight search terms in results\n- Show match count\n- Clear search easily\n\nBackend requirements:\n- May need full-text search index\n- Pagination for results\n- Fast search performance\n\nAdvanced features (future):\n- Save searches\n- Search history\n- Boolean operators (AND, OR, NOT)\n- Regex support for power users\n\nFiles to modify:\n- Backend: Add search API endpoint\n- web/static/js/app.js (search UI and logic)\n- web/static/css/styles.css (search styling)\n- web/templates/index.html (search input)\n- May need database indexes for performance","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-24T19:03:13.360493445Z","updated_at":"2025-11-24T21:24:46.341337917Z","source_repo":"."}
{"id":"gr-79","content_hash":"4fe665c8bbe5eb79bd0a404500ddb579d3315d2ebfa582ab35431a7dcf766289","title":"Implement virtual scrolling for performance","description":"Add virtual scrolling for feed and article lists to improve performance with large datasets.\n\nCurrent issues:\n- All items rendered in DOM even if not visible\n- Performance degrades with 100+ feeds or 1000+ articles\n- Memory usage grows unnecessarily\n\nVirtual scrolling benefits:\n- Only render visible items + buffer\n- Constant performance regardless of list size\n- Lower memory footprint\n- Smoother scrolling\n\nImplementation approach:\n- Use library (react-window, vue-virtual-scroller) or custom\n- Calculate item heights dynamically\n- Maintain scroll position correctly\n- Handle variable height items (articles have different heights)\n\nChallenges:\n- Article items have variable heights\n- Need to measure rendered items\n- Scroll position restoration\n- Search and filtering interactions\n\nLists to virtualize:\n1. Feed list (if user has 50+ feeds)\n2. Article list (main performance concern)\n\nTesting:\n- Test with 1000+ articles\n- Ensure smooth 60fps scrolling\n- Verify keyboard navigation still works\n- Check mobile scroll behavior\n\nFiles to modify:\n- web/static/js/app.js (virtual scrolling logic)\n- web/static/css/styles.css (virtual list container)\n- Consider adding a lightweight library","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-24T19:03:13.362968455Z","updated_at":"2025-11-24T21:24:46.648246515Z","source_repo":"."}
{"id":"gr-7oq","content_hash":"6c7e58091cb4805fcfc3982f3be0ec872037ac6330b735444e057b4c2af0300f","title":"No limit on feed body size in fetchFeed","description":"fetchFeed uses io.ReadAll without size limit. Malicious feed could send GB of data causing OOM.\n\nLocation: internal/services/feed_service.go:530\nImpact: DoS via large feed payloads, memory exhaustion\n\nFix: Use io.LimitReader with reasonable limit (e.g., 10MB)","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T20:04:48.174138-08:00","updated_at":"2025-11-24T21:24:46.265620104Z","source_repo":"."}
{"id":"gr-7tpb","content_hash":"923c8515e839a483a83fff6bdb6c308d2f48acd329bd8e9c1ea8bf4ab1b5a7c5","title":"url_validator.go:CreateSecureHTTPClient has hardcoded timeouts","description":"Lines 126-155 create HTTP client with hardcoded timeout values (30s dial, 10s TLS, 10s headers, 1s expect-continue). These aren't configurable and may not suit all feed sources. Issue: Some slow feeds may need longer timeouts, fast feeds could use shorter. No way to customize per use case. Fix: Accept timeout configuration via URLValidator constructor or CreateSecureHTTPClient parameters.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:08:59.321238-08:00","updated_at":"2025-11-24T21:24:46.469127795Z","source_repo":"."}
{"id":"gr-80","content_hash":"91967dcd687d105cbae9e32d74eccd345da0c765881ce93aea78e5810a8bb9be","title":"Optimize tablet sidebar UX","description":"Improve tablet sidebar interaction and layout for better UX on tablet devices.\n\nCurrent issues:\n- 340px sidebar is too wide, obscures too much content\n- No swipe-from-left gesture to open sidebar\n- Feeds limited to 40% height feels cramped\n- Backdrop opacity (0.3) too subtle\n\nImprovements:\n1. Reduce sidebar width from 340px to 320px\n2. Add swipe-from-left gesture to open sidebar (not just FAB)\n3. Add swipe-right gesture to close sidebar\n4. Make feed/article divider draggable or feeds collapsible\n5. Increase backdrop opacity to 0.4-0.5\n6. Add slight blur effect to content when sidebar open\n7. Consider 50px sidebar peek when closed\n8. Add landscape-specific layout (side-by-side feeds + articles)\n\nAdditional features:\n- Animated pulse on FAB on first load\n- Dismissible help message with localStorage\n- Better visual cue for sidebar availability\n\nFiles to modify:\n- web/static/css/styles.css (tablet media queries, lines 993-1224)\n- web/static/js/app.js (swipe gestures, sidebar logic)\n- web/templates/index.html (help message)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-24T19:03:13.365077965Z","updated_at":"2025-11-24T21:24:46.337133543Z","source_repo":"."}
{"id":"gr-81","content_hash":"c08401f53f561bccdb8ff9884bedf98c974d2758ae1bdfa0897e3518d47967c2","title":"Add reading mode with font customization","description":"Add a focused reading mode with font customization options.\n\nFeatures:\n1. Reading mode toggle (distraction-free)\n   - Hide feed and article panes\n   - Full-screen article content\n   - Exit button or ESC key to exit\n\n2. Font options:\n   - Sans-serif (current: Inter) \n   - Serif (Georgia, Charter)\n   - System font option\n   \n3. Font size controls:\n   - Small, Medium (default), Large, Extra Large\n   - Or slider with px values (14-22px)\n   \n4. Line spacing options:\n   - Tight (1.5)\n   - Normal (1.6-1.8, current)\n   - Relaxed (2.0)\n   \n5. Content width:\n   - Narrow (600px)\n   - Medium (700px, default)\n   - Wide (900px)\n   - Full width\n\nStorage:\n- Save preferences in localStorage\n- Persist across sessions\n\nUI:\n- Settings panel/dropdown in content pane header\n- Keyboard shortcut for reading mode (F key?)\n- Mobile: simplified controls\n\nFiles to modify:\n- web/static/css/styles.css (reading mode styles, font variables)\n- web/static/js/app.js (reading mode toggle, settings)\n- web/templates/index.html (settings UI)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-24T19:03:13.367507077Z","updated_at":"2025-11-24T21:24:46.331280413Z","source_repo":"."}
{"id":"gr-82","content_hash":"789230e83786678e2cde8e9cbd103c66b1b2a36b360431b35b8b4c4447e9b8af","title":"Add keyboard shortcut improvements","description":"Enhance keyboard shortcuts with better discoverability and more functionality.\n\nCurrent shortcuts (working):\n- j/k: Next/previous article\n- o/Enter: Open article in new tab\n- m: Toggle read/unread\n- s: Toggle star\n- r: Refresh feeds\n\nImprovements:\n\n1. Discoverability:\n   - Add persistent '?' button in header\n   - Show keyboard shortcuts in tooltips\n   - Visual indicator when shortcut is available\n   - Quick reference card (Cmd/Ctrl + /)\n\n2. New shortcuts:\n   - /: Focus search (when implemented)\n   - a: Mark all as read\n   - g+f: Go to feeds\n   - g+a: Go to all articles\n   - ESC: Close modals, exit reading mode\n   - 1-9: Jump to first 9 feeds\n   - u: Refresh current feed\n   - v: Open article in current tab\n\n3. Visual feedback:\n   - Show key presses on screen (like Gmail)\n   - Animate selected item when using j/k\n   - Confirm actions (checkmark for mark as read)\n\n4. Help modal improvements:\n   - Group shortcuts by category\n   - Show actual key glyphs (‚åò vs Cmd)\n   - Search shortcuts\n   - Customizable shortcuts (advanced)\n\nFiles to modify:\n- web/static/js/app.js (keyboard handler)\n- web/templates/index.html (help modal, ? button)\n- web/static/css/styles.css (visual feedback)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-24T19:03:13.369558701Z","updated_at":"2025-11-24T21:24:46.327743932Z","source_repo":"."}
{"id":"gr-83","content_hash":"3c2187210ad921d2871e0c471a5cc4ba7889572147fa3885aaaa957be0c9a78b","title":"Add feed grouping and organization features","description":"Add ability to group and organize feeds into folders/categories.\n\nCurrent state:\n- Flat feed list\n- No way to organize feeds\n- Becomes unwieldy with many feeds\n- gr-19 exists for feed ordering, this is for grouping\n\nFeatures:\n\n1. Folder/Category support:\n   - Create folders (e.g., Tech, News, Blogs)\n   - Drag and drop feeds into folders\n   - Expand/collapse folders\n   - Show unread count per folder\n   - 'All Articles' view shows all folders\n\n2. Visual organization:\n   - Indent feeds within folders\n   - Folder icons (üìÅ or SVG)\n   - Color coding for folders (optional)\n   - Compact folder view option\n\n3. Folder operations:\n   - Mark all as read in folder\n   - Refresh all feeds in folder\n   - Rename folder\n   - Delete folder (keeps feeds)\n\n4. Import/Export:\n   - OPML import should preserve folders\n   - OPML export includes folder structure\n\n5. UI/UX:\n   - Context menu for feed management\n   - Keyboard shortcuts (g+folder-name)\n   - Search within folder\n\nStorage:\n- Backend: folder metadata per user\n- Associate feeds with folder IDs\n- Default 'Uncategorized' folder\n\nDependencies:\n- Blocks or relates to gr-19 (feed ordering)\n\nFiles to modify:\n- Backend: Add folders table, update feed schema\n- web/static/js/app.js (folder UI, drag-drop)\n- web/static/css/styles.css (folder styling)\n- web/templates/index.html (folder structure)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-10-21T15:48:32.220064Z","updated_at":"2025-11-24T21:24:46.583641929Z","source_repo":"."}
{"id":"gr-84","content_hash":"6e0bcb450e1e8c94244e94d06c6d87aef779b44e311816c8b7310b4171dd1f2a","title":"Add unread count and total count display","description":"Improve article count visibility by showing both unread and total counts.\n\nCurrent state:\n- Only shows unread count as badge\n- Badge disappears when count is 0\n- No context for total articles available\n\nImprovements:\n\n1. Feed list counts:\n   - Show 'X / Y' format (unread / total)\n   - Or 'X unread' with total on hover\n   - Subtle 'All caught up' indicator when unread = 0\n   - Total count helps gauge feed activity\n\n2. Article pane header:\n   - Show count of filtered articles\n   - E.g., 'Showing 15 unread articles' or 'Showing 50 articles'\n   - Update dynamically as articles load\n\n3. 'All Articles' view:\n   - Show total across all feeds\n   - E.g., '127 unread / 450 total'\n\n4. Visual design:\n   - Keep unread badge prominent (current blue)\n   - Total count in gray/subtle text\n   - Don't clutter UI on mobile\n\n5. Settings option:\n   - Toggle to show/hide total counts\n   - Some users only care about unread\n\nFiles to modify:\n- web/static/js/app.js (count calculation and display)\n- web/static/css/styles.css (count styling)\n- Backend: May need to return total counts in API","status":"open","priority":2,"issue_type":"feature","created_at":"2025-10-21T15:48:42.140264Z","updated_at":"2025-11-24T21:24:46.579226334Z","source_repo":"."}
{"id":"gr-85","content_hash":"8819815f2a454d4828324bd0122a9f6f899cc370abbeb004e513a5e364bf029d","title":"Add animation and micro-interaction polish","description":"Add smooth animations and micro-interactions throughout the app for a more polished feel.\n\nCurrent state:\n- Some basic hover transitions\n- Mobile pane transitions exist\n- Could be more delightful\n\nAnimations to add:\n\n1. List interactions:\n   - Smooth fade-in when articles load\n   - Slide animation when marking as read\n   - Bounce when starring\n   - Ripple effect on tap (mobile)\n\n2. Modal animations:\n   - Slide up from bottom on mobile (vs fade)\n   - Backdrop fade in\n   - Content scale-in slightly\n\n3. Button feedback:\n   - Scale slightly on press (0.95)\n   - Color transition smoothing\n   - Loading state animations\n\n4. Pane transitions:\n   - Smooth slide transitions on mobile nav\n   - Fade between content changes\n   - Skeleton ‚Üí content fade\n\n5. Contextual animations:\n   - Success checkmark when action completes\n   - Error shake on failed validation\n   - Article count badge animate on change\n   - Pulse on new articles\n\n6. Scroll effects:\n   - Header shadow on scroll\n   - Smooth scroll to top button\n   - Scroll progress indicator\n\nPerformance:\n- Use CSS transforms (GPU accelerated)\n- Respect prefers-reduced-motion\n- Keep animations under 300ms\n- Use requestAnimationFrame for JS animations\n\nFiles to modify:\n- web/static/css/styles.css (animation keyframes, transitions)\n- web/static/js/app.js (trigger animations)\n- Add utility animation classes","status":"open","priority":2,"issue_type":"task","created_at":"2025-10-21T15:48:54.228141Z","updated_at":"2025-11-24T21:24:46.576886342Z","source_repo":"."}
{"id":"gr-89h","content_hash":"8eda9d35d276c521bce126dee859f38c8c0cfbefc1bd51dc241d0a8f0e268e95","title":"Update WarnAboutUnhandledEnvVars to include all config variables","description":"The handledVars map in WarnAboutUnhandledEnvVars is missing several environment variables that are actually handled by the application, causing false warnings.\n\nLocation: internal/config/validation.go:130-177\n\nMissing variables:\n- RATE_LIMIT_REQUESTS_PER_MINUTE (used in config.go:80)\n- RATE_LIMIT_BURST_SIZE (used in config.go:81)\n- SCHEDULER_UPDATE_WINDOW (used in config.go:82)\n- SCHEDULER_MIN_INTERVAL (used in config.go:83)\n- SCHEDULER_MAX_CONCURRENT (used in config.go:84)\n- SCHEDULER_CLEANUP_INTERVAL (used in config.go:85)\n- DATABASE_PATH (used in config.go:61)\n- CSRF_SECRET (used in internal/auth/csrf.go)\n- ENVIRONMENT (checked in internal/auth/session.go)\n- GAE_ENV (checked in multiple places)\n\nImpact:\nUsers will see false warnings like 'WARNING: Environment variable RATE_LIMIT_REQUESTS_PER_MINUTE may not be handled' even though it is handled.\n\nFix:\nAdd all missing variables to the handledVars map.\n\nPriority: Medium - causes confusion but doesn't break functionality","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T19:49:12.591643-08:00","updated_at":"2025-11-24T21:24:46.551245225Z","source_repo":"."}
{"id":"gr-90","content_hash":"d116dafab970bb49e4950e2f67aa6710ece4c33d40fe5b7a2a36460a9a2900cd","title":"iPad landscape mode: Navigation buttons hidden behind Safari chrome","description":"","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-01T18:09:05.351225Z","updated_at":"2025-11-24T21:24:46.571048756Z","source_repo":"."}
{"id":"gr-9pm","content_hash":"ba18c2917386775c30a66b15e89fbdc5e301016a8acce2b49daa55835c5cf9b7","title":"Weak local cron authentication","description":"Local cron endpoints only check user.IsAdmin without requiring ADMIN_TOKEN. Any admin user can trigger expensive operations.\n\nLocation: internal/handlers/feed_handler.go:288-294, 332-337\nImpact: Privileged users can trigger expensive cron operations\n\nFix: Require ADMIN_TOKEN header even for authenticated admin users in local env","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T19:57:21.933854-08:00","updated_at":"2025-11-24T21:24:46.290166255Z","source_repo":"."}
{"id":"gr-apn","content_hash":"fb5a240fe561ae38dff0eb03e0aa42154f2ee4198e5a6a451a9e9b19d725fcd4","title":"Insufficient test coverage for handlers","description":"Handler test files only test constructors, not actual HTTP handler logic with full request/response cycle.\n\nLocation: internal/handlers/*_test.go (except admin_handler_test.go)\nImpact: Low confidence in handler behavior, regression risk\n\nFix: Add comprehensive handler tests with mock requests/responses","status":"open","priority":3,"issue_type":"chore","created_at":"2025-11-15T19:58:04.043367-08:00","updated_at":"2025-11-24T21:24:46.694139586Z","source_repo":"."}
{"id":"gr-b96bca08","content_hash":"e7d706e61d3496e7e201bdb2e9755aea7a0b46df975b3084ecae14fdedc2b319","title":"Allow me to edit the names of my feeds","description":"Note this can only affect my feeds and not everyone who subscribes to the feeds.","status":"open","priority":2,"issue_type":"task","created_at":"2025-10-14T18:43:55.59938Z","updated_at":"2025-11-24T21:24:46.621744213Z","external_ref":"gh-15","source_repo":"."}
{"id":"gr-bgb","content_hash":"80964a65ba3d6cd8a67564744b6e48f5db2d987cb04acf94d791b48c3ecb170f","title":"No memory limit on RequestCache","description":"RequestCache has no size limit. In long-running requests with many user lookups, cache could grow unbounded.\n\nLocation: internal/middleware/request_cache.go:12-15, 22\nImpact: Memory leak in pathological cases (e.g., admin viewing many users)\n\nFix: Add LRU eviction or max entry count limit","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T19:59:53.739588-08:00","updated_at":"2025-11-24T21:24:46.515104426Z","source_repo":"."}
{"id":"gr-bgt","content_hash":"3901f7ffbc241fbddb71bbbc11ed82e1e46b29fb1b86e93227884af05828354b","title":"Inefficient Datastore batch chunking","description":"Batch operations chunk into groups of 100, but Datastore limit is 1000. Processing 10x slower than necessary.\n\nLocation: internal/database/datastore.go:1267-1328\nImpact: Batch operations take 10x longer than necessary\n\nFix: Change chunk size from 100 to 1000 (or make configurable)","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T19:54:23.010393-08:00","updated_at":"2025-11-24T21:24:46.539862318Z","source_repo":"."}
{"id":"gr-bih","content_hash":"e9e617a785241c5879b6b84647cf49abd904abe7d472325e83f3fbf864bb9895","title":"Hardcoded site-specific feed URLs","description":"addFeedForUserInternal has hardcoded feed URLs for specific sites (slashdot, nytimes, seattletimes). Unmaintainable and breaks if sites change feeds.\n\nLocation: internal/services/feed_service.go:234-240\nImpact: Brittle, requires code changes when sites change feeds\n\nFix: Use feed discovery for all sites or externalize to configuration","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T20:04:42.173323-08:00","updated_at":"2025-11-24T21:24:46.268147223Z","source_repo":"."}
{"id":"gr-btu","content_hash":"8e35236dcea00197e38be518fb47d94c7a6c44ce635fcdb3890f829384f2574e","title":"Hardcoded feed limit in error messages","description":"Feed limit value '20' is hardcoded in multiple error messages instead of using services.FreeTrialFeedLimit constant.\n\nLocation: internal/handlers/feed_handler.go:68, 567\nImpact: Maintenance burden, error messages can become stale\n\nFix: Use constant in all error messages","status":"open","priority":2,"issue_type":"chore","created_at":"2025-11-15T19:57:39.91198-08:00","updated_at":"2025-11-24T21:24:46.521471884Z","source_repo":"."}
{"id":"gr-bub","content_hash":"168bf5caa44da267bce7641e47d0dd886e8d02b200ee314fe46db0ce574edc44","title":"Add logging for config parsing failures","description":"parseInt and parseDuration silently return default values when parsing fails, which can hide configuration errors from users.\n\nLocation: internal/config/config.go:154-175\n\nProblem:\nWhen parsing fails, functions silently use defaults without logging. User won't know their config was invalid.\n\nExample scenario:\n- User sets RATE_LIMIT_REQUESTS_PER_MINUTE=abc123\n- Parsing fails silently, uses default 120\n- User thinks rate limit is configured but it's using default\n- No indication of error\n\nCurrent behavior:\nfunc parseInt(value string, defaultValue int) int {\n    if value == \"\" {\n        return defaultValue\n    }\n    if parsed, err := strconv.Atoi(value); err == nil {\n        return parsed\n    }\n    return defaultValue  // Silent failure!\n}\n\nRecommended fix:\nfunc parseInt(value string, defaultValue int) int {\n    if value == \"\" {\n        return defaultValue\n    }\n    if parsed, err := strconv.Atoi(value); err == nil {\n        return parsed\n    }\n    log.Printf(\"WARNING: Failed to parse integer value '%s', using default %d: %v\", value, defaultValue, err)\n    return defaultValue\n}\n\nSame fix needed for parseDuration().\n\nImpact: Configuration errors may go unnoticed in production\nPriority: Medium - can cause silent misconfigurations","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T19:49:26.78993-08:00","updated_at":"2025-11-24T21:24:46.545272526Z","source_repo":"."}
{"id":"gr-bxs","content_hash":"b3270133964ae01aaea0014d834c0952ed77dab7d73351794f19077ce829feb8","title":"Add context-aware cleanup for graceful shutdown","description":"Enhancement: Make cache cleanup goroutines context-aware for graceful application shutdown.\n\nLocations:\n- internal/cache/unread_cache.go\n- internal/cache/feed_list_cache.go\n\nCurrent implementation:\n- Cleanup goroutines run indefinitely\n- No graceful shutdown mechanism\n- Could cause issues during deployment/restart\n\nRecommended implementation:\n1. Add Start(ctx context.Context) method\n2. Use context for cleanup goroutine lifecycle\n3. Support graceful shutdown\n\nExample:\nfunc (uc *UnreadCache) Start(ctx context.Context) {\n    go uc.cleanupExpiredEntries(ctx)\n}\n\nfunc (uc *UnreadCache) cleanupExpiredEntries(ctx context.Context) {\n    ticker := time.NewTicker(5 * time.Minute)\n    defer ticker.Stop()\n    \n    for {\n        select {\n        case \u003c-ticker.C:\n            // ... cleanup logic\n        case \u003c-ctx.Done():\n            return  // Graceful shutdown\n        }\n    }\n}\n\nBenefits:\n- Cleaner shutdown behavior\n- Better testing support\n- More production-ready\n\nImpact: Enhancement - improves production readiness\nPriority: Low - nice to have for production deployments","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-15T19:47:23.109328-08:00","updated_at":"2025-11-24T21:24:46.720605719Z","source_repo":"."}
{"id":"gr-c5u","content_hash":"9fca44424fbd0fe60d4130b337479a62fe2ba6da66eb87e98d6eb9716229c59d","title":"No cache invalidation mechanism","description":"RequestCache has no way to invalidate entries if data changes during request (e.g., user subscribes to feed).\n\nLocation: internal/middleware/request_cache.go\nImpact: Stale data returned within same request after mutations\n\nFix: Add InvalidateUserFeeds(userID) method or clear on mutation","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-15T20:00:11.786632-08:00","updated_at":"2025-11-24T21:24:46.690789318Z","source_repo":"."}
{"id":"gr-csn","content_hash":"b757e6bf61bfbc1fff0c57c4f30f8aa54c0eb3a4921ef2bdad22574aa91ea4b9","title":"Session looked up multiple times per request","description":"GetSessionFromRequest is called in every auth middleware (RequireAuth, RequireAdmin, OptionalAuth) without caching. Multiple DB/cache lookups per request.\n\nLocation: internal/auth/middleware.go:28, 61, 72\nImpact: Unnecessary session store lookups, performance impact\n\nFix: Cache session in request context on first lookup","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:00:05.79197-08:00","updated_at":"2025-11-24T21:24:46.511135169Z","source_repo":"."}
{"id":"gr-cwn","content_hash":"2f4efdda0056761e5e7dbfbf6878f8d620821a0eb3d91435f973bcab7d1e9a45","title":"Add sanity checking for duration config values","description":"Duration configuration values have no sanity checking, allowing invalid or problematic values.\n\nLocation: internal/config/config.go:82-86\n\nProblem:\n- Negative durations allowed\n- Zero durations allowed (would cause tight loops in schedulers)\n- Extremely short durations could cause performance issues\n- No validation that intervals make sense relative to each other\n\nAffected values:\n- SchedulerUpdateWindow (should be \u003e 0, typically \u003e= 1 minute)\n- SchedulerMinInterval (should be \u003e 0, typically \u003e= 1 minute)\n- SchedulerCleanupInterval (should be \u003e 0, typically \u003e= 5 minutes)\n\nAdditional validation:\n- SchedulerMinInterval should be \u003c SchedulerUpdateWindow (otherwise no feeds update)\n\nRecommended implementation:\nfunc validateSchedulerConfig(cfg *Config) error {\n    if cfg.SchedulerUpdateWindow \u003c= 0 {\n        return fmt.Errorf(\"SCHEDULER_UPDATE_WINDOW must be positive\")\n    }\n    if cfg.SchedulerMinInterval \u003c= 0 {\n        return fmt.Errorf(\"SCHEDULER_MIN_INTERVAL must be positive\")\n    }\n    if cfg.SchedulerMinInterval \u003e cfg.SchedulerUpdateWindow {\n        return fmt.Errorf(\"SCHEDULER_MIN_INTERVAL (%v) must be less than SCHEDULER_UPDATE_WINDOW (%v)\",\n            cfg.SchedulerMinInterval, cfg.SchedulerUpdateWindow)\n    }\n    // Warn about very short durations\n    if cfg.SchedulerMinInterval \u003c time.Minute {\n        log.Printf(\"WARNING: Very short SCHEDULER_MIN_INTERVAL: %v\", cfg.SchedulerMinInterval)\n    }\n    return nil\n}\n\nImpact: Invalid configs could cause scheduler issues or performance problems\nPriority: Low - edge case but prevents foot-shooting","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-15T19:49:57.739376-08:00","updated_at":"2025-11-24T21:24:46.717357039Z","source_repo":"."}
{"id":"gr-dij","content_hash":"5cd76116376d4c979026b2afdb5c54b372fcf628bf744598afac19fb20996a76","title":"Magic string for cache context key","description":"String 'request_cache' used for context key is not a constant, could lead to typos.\n\nLocation: internal/middleware/request_cache.go:24, 38\nImpact: Potential bugs from typos, harder to refactor\n\nFix: Define as constant: const RequestCacheKey = 'request_cache'","status":"open","priority":3,"issue_type":"chore","created_at":"2025-11-15T20:00:23.787543-08:00","updated_at":"2025-11-24T21:24:46.687772887Z","source_repo":"."}
{"id":"gr-dj4","content_hash":"06f5aa101c07cc613f412391e82fce78751825bbc309dd9a449d075aaa6a4cd2","title":"Add bounds validation for numeric config values","description":"Numeric configuration values have no bounds checking, allowing invalid values that could break functionality.\n\nLocation: internal/config/config.go:80-85\n\nProblem:\n- Negative values allowed (would break rate limiter)\n- Zero values allowed (would break scheduler)\n- Extremely large values allowed (could cause resource issues)\n\nAffected values:\n- RateLimitRequestsPerMinute (must be \u003e 0)\n- RateLimitBurstSize (must be \u003e 0)\n- SchedulerMaxConcurrent (must be \u003e 0, reasonable max like 1000)\n\nRecommended implementation:\n1. Create validation function for each config type\n2. Call during Load() or add ValidateConfig() method\n3. Log warnings or fail fast for invalid values\n\nExample:\nfunc validateRateLimitConfig(cfg *Config) error {\n    if cfg.RateLimitRequestsPerMinute \u003c= 0 {\n        return fmt.Errorf(\"RATE_LIMIT_REQUESTS_PER_MINUTE must be positive, got %d\", cfg.RateLimitRequestsPerMinute)\n    }\n    if cfg.RateLimitBurstSize \u003c= 0 {\n        return fmt.Errorf(\"RATE_LIMIT_BURST_SIZE must be positive, got %d\", cfg.RateLimitBurstSize)\n    }\n    // Add reasonable maximums\n    if cfg.RateLimitRequestsPerMinute \u003e 10000 {\n        log.Printf(\"WARNING: Very high rate limit %d req/min\", cfg.RateLimitRequestsPerMinute)\n    }\n    return nil\n}\n\nImpact: Invalid configs could cause runtime errors or performance issues\nPriority: Low - edge case but good defensive programming","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-15T19:49:42.814023-08:00","updated_at":"2025-11-24T21:24:46.719701503Z","source_repo":"."}
{"id":"gr-e73","content_hash":"4944fa2c5179c64ccfab50266154cdf0e550ce6720e8959ec7fd95fa100efc30","title":"Missing composite index on user_articles","description":"GetUserUnreadCounts queries user_articles by (user_id, is_read) frequently, but only has index on user_id.\n\nLocation: internal/database/schema.go (CreateIndexes)\nImpact: Slow unread count queries, especially for users with many articles\n\nFix: Add composite index on (user_id, is_read)","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T19:54:28.979272-08:00","updated_at":"2025-11-24T21:24:46.537062002Z","source_repo":"."}
{"id":"gr-fpj","content_hash":"691cd11013a2d6421228c74662408789508641e8818219068e53ce58cf2972e4","title":"Add email format validation to INITIAL_ADMIN_EMAILS","description":"Email parsing for INITIAL_ADMIN_EMAILS doesn't validate email format, allowing invalid emails to be configured.\n\nLocations:\n- internal/config/config.go:134-151 (parseEmailList)\n- internal/config/validation.go:119-125 (validateOtherConfig checks existence but not format)\n\nProblem:\nCurrent validation only checks if emails exist after parsing, not if they're valid emails.\n\nExample:\nINITIAL_ADMIN_EMAILS=foo,bar,baz\nThis would be accepted even though these aren't email addresses.\n\nRecommended fix:\nAdd basic email validation to parseEmailList():\n\nimport \"regexp\"\n\nvar emailRegex = regexp.MustCompile(`^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$`)\n\nfunc parseEmailList(value string) []string {\n    if value == \"\" {\n        return nil\n    }\n\n    emails := strings.Split(value, \",\")\n    var result []string\n\n    for _, email := range emails {\n        email = strings.TrimSpace(email)\n        if email == \"\" {\n            continue\n        }\n        \n        // Validate email format\n        if !emailRegex.MatchString(email) {\n            log.Printf(\"WARNING: Invalid email format in INITIAL_ADMIN_EMAILS: %s\", email)\n            continue  // Skip invalid emails\n        }\n        \n        result = append(result, email)\n    }\n\n    return result\n}\n\nAlternative: Use a proper email validation library for more robust checking.\n\nImpact: Invalid admin emails would fail silently, admin wouldn't be granted privileges\nPriority: Low - usually noticed quickly when admin can't access features","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-15T19:50:30.560919-08:00","updated_at":"2025-11-24T21:24:46.708201155Z","source_repo":"."}
{"id":"gr-fyqh","content_hash":"823b18b0f2cf45e3f2b093de5cc074fd1b66880c7f4b583124dfc5026a0a86fd","title":"subscription_service.go:ValidateAdminToken ignores timestamp update errors","description":"In ValidateAdminToken (lines 280-286 for SQLite, 308-316 for Datastore), the last_used_at timestamp update errors are logged but don't fail validation. If the update fails, token usage tracking becomes unreliable. Error: 'Warning: Failed to update last_used_at' is printed but validation still succeeds. Fix: Return error if timestamp update fails, or at minimum track failed updates for monitoring.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T20:08:35.413461-08:00","updated_at":"2025-11-24T21:24:46.258011862Z","source_repo":"."}
{"id":"gr-ge4","content_hash":"c5cebab229d99fcc98a2621589771feae24f4d180a95c673e4d5c581ff83c403","title":"Silent failure on duplicate article insert","description":"AddArticle uses INSERT OR IGNORE which silently fails on duplicate URL. Returns LAST_INSERT_ID which may be 0 for ignored inserts.\n\nLocation: internal/database/schema.go:470-491\nImpact: Could lead to incorrect article ID assignment\n\nFix: Use INSERT ... ON CONFLICT DO UPDATE or explicitly check for duplicates first","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T19:54:11.173647-08:00","updated_at":"2025-11-24T21:24:46.301404818Z","source_repo":"."}
{"id":"gr-h13","content_hash":"b73aa90ff26bfc66cd949696fea5534102317cf5d72a58806ace22861493c983","title":"Missing validation on pagination limit","description":"GetArticles accepts limit up to 200 without checking against reasonable per-user limits or total system load.\n\nLocation: internal/handlers/feed_handler.go:163-166\nImpact: Users can request excessive data, performance impact\n\nFix: Add configurable max limit and validate against it","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T19:57:33.907762-08:00","updated_at":"2025-11-24T21:24:46.52443611Z","source_repo":"."}
{"id":"gr-igo2","content_hash":"1e7b2d7eb5b3b860b582288ca5c974b01cd92c2704ef501b94b77307d00d389d","title":"Regex compilation on every HTML parse","description":"extractFeedLinksFromHTML compiles regex patterns on every call inside loop. Inefficient, should compile once.\n\nLocation: internal/services/feed_discovery.go:173-174\nImpact: CPU waste, slower feed discovery\n\nFix: Compile regex patterns once at package init or struct creation","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:05:12.288942-08:00","updated_at":"2025-11-24T21:24:46.474219426Z","source_repo":"."}
{"id":"gr-kcq3","content_hash":"1db3c07702dbbd10293d2a68ec93237644c36f49e2b7b03b6c8992a5cc774dd1","title":"OPML import has no deduplication","description":"ImportOPMLWithLimits doesn't check if user is already subscribed to feeds. Duplicates allowed, wastes limit quota.\n\nLocation: internal/services/feed_service.go:911-942\nImpact: User confusion, limit consumed by duplicates\n\nFix: Check existing subscriptions before import","status":"open","priority":3,"issue_type":"bug","created_at":"2025-11-15T20:05:18.324911-08:00","updated_at":"2025-11-24T21:24:46.6785543Z","source_repo":"."}
{"id":"gr-lmz","content_hash":"2d481ea7403d34833aeafad8bd9e477413be47dd51d640047ab522475c7dd2f2","title":"Test coverage only tests env var paths","description":"secrets_test.go only tests environment variable fallback. No tests for actual Secret Manager integration (would need mocking).\n\nLocation: internal/secrets/secrets_test.go\nImpact: Low confidence in Secret Manager integration, regression risk\n\nFix: Add integration tests or mock Secret Manager client for unit tests","status":"open","priority":3,"issue_type":"chore","created_at":"2025-11-15T20:03:05.53829-08:00","updated_at":"2025-11-24T21:24:46.680460882Z","source_repo":"."}
{"id":"gr-m0d","content_hash":"ae35ece0fb1fae648e9e28d1b24c5baf4d0140a2f676d6e8fad9727164c1d13b","title":"Error string comparison instead of types","description":"CreateCheckoutSession compares error.Error() string instead of using typed errors.\n\nLocation: internal/handlers/payment_handler.go:49\nImpact: Brittle error handling, breaks if error message changes\n\nFix: Use errors.Is() with properly defined error types","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T19:57:27.914829-08:00","updated_at":"2025-11-24T21:24:46.527391315Z","source_repo":"."}
{"id":"gr-mtg","content_hash":"bbfbc36857b317e929c659957c2a7b2426b96bab07a08df483688d748dd2b1af","title":"Magic number for secret prefix check","description":"Hardcoded '8' for length check in '_secret:' prefix detection. Should be constant.\n\nLocation: internal/secrets/secrets.go:47, 59\nImpact: Maintenance burden, magic number unclear\n\nFix: Define const SecretPrefixLength = 8 or use len('_secret:')","status":"open","priority":3,"issue_type":"chore","created_at":"2025-11-15T20:02:53.432863-08:00","updated_at":"2025-11-24T21:24:46.684798759Z","source_repo":"."}
{"id":"gr-n6y","content_hash":"a8183c8ee96c8e4dad5c183a4021eec73d2e2bbd84e0a76fb039c4b0b357d60b","title":"Duplicate cron auth logic across handlers","description":"Cron authentication pattern (checking X-Appengine-Cron and admin auth) is duplicated in RefreshFeeds and CleanupOrphanedUserArticles.\n\nLocation: internal/handlers/feed_handler.go:278-342\nImpact: Code duplication, harder to maintain security logic\n\nFix: Extract to shared middleware or helper function","status":"open","priority":3,"issue_type":"chore","created_at":"2025-11-15T19:57:58.013001-08:00","updated_at":"2025-11-24T21:24:46.696056685Z","source_repo":"."}
{"id":"gr-piq","content_hash":"d73a77d1406ee5137bff0523f8f0235b7d232554b5d7eee016948f4dd25733c9","title":"No observability for database queries","description":"No query duration logging or metrics for slow queries. Makes performance debugging difficult in production.\n\nLocation: internal/database/schema.go, internal/database/datastore.go\nImpact: Hard to identify and debug slow queries in production\n\nFix: Add query duration logging and metrics (threshold-based or always-on)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-15T19:55:12.165684-08:00","updated_at":"2025-11-24T21:24:46.530651549Z","source_repo":"."}
{"id":"gr-pwa","content_hash":"93b787730df6ee06fbe11a1fecb33199d9f3bad359609ee9615e7ed7634d85fd","title":"Inconsistent secret reference detection","description":"OAuth credentials use '_secret:' prefix detection, Stripe uses exact string match. Inconsistent API, confusing for users.\n\nLocation: internal/secrets/secrets.go:47,59 vs 78,87,96,105\nImpact: Confusing configuration, documentation burden\n\nFix: Standardize on one convention (prefer '_secret:' prefix) across all credential types","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:02:35.236476-08:00","updated_at":"2025-11-24T21:24:46.508477591Z","source_repo":"."}
{"id":"gr-qsw2","content_hash":"06c7b19a31473367602f425e015548336de30e2e70a7030f06c34b5a561d5ac6","title":"url_validator.go:ValidateURL DNS lookup has no timeout","description":"Line 96: net.LookupIP(hostname) called without context/timeout. DNS lookups can hang indefinitely if DNS server is slow or unresponsive, blocking feed URL validation. Issue: No way to cancel or timeout the DNS lookup. Could cause AddFeed operations to hang. Fix: Use net.Resolver with context: resolver := \u0026net.Resolver{}; resolver.LookupIP(ctx, 'ip', hostname) with timeout context.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T20:09:05.295788-08:00","updated_at":"2025-11-24T21:24:46.244682569Z","source_repo":"."}
{"id":"gr-qti","content_hash":"6996be1453ae10f2b55646df9bf2a18883a66a151bde933ab75c2ad8b9d64127","title":"Race condition in admin self-demotion check","description":"SetAdminStatus checks if user is demoting themselves, but check happens after user lookup. Race condition if user is concurrently updated.\n\nLocation: internal/handlers/admin_handler.go:65-69\nImpact: Possible admin self-demotion in race condition\n\nFix: Perform check within database transaction or add optimistic locking","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T19:57:45.937338-08:00","updated_at":"2025-11-24T21:24:46.517311797Z","source_repo":"."}
{"id":"gr-rl4","content_hash":"1bb04e82c4b604fbfce76bcc1d11fbc38241091d3b239a34f1126cc5769bbb44","title":"No observability for secret access","description":"No logging when secrets are fetched from Secret Manager. Hard to debug configuration issues or audit secret access.\n\nLocation: internal/secrets/secrets.go (all functions)\nImpact: Difficult to debug startup issues, no audit trail for secret access\n\nFix: Add structured logging for secret fetches (redact values, log success/failure)","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:02:41.283729-08:00","updated_at":"2025-11-24T21:24:46.506878871Z","source_repo":"."}
{"id":"gr-rxy","content_hash":"debafb926d5741561f3bd30f4ac26a3ef1744427321fceff5ee8b4e8d352795d","title":"Add more context to OAuth callback errors","description":"Add more debugging context to error messages in HandleCallback for easier troubleshooting.\n\nLocation: internal/auth/auth.go:82-122\n\nRecommended implementation:\n- Add code length to token exchange error\n- Add response status to user info fetch error\n- Example: 'failed to exchange code for token (code length: %d): %w'\n\nRationale: Improves debugging capabilities for OAuth flow issues.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-15T19:45:30.288919-08:00","updated_at":"2025-11-24T21:24:46.731249465Z","source_repo":"."}
{"id":"gr-svht","content_hash":"4ed59bb8721e17c95fdbd1301a42094ceadfcc7124ff0e1010924935daddbe99","title":"rate_limiter.go:Wait() uses context.Background instead of accepting context","description":"Line 65: Wait() creates context.Background() instead of accepting a context parameter. This means callers can't cancel/timeout the wait. Issue: limiter.Wait(context.Background()) blocks indefinitely if rate limited. Should accept caller's context for cancellation. Fix: Change signature to Wait(ctx context.Context, feedURL string) error and pass ctx to limiter.Wait(ctx).","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:09:17.371778-08:00","updated_at":"2025-11-24T21:24:46.458619422Z","source_repo":"."}
{"id":"gr-v0mr","content_hash":"5404025b7bd6ad3cc0bfca4fa2af222419bc02dedfb4c44b01fa8dd5e892741f","title":"FeedScheduler stop doesn't wait for in-flight updates","description":"Stop() closes stopChan but doesn't wait for processScheduledFeeds goroutines to finish. Could leave orphaned goroutines.\n\nLocation: internal/services/feed_scheduler.go:91-102\nImpact: Goroutine leak on shutdown, unfinished feed updates\n\nFix: Use sync.WaitGroup to track in-flight updates and wait in Stop()","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:05:06.232817-08:00","updated_at":"2025-11-24T21:24:46.496041657Z","source_repo":"."}
{"id":"gr-v99","content_hash":"5c12ee48136b9f5f3f59cb62872caad889adbc4bf9c37edb6c4057a161a52024","title":"Missing XML complexity validation on OPML","description":"ImportOPML validates file size (10MB) but not XML complexity. Billion laughs or deeply nested XML could cause DoS.\n\nLocation: internal/handlers/feed_handler.go:549-560\nImpact: XML bomb DoS attacks\n\nFix: Add XML parser limits (max depth, max entities, etc.)","status":"open","priority":3,"issue_type":"bug","created_at":"2025-11-15T19:57:51.998641-08:00","updated_at":"2025-11-24T21:24:46.69688731Z","source_repo":"."}
{"id":"gr-vaqa","content_hash":"acade836004f3cad56503587e9aa329aeaf80eddada43745fd730e4d886ab4cb","title":"Feed title enhancement overwrites user customizations","description":"enhanceFeedTitle is called every time user adds feed, potentially overwriting previous title enhancements or manual edits.\n\nLocation: internal/services/feed_service.go:295-303\nImpact: User title customizations lost\n\nFix: Only enhance title on initial feed creation, not on subscription","status":"open","priority":3,"issue_type":"bug","created_at":"2025-11-15T20:05:24.340324-08:00","updated_at":"2025-11-24T21:24:46.675753558Z","source_repo":"."}
{"id":"gr-wgj","content_hash":"5165d0d83fe01dd49a2992f7d1e637f819f5d58496281f3459aaabb5a8737b5d","title":"Missing CSRF validation in auth middleware","description":"RequireAuth middleware only validates session, doesn't check CSRF token. State-changing operations could be vulnerable to CSRF.\n\nLocation: internal/auth/middleware.go:26-38\nImpact: CSRF attacks possible if CSRF middleware not applied to all routes\n\nFix: Add optional CSRF validation or document that CSRF middleware must be applied separately","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T19:59:59.736151-08:00","updated_at":"2025-11-24T21:24:46.514072072Z","source_repo":"."}
{"id":"gr-x95","content_hash":"340b481c7f418e4adae95e23772e215efa9fe861b3a582d2cdf898b842a96eea","title":"Hardcoded pagination limit logic","description":"The 'LIMIT ? + 1' pattern for pagination is hardcoded in multiple places.\n\nLocation: internal/database/schema.go:747 and elsewhere\nImpact: Code duplication, harder to maintain\n\nFix: Extract to a constant or helper function","status":"open","priority":3,"issue_type":"chore","created_at":"2025-11-15T19:54:40.89834-08:00","updated_at":"2025-11-24T21:24:46.704575899Z","source_repo":"."}
{"id":"gr-xwd","content_hash":"4ffee8a69188e96c71196557556c98c399542a3462226857104fafd2323ec34b","title":"Missing validation in UpdateUserMaxArticlesOnFeedAdd","description":"No bounds checking on maxArticles parameter. Could set negative or unreasonably large values.\n\nLocation: internal/database/datastore_update.go:10-32, internal/database/schema.go:1313-1329\nImpact: Could allow invalid configuration values\n\nFix: Add validation (e.g., 0 \u003c maxArticles \u003c= 10000)","status":"open","priority":3,"issue_type":"bug","created_at":"2025-11-15T19:54:52.890178-08:00","updated_at":"2025-11-24T21:24:46.70065775Z","source_repo":"."}
{"id":"gr-xz8z","content_hash":"3d9c949675d1ae21e7f8489681466cdefc52d32426b6767e2c8ec380a9dbf5ed","title":"HTML tag stripper is vulnerable to malformed HTML","description":"stripHTMLTags uses simple character-by-character parsing. Malformed HTML with unclosed tags could leave inTag=true and strip all content.\n\nLocation: internal/services/feed_service.go:1200-1226\nImpact: Data loss, articles with no content if malformed HTML\n\nFix: Use proper HTML parser like golang.org/x/net/html","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T20:04:54.193697-08:00","updated_at":"2025-11-24T21:24:46.261918025Z","source_repo":"."}
{"id":"gr-y2s","content_hash":"dc94e2e561064248e11c34688603e410873c00817530f4689c54f23db9df7057","title":"Filter expired entries from cache stats","description":"GetStats() currently counts expired entries as if they were valid, giving misleading metrics.\n\nLocations:\n- internal/cache/unread_cache.go:125-138\n- internal/cache/feed_list_cache.go:80-88\n\nProblem:\n- Stats include expired but not-yet-cleaned entries\n- Misleading for monitoring cache effectiveness\n\nRecommended fix for UnreadCache:\nfunc (uc *UnreadCache) GetStats() CacheStats {\n    uc.mu.RLock()\n    defer uc.mu.RUnlock()\n\n    now := time.Now()\n    activeUsers := 0\n    totalFeeds := 0\n    \n    for userID, counts := range uc.counts {\n        if now.Before(uc.refreshAt[userID]) { // Only count valid entries\n            activeUsers++\n            totalFeeds += len(counts)\n        }\n    }\n\n    return CacheStats{\n        CachedUsers: activeUsers,\n        TotalFeeds:  totalFeeds,\n    }\n}\n\nSimilar fix needed for FeedListCache.\n\nImpact: Minor - improves observability accuracy\nPriority: Medium - fix after critical memory leaks","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-15T19:46:41.990027-08:00","updated_at":"2025-11-24T21:24:46.553885992Z","source_repo":"."}
{"id":"gr-y9zg","content_hash":"19f40d5d98858e6363c5fde4d1880e83df1e1c4de382bb65c01b25b43b30f57e","title":"payment_service.go:NewPaymentService logs partial Stripe secret key","description":"Lines 56-60 log the first and last 4 characters of the Stripe secret key for debugging. This is a security risk as it leaks partial credentials to logs. Issue: 'Using Stripe key: sk_t...xyz1 (107 chars total)' exposes key prefix/suffix. Fix: Remove credential logging entirely or use a non-reversible hash for diagnostics. In production environments, logs may be stored/transmitted insecurely.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:08:41.433816-08:00","updated_at":"2025-11-24T21:24:46.470480033Z","source_repo":"."}
{"id":"gr-yy7","content_hash":"178b24033d08f3fd930cf2b9604a97b132e849ac57cb1360d6715b64390dac76","title":"Add max cache size limits to prevent unbounded growth","description":"Enhancement: Add configurable maximum cache size limits to both caches to prevent unbounded memory growth.\n\nLocations:\n- internal/cache/unread_cache.go\n- internal/cache/feed_list_cache.go\n\nRationale:\n- Even with cleanup goroutines, active users could cause excessive memory use\n- Provides hard limits on memory consumption\n- Useful for capacity planning\n\nRecommended implementation:\n1. Add maxUsers field to UnreadCache (e.g., 10000)\n2. In Set(), check if limit reached\n3. If at limit and adding new user, evict oldest entry\n4. Consider LRU eviction strategy for better cache hit rates\n\nExample:\ntype UnreadCache struct {\n    counts    map[int]map[int]int\n    refreshAt map[int]time.Time\n    mu        sync.RWMutex\n    ttl       time.Duration\n    maxUsers  int // Configurable limit\n}\n\nBenefits:\n- Predictable memory usage\n- Prevents pathological cases\n- Better for capacity planning\n\nImpact: Enhancement - nice to have but not critical\nPriority: Low - implement after fixing memory leaks","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-15T19:46:56.143286-08:00","updated_at":"2025-11-24T21:24:46.726981562Z","source_repo":"."}
