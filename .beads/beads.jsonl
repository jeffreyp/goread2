{"id":"goread2-03z7","content_hash":"9aa9369fc589c4f3e138b43d8f276d577c82d2b4f2959f4cac815de718c0e607","title":"payment_service.go:getOrCreateStripeCustomer has N+1 potential with pagination","description":"Lines 147-158 use customer.List iterator to find existing customer by email. If a user has multiple Stripe customers or the account has many customers, this could be inefficient. Issue: Iterator pattern doesn't show total customer count - could iterate over thousands. Stripe API supports email search but implementation doesn't handle pagination properly. Fix: Use Stripe's customer search API with explicit email filter, or add result limit checks.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T20:08:47.387176-08:00","updated_at":"2025-11-15T20:08:47.387176-08:00","source_repo":"."}
{"id":"goread2-0404b469","content_hash":"296f74daa7971e81f1327e623f81be3449c95e95d1220e2d17aa39910673c740","title":"Reduce cron frequency from 30min to 2-4 hours","description":"Re-architect feed update strategy with smart scheduling:\n\n1. Change cron.yaml from 'every 30 minutes' to 'every 1 hour'\n2. Disable the always-on scheduler loop in feed_scheduler.go (schedulerLoop runs continuously every 15 min, keeping instances alive 24/7)\n3. Track each feed's actual update pattern (last_updated, update_frequency)\n4. Prioritize 'hot' feeds that update frequently vs dormant feeds\n5. Test on both local (sqlite) and production (Datastore)\n\nCurrent cost: ~-72/month for always-on instances + cron overhead\nExpected savings: -60/month\nUX improvement: Feeds that update frequently still get timely updates, dormant feeds checked less often (more efficient)","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-02T12:23:12.963421Z","updated_at":"2025-11-15T11:14:31.3815-08:00","closed_at":"2025-11-02T12:39:26.893001Z","source_repo":"."}
{"id":"goread2-04e61f5a","content_hash":"d9e694bb4bf2959b7e782594a33669d111dce0d9567ebda3e98db1d1d22a4841","title":"Local deployment login overwrites production login info","description":"When logging in using a local deployment, it overwrites the production login info. Need to ensure local and production environments maintain separate authentication states.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:18:52.810555-08:00","updated_at":"2025-11-15T20:18:52.810555-08:00","closed_at":"2025-10-14T18:31:24.884153Z","source_repo":"."}
{"id":"goread2-05a1a72c","content_hash":"64be502def63317afaa505bb03722f2a3a62d2fcbfc9d7dd1e7748eac879bb5a","title":"Add dark mode support","description":"Implement dark mode theme toggle for the entire application. This is a high-priority UX improvement that modern users expect.\n\nScope:\n- Add dark mode CSS variables and color scheme\n- Implement theme toggle UI (in header or settings)\n- Store user preference in localStorage\n- Support prefers-color-scheme media query for automatic detection\n- Ensure proper contrast ratios for accessibility\n- Update all components: header, feed list, article list, content pane, modals\n\nFiles to modify:\n- web/static/css/styles.css\n- web/static/css/account.css\n- web/static/js/app.js\n- web/templates/index.html","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-15T20:18:52.819767-08:00","updated_at":"2025-11-15T20:18:52.819767-08:00","closed_at":"2025-10-21T15:51:45.271164Z","source_repo":"."}
{"id":"goread2-08c8dda1","content_hash":"91967dcd687d105cbae9e32d74eccd345da0c765881ce93aea78e5810a8bb9be","title":"Optimize tablet sidebar UX","description":"Improve tablet sidebar interaction and layout for better UX on tablet devices.\n\nCurrent issues:\n- 340px sidebar is too wide, obscures too much content\n- No swipe-from-left gesture to open sidebar\n- Feeds limited to 40% height feels cramped\n- Backdrop opacity (0.3) too subtle\n\nImprovements:\n1. Reduce sidebar width from 340px to 320px\n2. Add swipe-from-left gesture to open sidebar (not just FAB)\n3. Add swipe-right gesture to close sidebar\n4. Make feed/article divider draggable or feeds collapsible\n5. Increase backdrop opacity to 0.4-0.5\n6. Add slight blur effect to content when sidebar open\n7. Consider 50px sidebar peek when closed\n8. Add landscape-specific layout (side-by-side feeds + articles)\n\nAdditional features:\n- Animated pulse on FAB on first load\n- Dismissible help message with localStorage\n- Better visual cue for sidebar availability\n\nFiles to modify:\n- web/static/css/styles.css (tablet media queries, lines 993-1224)\n- web/static/js/app.js (swipe gestures, sidebar logic)\n- web/templates/index.html (help message)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-15T20:18:52.820311-08:00","updated_at":"2025-11-15T20:18:52.820311-08:00","source_repo":"."}
{"id":"goread2-0d7b7cdc","content_hash":"43ee2909413d5e5c479fcead68ddc47bef842cbd900c323ec917dcd2ae35a853","title":"MEDIUM: No Protection Against Credential Stuffing Attacks","description":"**Location:** Authentication flow lacks brute force protection\n\n**Issue:** While rate limiting exists for API endpoints, there are no specific protections against credential stuffing attacks on the OAuth flow:\n- No CAPTCHA on login attempts\n- No account lockout after failed attempts\n- No suspicious login detection\n- No notification of new device logins\n\n**Risk:** MEDIUM - Account takeover if OAuth credentials are compromised\n\n**Recommendation:**\n1. Implement progressive rate limiting on auth endpoints\n2. Add device fingerprinting\n3. Email notifications for new device logins  \n4. Consider adding CAPTCHA after N failed attempts\n5. Monitor for distributed login attempts from same user\n6. Log geographic anomalies in login patterns","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T20:18:52.823397-08:00","updated_at":"2025-11-15T20:18:52.823397-08:00","closed_at":"2025-10-18T18:38:50.210778Z","source_repo":"."}
{"id":"goread2-0e6f9bd7","content_hash":"3382cb8a0d36cf107e9f58006add1c29c64d54e2eaf6add4095e4bcbbae734e2","title":"MEDIUM: Admin Token Table Created But Never Used","description":"**Location:** internal/database/schema.go:242-250\n\n**Issue:** An admin_tokens table is created in the database schema but is never actually used for authentication. The ADMIN_TOKEN environment variable is referenced in docs but there's no code that validates it.\n\n**Code:** Table exists but no GetAdminToken() or ValidateAdminToken() methods\n\n**Risk:** MEDIUM - Incomplete security implementation, dead code creates confusion\n\n**Recommendation:**\n1. Either implement admin token authentication or remove the table\n2. If keeping: Add admin token middleware for CLI/API access\n3. If removing: Clean up schema and documentation references","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:18:52.823896-08:00","updated_at":"2025-11-15T20:18:52.823896-08:00","closed_at":"2025-10-18T18:41:25.172252Z","source_repo":"."}
{"id":"goread2-0fd5a464","content_hash":"755c0f2f0a59b1f3dfad70ade40e0ebb33a48478ca2081906181c4b657d34e32","title":"Add swipe-to-star gesture on mobile","description":"Implement swipe gesture on article items to quickly star/unstar articles on mobile.\n\nCurrent state:\n- Must tap small star button (can be fiddly on mobile)\n- No quick gesture for common action\n\nImplementation:\n- Left swipe on article item reveals star action\n- Similar to email apps (swipe to archive/delete)\n- Visual feedback showing star icon as you swipe\n- Threshold distance to trigger action\n- Smooth animation\n- Haptic feedback if available (vibration API)\n- Don't interfere with article selection tap\n\nDesign:\n- Show star icon with background color as user swipes\n- Yellow/gold background for starring\n- Undo toast notification after action\n- Works in both feed list and article list views\n\nAlternative gestures to consider:\n- Right swipe for mark as read/unread\n- Configurable swipe actions in settings\n\nFiles to modify:\n- web/static/js/app.js (touch handlers)\n- web/static/css/styles.css (swipe action styling)\n- Mobile-only feature (check screen size)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-15T20:18:52.824518-08:00","updated_at":"2025-11-15T20:18:52.824518-08:00","source_repo":"."}
{"id":"goread2-0qk","content_hash":"a5581d4f0ae8a9b7e84aa5cfb726a52391491934ade4bd3e23923f368b005232","title":"Add port number validation","description":"Port configuration value is never validated, allowing invalid values that will cause server startup failure.\n\nLocation: internal/config/validation.go:112-128 (validateOtherConfig doesn't check port)\n\nProblem:\n- Could be non-numeric (parsing would fail silently)\n- Could be out of range (valid ports: 1-65535)\n- Could be privileged port (\u003c1024) without appropriate permissions\n- Could be 0 (invalid for binding)\n\nCurrent behavior:\nPort: getEnvOrDefault(\"PORT\", \"8080\"),  // No validation\n\nRecommended fix:\nAdd to validateOtherConfig():\n\nfunc validateOtherConfig(strict bool) error {\n    // ... existing code ...\n    \n    // Validate port\n    portStr := os.Getenv(\"PORT\")\n    if portStr == \"\" {\n        portStr = \"8080\"  // Default\n    }\n    port, err := strconv.Atoi(portStr)\n    if err != nil {\n        return fmt.Errorf(\"PORT must be a valid integer, got: %s\", portStr)\n    }\n    if port \u003c 1 || port \u003e 65535 {\n        return fmt.Errorf(\"PORT must be between 1 and 65535, got: %d\", port)\n    }\n    if strict \u0026\u0026 port \u003c 1024 {\n        log.Printf(\"WARNING: Using privileged port %d (requires root/admin privileges)\", port)\n    }\n    \n    return nil\n}\n\nImpact: Invalid port would cause server startup failure with cryptic error\nPriority: Low - usually fails fast at startup, but better validation helps debugging","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-15T19:50:14.059102-08:00","updated_at":"2025-11-15T19:50:14.059102-08:00","source_repo":"."}
{"id":"goread2-0y9","content_hash":"9bd7bf9da6c29df537d82ff5c917edce39ba8eb0696279a4e1234d5686db4425","title":"Inconsistent error messages in Datastore","description":"Error messages in datastore.go are inconsistent - some include context (function name, parameters), others don't.\n\nLocation: internal/database/datastore.go (throughout)\nImpact: Makes debugging harder\n\nFix: Standardize error wrapping to always include operation context","status":"open","priority":3,"issue_type":"chore","created_at":"2025-11-15T19:54:46.883416-08:00","updated_at":"2025-11-15T19:54:46.883416-08:00","source_repo":"."}
{"id":"goread2-0zlb","content_hash":"71d8ddaf3fa8d286fe7d275d1999bc04625d475f8035a252a96e037dc9853b04","title":"Multiple sequential HTTP requests in discovery","description":"tryCommonFeedPaths and tryMastodonFeedPaths make sequential HEAD requests. Could take 20+ seconds if all fail.\n\nLocation: internal/services/feed_discovery.go:196-261, 264-310\nImpact: Slow feed addition, poor UX, could hit 15s overall timeout\n\nFix: Make requests in parallel with sync.WaitGroup","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:05:00.215619-08:00","updated_at":"2025-11-15T20:05:00.215619-08:00","source_repo":"."}
{"id":"goread2-110d0cc3","content_hash":"832688ffc4f0a451c22ed23e64738edd5509783d66caa172c12a35ba712e6e46","title":"Add query limits to unbounded GetAllArticles()","description":"Add .Limit(1000) to GetAllArticles() query in datastore.go:380-409. Currently fetches ALL articles in database with no limit, causing massive read costs. Estimated savings: -500/month.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-02T12:23:13.106704Z","updated_at":"2025-11-15T11:14:31.375775-08:00","closed_at":"2025-11-02T12:55:34.234494Z","source_repo":"."}
{"id":"goread2-135","content_hash":"4652e02cd3a8c277b5177bee8fdda6378b6963aaf55ff4b3a293f70b74eb4a38","title":"Hardcoded placeholder detection strings","description":"GetStripeCredentials uses exact string match for placeholders (e.g., secretKey == 'stripe-secret-key'). Brittle and undocumented convention.\n\nLocation: internal/secrets/secrets.go:78, 87, 96, 105\nImpact: Actual secret value 'stripe-secret-key' would trigger Secret Manager lookup, confusion\n\nFix: Use consistent prefix convention like OAuth's '_secret:' or document placeholder convention","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T20:02:23.052972-08:00","updated_at":"2025-11-15T20:02:23.052972-08:00","source_repo":"."}
{"id":"goread2-149e505d","content_hash":"35de84c0290b52d06dfdec588df05f306c93d7bf696bc1b8538d958d3f4c5d43","title":"Add other auth providers","description":"Currently only Google is supported. We should add others.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-10-14T18:43:55.774622Z","updated_at":"2025-11-15T11:14:31.375292-08:00","closed_at":"2025-10-18T18:53:43.929964Z","external_ref":"gh-12","source_repo":"."}
{"id":"goread2-14af4d37","content_hash":"1322c2ff80315587aec16d706ffadc82afa4402b6f1fe3964058674d5d14754c","title":"Feeds are not updating","description":"Feeds are not updating","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-10-14T18:43:55.708844Z","updated_at":"2025-11-15T11:14:31.375047-08:00","closed_at":"2025-10-14T18:43:55.751782Z","external_ref":"gh-13","source_repo":"."}
{"id":"goread2-17c162c4","content_hash":"7f43d6cc1592692bc3d1f65235997ebacef957d2767e8982f1d1afd469a90430","title":"Remove extra 50 article fetching in pagination","description":"Remove '+50' from pagination queries in datastore.go:755-763. Currently fetches 'limit + offset + 50' articles for 'better sorting' which wastes 50 entity reads per request. Estimated savings: -100/month.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-02T12:23:13.236942Z","updated_at":"2025-11-15T11:14:31.385582-08:00","closed_at":"2025-11-02T13:03:52.286302Z","source_repo":"."}
{"id":"goread2-1ad4443a","content_hash":"d7cb5b7839d289ebec8e8ddc80cbcbb1016714e1924c706bb4d0dff11b78c850","title":"MEDIUM: OAuth State Parameter Not Properly Validated","description":"**Location:** internal/handlers/auth_handler.go:46-50\n\n**Issue:** OAuth state parameter validation is incomplete. The code compares stored state with query parameter but doesn't check for:\n- State expiration (cookie is set for 10 min but never validated)\n- State uniqueness/replay attacks\n- Cryptographic quality of state generation\n\n**Code:**\n```go\nstoredState, err := c.Cookie(getOAuthStateCookieName())\nif err \\!= nil || storedState \\!= c.Query(\"state\") {\n    c.JSON(http.StatusBadRequest, gin.H{\"error\": \"Invalid state parameter\"})\n}\n```\n\n**Risk:** MEDIUM - OAuth CSRF attacks, authorization code interception\n\n**Recommendation:**\n1. Include timestamp in state and validate expiration\n2. Store state server-side with session\n3. Use cryptographically secure random state\n4. Implement one-time use (delete after validation)","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:18:52.825044-08:00","updated_at":"2025-11-15T20:18:52.825044-08:00","closed_at":"2025-10-18T18:40:07.978989Z","source_repo":"."}
{"id":"goread2-1af0ae6b","content_hash":"3ec164f57bdf2591febc259dbfe7e02ca283e84986a5955ca352d12e4c2d7c0d","title":"Mobile UI","description":"One of the main reasons I built this was that I want a specific UI for my iPad.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-10-14T18:43:55.926091Z","updated_at":"2025-11-15T11:14:31.376703-08:00","closed_at":"2025-10-14T18:43:55.970464Z","external_ref":"gh-9","source_repo":"."}
{"id":"goread2-1dfc0bb7","content_hash":"6c97940d38355879ad60ba27e997edc8a57c50ac723d313d1c8e9911ea9a6334","title":"Add auth middleware error path tests","description":"Auth middleware has gaps in test coverage. Add tests for:\n- RequireAuthPage redirect behavior (line 26, currently 0%)\n- OptionalAuth with no session (line 59, currently 0%)\n- RequireAdmin with non-admin user (line 70, currently 0%)\n- Session validation failures\n- Context key handling edge cases\nCurrent coverage is 58.4% but key security paths are untested.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T20:18:52.825528-08:00","updated_at":"2025-11-15T20:18:52.825528-08:00","closed_at":"2025-10-19T20:59:27.361954Z","source_repo":"."}
{"id":"goread2-1ql","content_hash":"130ca6ff17c6f3ef81504202c7b9c6e0e2bd1ef05762123b1b622d6678bba413","title":"Unbounded memory usage in multi-feed pagination","description":"GetUserArticlesPaginated for Datastore fetches ALL articles from all subscribed feeds into memory, then sorts. No limit on memory usage.\n\nLocation: internal/database/datastore.go:687-894\nImpact: OOM risk when users subscribe to many active feeds\n\nFix: Implement streaming pagination or limit the number of articles fetched per feed","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-15T19:54:05.19536-08:00","updated_at":"2025-11-16T11:47:46.500761-08:00","closed_at":"2025-11-16T11:47:46.500761-08:00","source_repo":"."}
{"id":"goread2-1td","content_hash":"3debb7ad7114527d7f402f7e42095e9aa0e966f6b64d8ec5959ae22a002d8eb3","title":"Auth error responses missing request tracking","description":"Authentication failures return generic errors without request ID or trace info, making debugging difficult.\n\nLocation: internal/auth/middleware.go:30, 74, 80\nImpact: Hard to correlate failed auth attempts in logs\n\nFix: Include request ID in error responses and log auth failures","status":"open","priority":3,"issue_type":"chore","created_at":"2025-11-15T20:00:17.786159-08:00","updated_at":"2025-11-15T20:00:17.786159-08:00","source_repo":"."}
{"id":"goread2-1u5r","content_hash":"3ec239e5c8446a0977a49df2eda634ce8afd575343b356cccceb46d562be8b88","title":"subscription_service.go:Admin token type assertions don't handle unknown DB types","description":"Lines 221-245 (GenerateAdminToken), 262-321 (ValidateAdminToken), 326-379 (ListAdminTokens), 384-432 (RevokeAdminToken) use type assertions for *database.DB and *database.DatastoreDB. If neither matches, they return generic error. Issue: Error messages don't indicate which DB type was received, making debugging difficult. No compile-time check that all DB types are handled. Fix: Consider interface method for admin tokens in Database interface, or log the actual type in error messages.","status":"open","priority":3,"issue_type":"bug","created_at":"2025-11-15T20:09:23.39303-08:00","updated_at":"2025-11-15T20:09:23.39303-08:00","source_repo":"."}
{"id":"goread2-1xp","content_hash":"3823a6d566fcee204c32364bd0743e461f91ad8733b319bad29bbecf15eb77ab","title":"Add metrics/observability to rate limiter cleanup","description":"Add logging or metrics to rate limiter cleanup to help monitor cleanup effectiveness.\n\nLocation: internal/auth/rate_limiter.go:78-96\n\nRecommended implementation:\n- Track number of entries deleted during cleanup\n- Optionally log cleanup statistics\n- Example: log.Printf('Cleaned up %d rate limiter entries', deletedCount)\n\nRationale: Helps monitor rate limiter memory usage and cleanup effectiveness.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-15T19:45:19.251926-08:00","updated_at":"2025-11-15T19:45:19.251926-08:00","source_repo":"."}
{"id":"goread2-1zx","content_hash":"53f7f71097a509a68651c04ffa10a379665717a8bb4a36987d7e9797aafa831d","title":"Add cache hit/miss metrics for monitoring","description":"Enhancement: Add cache hit/miss tracking to measure cache effectiveness.\n\nLocations:\n- internal/cache/unread_cache.go\n- internal/cache/feed_list_cache.go\n\nRationale:\n- Measure cache effectiveness and hit rates\n- Help tune TTL values\n- Identify performance issues\n\nRecommended implementation:\n1. Add atomic counters for hits and misses\n2. Track in Get() method\n3. Expose in GetStats()\n\nExample:\ntype CacheStats struct {\n    CachedUsers int\n    TotalFeeds  int\n    Hits        int64\n    Misses      int64\n    HitRate     float64  // Calculated: hits / (hits + misses)\n}\n\nfunc (uc *UnreadCache) Get(userID int) (map[int]int, bool) {\n    // ... existing logic ...\n    if hit {\n        atomic.AddInt64(\u0026uc.hits, 1)\n    } else {\n        atomic.AddInt64(\u0026uc.misses, 1)\n    }\n    return result, hit\n}\n\nBenefits:\n- Data-driven performance tuning\n- Identify cache warming opportunities\n- Monitor production effectiveness\n\nImpact: Enhancement - improves observability\nPriority: Low - nice to have for production monitoring","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-15T19:47:09.780523-08:00","updated_at":"2025-11-15T19:47:09.780523-08:00","source_repo":"."}
{"id":"goread2-2","content_hash":"3db2a8345a2001489e19562835a0cad45ce665b319b2305a1b7aceb6ee108023","title":"Implement cursor-based pagination for article loading","description":"","notes":"## Problem\n\nCurrent pagination uses offset-based queries with unread_only filtering, which has fundamental issues when the underlying dataset changes:\n\n1. User loads first 50 articles (offset=0)\n2. User marks some as read\n3. Server's unread query now returns different results for offset positions\n4. Clicking 'Load More' with offset=50 can skip articles or show duplicates\n\n## Current Workaround\n\nClient-side duplicate detection using a Set of loaded article IDs. This prevents duplicates but doesn't solve the skipped articles problem.\n\n## Ideal Solution\n\nImplement cursor-based pagination using timestamps:\n\n- Instead of offset, use before parameter with article timestamp/ID\n- Example: /api/feeds/all/articles?limit=50\u0026before=2025-10-13T18:30:00\u0026unread_only=true\n- Server returns articles published before the cursor, maintaining consistent ordering\n- Works correctly even when articles are marked as read between requests\n\n## Implementation\n\nBackend changes needed:\n- Modify GetUserArticlesPaginated in feed service to accept cursor parameter\n- Change SQL query from OFFSET to WHERE published_at \u003c ? with ORDER BY published_at DESC\n- Return cursor value for next page in response\n\nFrontend changes:\n- Track cursor (timestamp of last article) instead of offset\n- Pass cursor to subsequent requests\n\n## Benefits\n\n- No duplicate articles\n- No skipped articles  \n- Consistent pagination regardless of read/unread state changes\n- Better performance (cursor queries faster than large offsets)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-13T18:41:47.375395-07:00","updated_at":"2025-11-18T17:58:35.137451-08:00","closed_at":"2025-11-18T17:58:35.137451-08:00","source_repo":"."}
{"id":"goread2-220f27a0","content_hash":"c08401f53f561bccdb8ff9884bedf98c974d2758ae1bdfa0897e3518d47967c2","title":"Add reading mode with font customization","description":"Add a focused reading mode with font customization options.\n\nFeatures:\n1. Reading mode toggle (distraction-free)\n   - Hide feed and article panes\n   - Full-screen article content\n   - Exit button or ESC key to exit\n\n2. Font options:\n   - Sans-serif (current: Inter) \n   - Serif (Georgia, Charter)\n   - System font option\n   \n3. Font size controls:\n   - Small, Medium (default), Large, Extra Large\n   - Or slider with px values (14-22px)\n   \n4. Line spacing options:\n   - Tight (1.5)\n   - Normal (1.6-1.8, current)\n   - Relaxed (2.0)\n   \n5. Content width:\n   - Narrow (600px)\n   - Medium (700px, default)\n   - Wide (900px)\n   - Full width\n\nStorage:\n- Save preferences in localStorage\n- Persist across sessions\n\nUI:\n- Settings panel/dropdown in content pane header\n- Keyboard shortcut for reading mode (F key?)\n- Mobile: simplified controls\n\nFiles to modify:\n- web/static/css/styles.css (reading mode styles, font variables)\n- web/static/js/app.js (reading mode toggle, settings)\n- web/templates/index.html (settings UI)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-15T20:18:52.826048-08:00","updated_at":"2025-11-15T20:18:52.826048-08:00","source_repo":"."}
{"id":"goread2-23a899cd","content_hash":"8dd5422da6fbd978dd4af3676b8db88ff43d2ca769118e87bd796856e0063aaa","title":"Add payment service tests","description":"Payment service is mostly untested. Add tests for:\n- CreateCheckoutSession with various user states\n- HandleWebhook with different Stripe event types\n- Subscription status checks\n- Payment failure scenarios\n- Webhook signature validation\n- Idempotency handling\nCurrent coverage shows most payment_service.go functions at 0%.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-11-15T20:18:52.826496-08:00","updated_at":"2025-11-15T20:18:52.826496-08:00","source_repo":"."}
{"id":"goread2-24d6342d","content_hash":"4dafc13b80d934bd2f5d928397d7b964f166c410d12d2dd30d599c1695b38166","title":"Implement pull-to-refresh on mobile","description":"Add pull-to-refresh gesture for feed and article lists on mobile devices. This is more intuitive than finding the refresh button in the header menu.\n\nScope:\n- Implement pull-to-refresh in feed list\n- Implement pull-to-refresh in article list\n- Add visual feedback during refresh (spinner/loading indicator)\n- Ensure it doesn't conflict with normal scrolling\n- Test on iOS Safari and Android Chrome\n\nFiles to modify:\n- web/static/js/app.js\n- web/static/css/styles.css (for pull indicator styling)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-15T20:18:52.826942-08:00","updated_at":"2025-11-15T20:18:52.826942-08:00","closed_at":"2025-10-30T18:38:24.971362Z","source_repo":"."}
{"id":"goread2-25a751ea","content_hash":"84b06cb61281cb84eff71f5c5ba03d4df3f7e74edfc3c485efd45bd67cbdc6fc","title":"MEDIUM: Stripe Webhook Accepts Empty Secret in Production","description":"**Location:** internal/handlers/payment_handler.go:80-83\n\n**Issue:** The Stripe webhook handler accepts requests even when STRIPE_WEBHOOK_SECRET is not configured, only logging a warning instead of rejecting the request.\n\n**Code:**\n```go\nif endpointSecret == \"\" {\n    fmt.Printf(\"WARNING: Webhook - STRIPE_WEBHOOK_SECRET not set\\n\")\n}\n// Continues to process webhook anyway\n```\n\n**Risk:** MEDIUM - Attackers can send fake webhook events to manipulate subscription status\n\n**Recommendation:**\n1. Reject webhook requests with 500 error if secret is not configured\n2. Make STRIPE_WEBHOOK_SECRET required when subscriptions are enabled\n3. Add startup validation to fail early if misconfigured","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:18:52.827393-08:00","updated_at":"2025-11-15T20:18:52.827393-08:00","closed_at":"2025-10-17T16:02:11.662859Z","source_repo":"."}
{"id":"goread2-25c","content_hash":"7004b635d67bba2696da51ad2a35708996a675e644de0be7e6db00f785adc827","title":"Missing rate limiting on Stripe webhook","description":"Stripe webhook endpoint has no rate limiting. Attacker could flood with fake webhook requests.\n\nLocation: internal/handlers/payment_handler.go:68-189\nImpact: DoS via webhook flooding, log spam\n\nFix: Add rate limiting middleware specifically for webhook endpoint","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T19:57:15.946749-08:00","updated_at":"2025-11-15T19:57:15.946749-08:00","source_repo":"."}
{"id":"goread2-2a5bc116","content_hash":"f0d35fa67a15c8c130b038fc0d945172f607e192e62055ab2d4ebe19a76e2d1f","title":"Add end-to-end workflow integration tests","description":"Create integration tests for complete user workflows:\n- User registration → feed subscription → article reading → marking read/starred\n- OPML import → feed refresh → article access\n- Payment flow → subscription activation → feature access\n- Admin operations → user management → privilege granting\nThese tests should use real database instances and test the full stack, not just unit tests.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T20:18:52.827846-08:00","updated_at":"2025-11-15T20:18:52.827846-08:00","closed_at":"2025-10-19T21:48:16.9309Z","source_repo":"."}
{"id":"goread2-2d2b47c4","content_hash":"beab2009bbc46970d36f99270d1b0ad11e1e1bd9032327ae402faa3057ccdf05","title":"Disable autocorrect in the add feed dialog","description":"No, I really DID mean to enter daringfireball as one word. And dont automatically capitalize the first letter either!","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-10-14T18:43:56.062886Z","updated_at":"2025-11-15T11:14:31.379993-08:00","closed_at":"2025-10-14T18:43:56.106245Z","external_ref":"gh-7","source_repo":"."}
{"id":"goread2-2d5f6b3f","content_hash":"d071e9c08daaecf630aad3a972d45790ae94c2c32750378d43d988060c94de4e","title":"Add audit logging for admin operations","description":"Add audit logging to admin handler methods (SetAdminStatus at line 75 and GrantFreeMonths at line 136) to track admin actions for security and compliance. Should log user ID, action type, target, timestamp, and result.","design":"## Database Schema\nCreate audit_logs table:\n- ID, timestamp, admin_user_id, admin_email\n- operation_type (grant_admin, revoke_admin, grant_free_months, etc.)\n- target_user_id, target_user_email\n- operation_details (JSON), ip_address, result, error_message\n\n## Integration Points\n1. Web API: admin_handler.go (SetAdminStatus, GrantFreeMonths, GetUserInfo)\n2. CLI: cmd/admin/main.go (set-admin, grant-months, create-token, revoke-token, etc.)\n3. Token ops: subscription_service.go (GenerateAdminToken, RevokeAdminToken)\n\n## Audit Log Viewer\n- Web UI: GET /admin/audit-logs (pagination, filtering)\n- CLI: audit-logs command (--user, --operation, --limit)\n\n## Steps\n1. Create audit_logs table (SQLite + Datastore)\n2. Add AuditLog struct\n3. Create DB methods: CreateAuditLog, GetAuditLogs\n4. Create AuditService\n5. Integrate into all admin ops\n6. Create web handler\n7. Add CLI command\n8. Tests + docs","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-15T20:18:52.828299-08:00","updated_at":"2025-11-15T20:18:52.828299-08:00","closed_at":"2025-10-17T15:35:18.957493Z","source_repo":"."}
{"id":"goread2-2e733721","content_hash":"cfd9804f03207a06520069f809224fbc7343da9afee52afa73d08cd26e0894e3","title":"Security: Admin CLI tool allows privilege escalation in self-hosted deployments","description":"The current admin CLI tool creates a significant security vulnerability in self-hosted deployments. Anyone with filesystem access can grant themselves admin privileges.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-10-14T18:43:56.321986Z","updated_at":"2025-11-15T11:14:31.381738-08:00","closed_at":"2025-10-14T18:43:56.365761Z","external_ref":"gh-3","source_repo":"."}
{"id":"goread2-2f31ac9e","content_hash":"f8427f9537f3ac76552e0b5d7b77e1353fe6d27257d9bbae93d32921f4743f20","title":"Implement skeleton loading screens","description":"Replace generic spinners with skeleton screens for better perceived performance.\n\nCurrent state:\n- Generic spinner with 'Loading...' text\n- Feels slow and unpolished\n- No visual indication of what's loading\n\nSkeleton screens to add:\n1. Feed list loading (show 5-10 skeleton feed items)\n2. Article list loading (show skeleton article cards)\n3. Article content loading (show skeleton header + paragraphs)\n4. Subscription panel loading\n\nBenefits:\n- Better perceived performance\n- Users understand what content is coming\n- More modern, polished feel\n- Reduces feeling of 'waiting'\n\nImplementation:\n- Create CSS-only skeleton components (animated gradient)\n- Use same layout as actual content\n- Fade transition from skeleton to real content\n- Keep spinners for long operations (feed refresh)\n\nDesign:\n- Gray placeholder blocks with shimmer animation\n- Match actual content dimensions\n- Subtle pulse/shimmer effect\n\nFiles to modify:\n- web/static/css/styles.css (skeleton animations)\n- web/static/js/app.js (show skeletons instead of spinners)\n- web/templates/index.html (skeleton markup)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-15T20:18:52.828772-08:00","updated_at":"2025-11-15T20:18:52.828772-08:00","source_repo":"."}
{"id":"goread2-2fae2c91","content_hash":"c616ea106e20b147024cd89326502b533cd63269e84c69df666d8420fc420f6d","title":"Remove or convert DEBUG print statements to proper logging","description":"Replace temporary DEBUG printf statements in payment_service.go (lines 183, 192, 207, 233) and database/schema.go (lines 972, 986) with proper structured logging using log.Printf or a logging library. These debug statements were likely added for troubleshooting and should be cleaned up.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-11-15T20:18:52.82922-08:00","updated_at":"2025-11-15T20:18:52.82922-08:00","closed_at":"2025-10-19T20:47:50.592624Z","source_repo":"."}
{"id":"goread2-2rj","content_hash":"404bad66097954376f7f96d13872141d409c4028d1a33f6554965131f0decd47","title":"N+1 queries in RefreshFeeds","description":"RefreshFeeds calls GetArticles twice per feed (before and after save) to check for new content. Extremely inefficient for large feed counts.\n\nLocation: internal/services/feed_service.go:781-792\nImpact: Massive database load during hourly cron, could overwhelm database\n\nFix: Use article count comparison or last_fetch timestamp instead of fetching all articles","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-15T20:04:36.189071-08:00","updated_at":"2025-11-15T20:17:30.737627-08:00","closed_at":"2025-11-15T20:17:30.737703-08:00","source_repo":"."}
{"id":"goread2-37fe5e15","content_hash":"789230e83786678e2cde8e9cbd103c66b1b2a36b360431b35b8b4c4447e9b8af","title":"Add keyboard shortcut improvements","description":"Enhance keyboard shortcuts with better discoverability and more functionality.\n\nCurrent shortcuts (working):\n- j/k: Next/previous article\n- o/Enter: Open article in new tab\n- m: Toggle read/unread\n- s: Toggle star\n- r: Refresh feeds\n\nImprovements:\n\n1. Discoverability:\n   - Add persistent '?' button in header\n   - Show keyboard shortcuts in tooltips\n   - Visual indicator when shortcut is available\n   - Quick reference card (Cmd/Ctrl + /)\n\n2. New shortcuts:\n   - /: Focus search (when implemented)\n   - a: Mark all as read\n   - g+f: Go to feeds\n   - g+a: Go to all articles\n   - ESC: Close modals, exit reading mode\n   - 1-9: Jump to first 9 feeds\n   - u: Refresh current feed\n   - v: Open article in current tab\n\n3. Visual feedback:\n   - Show key presses on screen (like Gmail)\n   - Animate selected item when using j/k\n   - Confirm actions (checkmark for mark as read)\n\n4. Help modal improvements:\n   - Group shortcuts by category\n   - Show actual key glyphs (⌘ vs Cmd)\n   - Search shortcuts\n   - Customizable shortcuts (advanced)\n\nFiles to modify:\n- web/static/js/app.js (keyboard handler)\n- web/templates/index.html (help modal, ? button)\n- web/static/css/styles.css (visual feedback)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-15T20:18:52.829702-08:00","updated_at":"2025-11-15T20:18:52.829702-08:00","source_repo":"."}
{"id":"goread2-384bb7c0","content_hash":"3abb62ad4562d20715493db485e7b14360b54dd89c782cb2eb9ed86ceeb64de6","title":"Add request-scoped caching to eliminate duplicate GetUserFeeds calls","description":"**Location:** Multiple handlers calling GetUserFeeds multiple times per request\n\n**Problem:**\nGetUserFeeds is called multiple times within a single request chain, causing duplicate Firestore reads. This is particularly wasteful since user's feed list rarely changes.\n\n**Example Request Flow:**\n```\nGET /api/feeds → GetFeeds handler\n  ├─ GetUserFeeds() [READ 1]\n  └─ GetUnreadCounts()\n      └─ GetUserFeeds() [READ 2 - DUPLICATE!]\n```\n\n**Impact:**\n- #4 source of Firestore read costs\n- Estimated 500K+ duplicate reads/year\n- Called from multiple endpoints:\n  * internal/handlers/feed_handler.go:39 (GetFeeds)\n  * internal/handlers/feed_handler.go:152 (GetArticles)\n  * internal/handlers/feed_handler.go:287 (DebugFeed)\n  * internal/handlers/feed_handler.go:547 (GetAccountStats)\n  * internal/services/feed_service.go:343 (GetUserUnreadCounts)\n\n**Solution: Request-Scoped Cache**\n\nCreate middleware that adds a request-scoped cache to gin.Context:\n\n```go\n// internal/middleware/request_cache.go\ntype RequestCache struct {\n    userFeeds map[int][]database.Feed\n    mu        sync.RWMutex\n}\n\nfunc RequestCacheMiddleware() gin.HandlerFunc {\n    return func(c *gin.Context) {\n        cache := \u0026RequestCache{\n            userFeeds: make(map[int][]database.Feed),\n        }\n        c.Set(\"request_cache\", cache)\n        c.Next()\n    }\n}\n\n// Helper function to get cached user feeds\nfunc GetCachedUserFeeds(c *gin.Context, userID int, db database.Database) ([]database.Feed, error) {\n    cache, exists := c.Get(\"request_cache\")\n    if !exists {\n        // No cache, fetch directly\n        return db.GetUserFeeds(userID)\n    }\n    \n    rc := cache.(*RequestCache)\n    rc.mu.RLock()\n    if feeds, cached := rc.userFeeds[userID]; cached {\n        rc.mu.RUnlock()\n        return feeds, nil // Cache hit!\n    }\n    rc.mu.RUnlock()\n    \n    // Cache miss - fetch and store\n    feeds, err := db.GetUserFeeds(userID)\n    if err == nil {\n        rc.mu.Lock()\n        rc.userFeeds[userID] = feeds\n        rc.mu.Unlock()\n    }\n    return feeds, err\n}\n```\n\n**Implementation Steps:**\n1. Create request cache middleware\n2. Add to API route group in main.go\n3. Update all handlers to use GetCachedUserFeeds()\n4. Test that cache is scoped per-request (no cross-contamination)\n\n**Expected Savings:**\n- 15-20% reduction in duplicate reads\n- Eliminates 2-3 reads per request\n- Faster response times (no duplicate DB calls)\n- Zero memory overhead (cache cleared after request)\n\n**Priority:** P2 - Lower priority than queries that fetch ALL data, but still valuable","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T20:18:52.830201-08:00","updated_at":"2025-11-15T20:18:52.830201-08:00","closed_at":"2025-10-18T12:37:13.015559Z","source_repo":"."}
{"id":"goread2-3a26ad50","content_hash":"51e1a7f6499e350853a839599f408b7de73d3b943c82158de1a4ec5917e97dae","title":"Use in-memory SQLite for faster test execution","description":"","notes":"Replace file-based SQLite with in-memory database (:memory:) in test helpers. Eliminates disk I/O overhead and speeds up database operations by 2-3x. Change database.Open() to use ':memory:' instead of temporary file paths.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T20:18:52.830662-08:00","updated_at":"2025-11-15T20:18:52.830662-08:00","closed_at":"2025-10-19T16:53:18.215256Z","source_repo":"."}
{"id":"goread2-3ay","content_hash":"28d75ecbf28447b2f5b702686e4a98871cfcc0dddd1410f5b206e4eb49c2a069","title":"Client potentially leaked in error paths","description":"Secret Manager client closed in defer but errors between client creation and defer could leak client in some scenarios.\n\nLocation: internal/secrets/secrets.go:20-24\nImpact: Resource leak in error cases, though unlikely given defer placement\n\nFix: Ensure client.Close is called in all paths or use sync.Once for singleton client","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:02:47.385-08:00","updated_at":"2025-11-15T20:02:47.385-08:00","source_repo":"."}
{"id":"goread2-3dg","content_hash":"5ecb1df608c5cc54fc986bc1f2dca244b254e9c73e994b377500829839486710","title":"Missing Datastore transaction support","description":"Datastore implementation has no transaction wrapper for multi-entity operations. BatchSetUserArticleStatus can fail partially with no rollback.\n\nLocation: internal/database/datastore.go\nImpact: Data integrity risk on partial failures\n\nFix: Implement transaction wrapper using Datastore transactions or implement compensating rollback","status":"open","priority":1,"issue_type":"feature","created_at":"2025-11-15T19:55:06.22812-08:00","updated_at":"2025-11-15T19:55:06.22812-08:00","source_repo":"."}
{"id":"goread2-3e56a17e","content_hash":"b1034afe96d843f9de80641635906b447b8b04d1fffdb62000b8d8a8247edb02","title":"Add HTTP handler integration tests","description":"Handlers have only 0.8% test coverage (constructors only). Add integration tests for:\n- FeedHandler: GetFeeds, AddFeed, DeleteFeed, GetArticles, MarkRead, ToggleStar, ImportOPML, ExportOPML\n- AuthHandler: Login, Callback, Logout, Me endpoints\n- PaymentHandler: CreateCheckoutSession, HandleWebhook, GetSubscriptionStatus\n- AdminHandler: all admin operations\nTests should verify:\n- Authentication/authorization requirements\n- Request validation and error responses\n- Correct HTTP status codes\n- Response format and content","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T20:18:52.831103-08:00","updated_at":"2025-11-15T20:18:52.831103-08:00","closed_at":"2025-10-19T10:53:00.898265Z","source_repo":"."}
{"id":"goread2-3op","content_hash":"00db86900e7d6083884971ba6085113e53494e18f344a3786a92abe2bc9de4e1","title":"Make session cache TTL configurable","description":"Currently session cache TTL is hardcoded to 10 minutes. Make this configurable via environment variable to allow tuning based on traffic patterns.\n\nLocation: internal/auth/session.go:41\n\nRecommended implementation:\n- Add SESSION_CACHE_TTL_MINUTES environment variable\n- Default to 10 minutes if not set\n- Parse and validate the value\n- Use configured value for cacheTTL\n\nRationale: Allows performance tuning for different deployment scenarios and traffic patterns.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-15T19:45:08.327567-08:00","updated_at":"2025-11-15T19:45:08.327567-08:00","source_repo":"."}
{"id":"goread2-421d7ba9","content_hash":"8ecbfc74133183de30df57785005d1b2fe006f1b4e7327f8bfe71caa4cc036e2","title":"Test issue","description":"Test description","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T20:18:52.831553-08:00","updated_at":"2025-11-15T20:18:52.831553-08:00","closed_at":"2025-10-14T18:42:42.425255Z","source_repo":"."}
{"id":"goread2-440dc022","content_hash":"0b2b838974b1eb39f9d94893878cbf52b9fc42241f3d595b1bab7220f034e29f","title":"Add database layer unit tests","description":"The database layer (internal/database/) has 0% test coverage, which is critical infrastructure. Add comprehensive unit tests covering:\n- SQLite schema creation and migrations\n- Datastore implementation for production\n- CRUD operations for all entities (users, feeds, articles, sessions)\n- Error handling and edge cases\n- Transaction management\nTests should use mock/fixture data and test both SQLite and Datastore implementations where applicable.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T20:18:52.832027-08:00","updated_at":"2025-11-15T20:18:52.832027-08:00","closed_at":"2025-10-15T19:53:14.954Z","source_repo":"."}
{"id":"goread2-457e59a9","content_hash":"ce9df1db7e1a54b2264988806c60947e70608052b34abaef3a91f51b5f49ce93","title":"Rewrite session expiration tests for database-backed sessions","description":"Update session tests in internal/auth/session_test.go (lines 262, 283) to work with database-backed sessions. The TODOs indicate these tests need to be rewritten to properly test session expiration with the current database implementation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T20:18:52.832456-08:00","updated_at":"2025-11-15T20:18:52.832456-08:00","closed_at":"2025-10-15T19:44:39.35976Z","source_repo":"."}
{"id":"goread2-469d93a0","content_hash":"79eb3f49599864b03d7761ccbcfb128a5e5924592765ade5969b4a2714e64e38","title":"Next billing date is wrong","description":"Says n/a instead of a date","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-10-14T18:43:55.861808Z","updated_at":"2025-11-15T11:14:31.376458-08:00","closed_at":"2025-10-14T18:43:55.905216Z","external_ref":"gh-10","source_repo":"."}
{"id":"goread2-48abe4df","content_hash":"fd1b250dae6809fdb9fe6757231e9e2d8ffc55c753b1a91cc867d8fe8158b5bc","title":"Add global search for articles","description":"Implement search functionality to find articles across all feeds.\n\nSearch capabilities:\n- Search article titles and content\n- Filter by feed\n- Filter by date range\n- Filter by read/unread/starred status\n- Search as you type (debounced)\n- Keyboard shortcut to open search (/ or Cmd+K)\n\nUI:\n- Search bar in header or modal overlay\n- Show results in article list pane\n- Highlight search terms in results\n- Show match count\n- Clear search easily\n\nBackend requirements:\n- May need full-text search index\n- Pagination for results\n- Fast search performance\n\nAdvanced features (future):\n- Save searches\n- Search history\n- Boolean operators (AND, OR, NOT)\n- Regex support for power users\n\nFiles to modify:\n- Backend: Add search API endpoint\n- web/static/js/app.js (search UI and logic)\n- web/static/css/styles.css (search styling)\n- web/templates/index.html (search input)\n- May need database indexes for performance","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-15T20:18:52.832896-08:00","updated_at":"2025-11-15T20:18:52.832896-08:00","source_repo":"."}
{"id":"goread2-4cfd3fbf","content_hash":"ae26c915c3c4fe7834c3b91fa12e6d5953024dcaae89faff17d964005ec8abde","title":"Add user-configurable feed ordering in sidebar","description":"Currently, feeds in the left sidebar appear to be ordered by title alphabetically. Users should be able to choose how their feeds are ordered.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-10-14T18:43:55.818912Z","updated_at":"2025-11-15T11:14:31.375543-08:00","external_ref":"gh-11","source_repo":"."}
{"id":"goread2-4d5f7786","content_hash":"49891621bb0fe0e2d65fd0b17f08eb64b7a3266b487784e5adfed716f3348e18","title":"Add empty states with illustrations","description":"Add friendly empty states throughout the app to guide users when there's no content.\n\nEmpty states needed:\n1. No feeds subscribed - Show welcome message with 'Add Feed' CTA\n2. No unread articles - Show 'All caught up!' message with illustration\n3. Feed has no articles - Show 'No articles yet' message\n4. Search returns no results (when search is implemented)\n\nEach empty state should:\n- Have a friendly illustration or icon\n- Include helpful text explaining the state\n- Provide actionable CTA when appropriate\n- Be responsive (work on desktop and mobile)\n\nFiles to modify:\n- web/static/css/styles.css\n- web/static/js/app.js\n- web/templates/index.html\n- Consider adding SVG illustrations to web/static/images/","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-15T20:18:52.833373-08:00","updated_at":"2025-11-15T20:18:52.833373-08:00","closed_at":"2025-10-21T15:57:57.462613Z","source_repo":"."}
{"id":"goread2-4j3w","content_hash":"e291a02fc880c6c49ea1894975ba383e3457e6f8a37b9a39aa8d32715ee3d5ed","title":"rate_limiter.go:CleanupOldLimiters removes in-use limiters","description":"Lines 128-139: CleanupOldLimiters removes any limiter at full token capacity (limiter.Tokens() \u003e= burstSize). A limiter can be at full capacity but still actively rate-limiting (e.g., recently used domain that regenerated all tokens). Issue: If cleanup runs between requests, limiter is removed and recreated, resetting rate limit state. Fix: Track last access time per limiter and only cleanup limiters unused for X duration (e.g., 1 hour).","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:09:11.312335-08:00","updated_at":"2025-11-15T20:09:11.312335-08:00","source_repo":"."}
{"id":"goread2-533778fe","content_hash":"63b97729bd271857987d01f583662b9a204ff32d086384e757f012b50714e34e","title":"Show error message when adding a new feed fails","description":"Currently when adding a new feed fails (invalid URL, timeout, unreachable server, invalid feed format), the user doesn't see a clear error message. Add toast notifications or inline error messages to inform users why their feed couldn't be added. Should show specific error types: DNS lookup failed, timeout, invalid feed format, etc.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-02T13:15:25.464825Z","updated_at":"2025-11-18T18:05:57.160488-08:00","closed_at":"2025-11-18T18:05:57.160488-08:00","source_repo":"."}
{"id":"goread2-558fd6cc","content_hash":"6b4214d48918eedc2986302a8ead851f9796f4c7e05800448f5a6cc9a43fb117","title":"CRITICAL: TLS Certificate Verification Disabled in Production","description":"**Location:** internal/services/feed_service.go:432\n\n**Issue:** The feed fetching service disables TLS certificate verification when running on App Engine (GAE_ENV=standard), making the application vulnerable to man-in-the-middle attacks when fetching RSS feeds.\n\n**Code:**\n```go\nif os.Getenv(\"GAE_ENV\") == \"standard\" {\n    transport.TLSClientConfig = \u0026tls.Config{\n        InsecureSkipVerify: true,\n    }\n}\n```\n\n**Risk:** HIGH - Attackers can intercept HTTPS connections and inject malicious content into RSS feeds.\n\n**Recommendation:** Bundle proper CA certificates or use App Engine's default transport instead of disabling verification.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-15T20:18:52.833819-08:00","updated_at":"2025-11-15T20:18:52.833819-08:00","closed_at":"2025-10-16T21:28:20.000421Z","source_repo":"."}
{"id":"goread2-5596db99","content_hash":"958bd6505405cdbd949753f1c9d826cbbe73f3e24d2d55deff058bdce828d0bb","title":"LOW: Sensitive Data May Appear in Debug Logs","description":"**Location:** Multiple files with fmt.Printf and log.Printf\n\n**Issue:** Debug logging statements throughout the codebase may inadvertently log sensitive data:\n- internal/database/schema.go:1013-1014 - Logs subscription details\n- internal/handlers/payment_handler.go:74-94 - Logs webhook payloads (may contain PII)\n- internal/services/payment_service.go - Logs Stripe API responses\n\n**Risk:** LOW - Sensitive data exposure in logs, potential compliance violations\n\n**Recommendation:**\n1. Audit all logging statements for sensitive data\n2. Redact PII, tokens, and secrets from logs\n3. Use structured logging with automatic redaction\n4. Implement log levels and disable debug logs in production","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-11-15T20:18:52.834297-08:00","updated_at":"2025-11-15T20:18:52.834297-08:00","closed_at":"2025-10-30T18:54:20.042719Z","source_repo":"."}
{"id":"goread2-55z","content_hash":"7106692e4a7e34ed7e2042375943417db21d037b7d725c92ade001613c602c9e","title":"FIX CRITICAL: Add cleanup goroutine to UnreadCache to prevent memory leak","description":"CRITICAL MEMORY LEAK: Expired cache entries are never removed from memory, causing unbounded memory growth.\n\nLocation: internal/cache/unread_cache.go:40\n\nProblem:\n- When cache entries expire, they return cache miss but remain in memory\n- counts and refreshAt maps grow without bound\n- For 10,000 users over time, all expired entries accumulate forever\n\nCurrent behavior:\nif time.Now().After(uc.refreshAt[userID]) {\n    return nil, false  // Returns miss but DOESN'T delete expired data\n}\n\nRequired fix:\n1. Add cleanupExpiredEntries() goroutine in NewUnreadCache\n2. Run cleanup every 5 minutes with ticker\n3. Delete entries where now.After(expiry)\n\nExample implementation:\nfunc (uc *UnreadCache) cleanupExpiredEntries() {\n    ticker := time.NewTicker(5 * time.Minute)\n    defer ticker.Stop()\n    \n    for range ticker.C {\n        uc.mu.Lock()\n        now := time.Now()\n        for userID, expiry := range uc.refreshAt {\n            if now.After(expiry) {\n                delete(uc.counts, userID)\n                delete(uc.refreshAt, userID)\n            }\n        }\n        uc.mu.Unlock()\n    }\n}\n\nImpact: Production blocker - will cause memory exhaustion over time\nPriority: CRITICAL - must fix before production deployment","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-15T19:45:59.639707-08:00","updated_at":"2025-11-15T20:25:13.820536-08:00","closed_at":"2025-11-15T20:25:13.820536-08:00","source_repo":"."}
{"id":"goread2-5d799a68","content_hash":"c93be8ada5cc27b8ca43d8986ae193e9c89ba2d0c61f9732417ddb8dc54435cf","title":"Search filter for feed list","description":"The feed list is gonna get long for some folks. Add a way to filter it.","status":"open","priority":2,"issue_type":"feature","created_at":"2025-10-14T18:43:55.55739Z","updated_at":"2025-11-15T11:14:31.374096-08:00","external_ref":"gh-16","source_repo":"."}
{"id":"goread2-5e5e8b6f","content_hash":"ddf547c5c43d31523c60a0199bb0fddca451963945467d68ef5e2342a9264813","title":"Add secrets manager tests","description":"Secrets manager (internal/secrets/secrets.go) has 0% test coverage. Add tests for:\n- GetOAuthCredentials with various sources (env vars, Secret Manager)\n- GetStripeCredentials validation\n- Environment detection (local vs production)\n- Fallback behavior when secrets are missing\n- Secret Manager API error handling\nCritical for security but completely untested.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T20:18:52.834888-08:00","updated_at":"2025-11-15T20:18:52.834888-08:00","closed_at":"2025-10-19T21:16:19.804566Z","source_repo":"."}
{"id":"goread2-5iz","content_hash":"b86bd2637ef921eba6bce2ed6f90da3f25efedff0ccad80933ce94bcaffe6527","title":"Improve session expiration check to avoid race condition","description":"Minor improvement to session expiration handling to delete expired sessions asynchronously.\n\nLocation: internal/auth/session.go:101-105\n\nCurrent behavior: Checks expiration after DB read, deletes synchronously\nIssue: Very low severity race condition (sub-second window)\n\nRecommended implementation:\n- Delete expired sessions asynchronously with go sm.DeleteSession(sessionID)\n- Avoids blocking the request for cleanup\n\nImpact: Very low - this is mostly a code quality improvement.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-15T19:45:42.577668-08:00","updated_at":"2025-11-15T19:45:42.577668-08:00","source_repo":"."}
{"id":"goread2-5nw","content_hash":"14ed7f40ed0499ec5a41e20a04357d86e6ee2b47a46d1e27326feb305ec52310","title":"No secret version pinning support","description":"Always fetches 'latest' secret version. Cannot pin to specific version for rollback or testing.\n\nLocation: internal/secrets/secrets.go:28\nImpact: Cannot rollback to previous secret version, difficult testing\n\nFix: Add optional version parameter, default to 'latest'","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-15T20:02:59.486755-08:00","updated_at":"2025-11-15T20:02:59.486755-08:00","source_repo":"."}
{"id":"goread2-5tz","content_hash":"98ca6a96dcefa8a077b53680f14423226ca69ee2924239ecd565431f214c53a4","title":"No validation of fetched secrets","description":"GetSecret returns raw secret data without validating it's non-empty or has expected format. Could return empty secrets.\n\nLocation: internal/secrets/secrets.go:37, 53, 65\nImpact: Silent failures with empty secrets, cryptic errors later\n\nFix: Validate secrets are non-empty and match expected format (e.g., Stripe keys have prefix)","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T20:02:29.156267-08:00","updated_at":"2025-11-15T20:02:29.156267-08:00","source_repo":"."}
{"id":"goread2-60816386","content_hash":"ba4ec469811caa7d94cf0ad33705cbaa416941dfbd925751b562d47ac99206f4","title":"Feed discovery is wonky","description":"Can't find the feed for https://hachyderm.io/@mekkaokereke. Had issues with dnalounge.com too.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-10-14T18:43:56.129468Z","updated_at":"2025-11-15T11:14:31.380232-08:00","closed_at":"2025-10-14T18:43:56.172031Z","external_ref":"gh-6","source_repo":"."}
{"id":"goread2-60dfc71e","content_hash":"8351f0ed318c411766218b8d7f1a8c28f2f0eda563e082fb023772aa27aae121","title":"Standardize database interface for unit testing","description":"The current database.Database interface has inconsistent method signatures and return types across its definition and implementations.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-10-14T18:43:56.387789Z","updated_at":"2025-11-15T11:14:31.382222-08:00","closed_at":"2025-10-14T18:43:56.431382Z","external_ref":"gh-2","source_repo":"."}
{"id":"goread2-6422726c","content_hash":"94f33ee43b29ba89cc13cad7785e6ac414ef8559d8f96628f7c4818135a4fbfd","title":"MEDIUM: CSRF Tokens Stored in Memory (Lost on Restart)","description":"**Location:** internal/auth/csrf.go\n\n**Issue:** CSRF tokens are stored in an in-memory map that is cleared on application restart, invalidating all active user sessions without warning.\n\n**Code:**\n```go\ntype CSRFManager struct {\n    tokens map[string]*CSRFToken  // Lost on restart\n    mu     sync.RWMutex\n}\n```\n\n**Risk:** MEDIUM - User experience degradation, all users forced to re-authenticate after deployment\n\n**Recommendation:**\n1. Store CSRF tokens in database alongside sessions\n2. Or use session-based CSRF tokens derived from session ID\n3. Implement graceful token migration on restart","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:18:52.835322-08:00","updated_at":"2025-11-15T20:18:52.835322-08:00","closed_at":"2025-10-18T18:47:29.171872Z","source_repo":"."}
{"id":"goread2-648367a5","content_hash":"70f7e809942f50c7c1b403bfb4f4a6ad72c98e8ec92f7c71b45e1f648884e931","title":"MEDIUM: IP Address Spoofing Risk with ClientIP()","description":"**Location:** Multiple handlers use c.ClientIP() for rate limiting and audit logging\n\n**Issue:** Gin's ClientIP() method trusts X-Forwarded-For headers without validation, allowing attackers to spoof their IP address to bypass rate limits or poison audit logs.\n\n**Affected Files:**\n- internal/auth/rate_limiter.go:79\n- internal/handlers/admin_handler.go (multiple locations)\n- internal/handlers/feed_handler.go:236\n\n**Risk:** MEDIUM - Attackers can bypass rate limiting and obscure their identity in audit logs.\n\n**Recommendation:** \n1. Configure trusted proxies in Gin\n2. Validate X-Forwarded-For headers\n3. Consider using RemoteAddr for rate limiting as a fallback","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:18:52.835773-08:00","updated_at":"2025-11-15T20:18:52.835773-08:00","closed_at":"2025-10-17T15:56:13.797032Z","source_repo":"."}
{"id":"goread2-6889f28e","content_hash":"6d9a00c73bbd5fd27ce34b6110661f6f0d68f08afcfbfa5e7c15e1bc4b6aeee7","title":"HIGH: SSRF Vulnerability in Feed URL Handling","description":"**Location:** internal/services/feed_service.go - AddFeedForUser()\n\n**Issue:** Feed URLs are not validated before being fetched, allowing Server-Side Request Forgery (SSRF) attacks. Attackers can:\n- Probe internal network services (localhost, 192.168.x.x, 10.x.x.x)\n- Access cloud metadata endpoints (169.254.169.254)\n- Scan internal ports\n\n**Code:** No validation on inputURL before passing to fetchFeed()\n\n**Risk:** HIGH - Internal network exposure, cloud credential theft\n\n**Recommendation:**\n1. Whitelist allowed URL schemes (http/https only)\n2. Blacklist private IP ranges (RFC1918, loopback, link-local)\n3. Blacklist cloud metadata IPs (169.254.169.254)\n4. Validate resolved IP addresses after DNS lookup","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-15T20:18:52.836239-08:00","updated_at":"2025-11-15T20:18:52.836239-08:00","closed_at":"2025-10-17T15:44:02.843942Z","source_repo":"."}
{"id":"goread2-73303db9","content_hash":"8bd6a47b90e70e9606e9c63331e304cbc9a799884395cf7c9022b54c129f402a","title":"LOW: Rate Limiter Memory Grows Unbounded","description":"**Location:** internal/auth/rate_limiter.go:61-73\n\n**Issue:** The rate limiter's cleanupIPs() function completely clears the IP map every hour instead of removing only inactive IPs, but the map can still grow unbounded between cleanups.\n\n**Code:**\n```go\nfunc (rl *RateLimiter) cleanupIPs() {\n    ticker := time.NewTicker(1 * time.Hour)\n    for range ticker.C {\n        rl.mu.Lock()\n        rl.ips = make(map[string]*rate.Limiter)  // Clears all\n        rl.mu.Unlock()\n    }\n}\n```\n\n**Risk:** LOW - Memory exhaustion under sustained high-traffic or attack\n\n**Recommendation:**\n1. Track last access time for each IP\n2. Only remove IPs inactive for \u003e 1 hour\n3. Or implement LRU cache with max size","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-11-15T20:18:52.836749-08:00","updated_at":"2025-11-15T20:18:52.836749-08:00","closed_at":"2025-10-30T18:48:35.078456Z","source_repo":"."}
{"id":"goread2-73v","content_hash":"700293892526657d7900bea7014177c7fd5bdfd8615f22ce45395d90cc548739","title":"Sessions never refreshed in auth middleware","description":"RequireAuth and RequireAdmin validate sessions but never call sessionManager.RefreshSession. Users must re-login after session expiry even if actively using the app.\n\nLocation: internal/auth/middleware.go:28-37, 72-88\nImpact: Poor UX - active users forced to re-authenticate\n\nFix: Call sessionManager.RefreshSession on successful validation to extend session","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T19:59:41.810195-08:00","updated_at":"2025-11-15T19:59:41.810195-08:00","source_repo":"."}
{"id":"goread2-77","content_hash":"d5df019ff40ffa277dc88dc4f320be853f802a2e7595480f7bd36ef3068c33b5","title":"Add custom accent color picker","description":"Allow users to customize the app accent color beyond the default blue.\n\nCurrent state:\n- Hardcoded blue (#1a73e8) throughout app\n- Very Google-like, no personalization\n\nImplementation:\n- Color picker in settings/account page\n- Preset color options (blue, green, purple, orange, red)\n- Custom color picker for advanced users\n- Update CSS variables dynamically\n- Store in user preferences (backend) or localStorage\n- Apply to: buttons, links, active states, badges\n\nCSS variables to add:\n--color-primary\n--color-primary-hover\n--color-primary-light\n--color-primary-dark\n\nEnsure:\n- Sufficient contrast ratios maintained\n- Works with both light and dark modes\n- Preview before applying\n\nFiles to modify:\n- web/static/css/styles.css (CSS variables)\n- web/static/js/app.js or account.js (color picker)\n- web/templates/account.html (settings UI)\n- Backend: Store user preference","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-15T20:18:15.651282-08:00","updated_at":"2025-11-15T20:18:15.651282-08:00","source_repo":"."}
{"id":"goread2-78a8a4bb","content_hash":"700bb94afd9b995a1741389364894c6317dc03f308f61b13fa707d558d997417","title":"LOW: No Security Headers Configured","description":"**Location:** main.go - Missing security header middleware\n\n**Issue:** The application does not set recommended security HTTP headers:\n- X-Frame-Options (clickjacking protection)\n- X-Content-Type-Options (MIME sniffing protection)  \n- X-XSS-Protection (XSS filter)\n- Strict-Transport-Security (HSTS)\n- Content-Security-Policy (CSP)\n- Referrer-Policy (referrer leakage)\n\n**Risk:** LOW - Missing defense-in-depth layers\n\n**Recommendation:**\nAdd security headers middleware:\n```go\nr.Use(func(c *gin.Context) {\n    c.Header(\"X-Frame-Options\", \"DENY\")\n    c.Header(\"X-Content-Type-Options\", \"nosniff\")\n    c.Header(\"X-XSS-Protection\", \"1; mode=block\")\n    c.Header(\"Referrer-Policy\", \"strict-origin-when-cross-origin\")\n    if isProduction {\n        c.Header(\"Strict-Transport-Security\", \"max-age=31536000; includeSubDomains\")\n    }\n    c.Next()\n})\n```","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-15T20:18:52.839893-08:00","updated_at":"2025-11-15T20:18:52.839893-08:00","source_repo":"."}
{"id":"goread2-79e0c599","content_hash":"d41cc1e9d76f654ed9c60962afda6d2f425d08ef738b94255acc79a602a895eb","title":"Add feed service error handling tests","description":"Feed service has gaps in error handling test coverage. Add tests for:\n- AddFeedForUser failure cases\n- RefreshFeeds with various error conditions\n- OPML import/export edge cases\n- Feed discovery failures\n- Article deduplication logic\n- Concurrent access patterns\nMany service methods have 0% or low coverage for error paths.","status":"in_progress","priority":2,"issue_type":"task","created_at":"2025-11-15T20:18:52.840604-08:00","updated_at":"2025-11-15T20:18:52.840604-08:00","source_repo":"."}
{"id":"goread2-7bu","content_hash":"de231ae1d45aa9992da35b0dd0eaf6688c86f3e5db0cb41695cf5a130cd2a73d","title":"Goroutine leak in AddFeedForUser timeout","description":"AddFeedForUser spawns goroutine but doesn't cancel it on context timeout. Goroutine continues running and may complete work after timeout, wasting resources.\n\nLocation: internal/services/feed_service.go:199-220\nImpact: Resource leak, goroutines pile up on slow feeds, potential memory/CPU exhaustion\n\nFix: Use context cancellation to stop goroutine when timeout occurs","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-15T20:04:30.192834-08:00","updated_at":"2025-11-16T18:12:55.071484-08:00","closed_at":"2025-11-16T18:12:55.071484-08:00","source_repo":"."}
{"id":"goread2-7e6dff49","content_hash":"7227167b129b4eb944a855b444726ca8a4a18089405e3ba9fa69622072470b32","title":"Mark all as read","description":"Add mark all as read functionality","notes":"API-only implementation - no UI needed. Should support marking all items as read for the current user via REST endpoint.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-10-14T18:43:55.514985Z","updated_at":"2025-11-15T11:14:31.373827-08:00","closed_at":"2025-10-21T15:28:43.818226Z","external_ref":"gh-17","source_repo":"."}
{"id":"goread2-7fbe2e7c","content_hash":"fd29a8b84947b6d82ac841f805931f5fabe7f598b1b8ff9ff24d7e22a24d2a14","title":"Feeds not loading on initial page load","description":"Error in browser console: Failed to load resource: the server responded with a status of 401","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-10-14T18:43:55.450035Z","updated_at":"2025-11-15T11:14:31.373546-08:00","closed_at":"2025-10-14T18:43:55.492737Z","external_ref":"gh-18","source_repo":"."}
{"id":"goread2-7oq","content_hash":"6c7e58091cb4805fcfc3982f3be0ec872037ac6330b735444e057b4c2af0300f","title":"No limit on feed body size in fetchFeed","description":"fetchFeed uses io.ReadAll without size limit. Malicious feed could send GB of data causing OOM.\n\nLocation: internal/services/feed_service.go:530\nImpact: DoS via large feed payloads, memory exhaustion\n\nFix: Use io.LimitReader with reasonable limit (e.g., 10MB)","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T20:04:48.174138-08:00","updated_at":"2025-11-15T20:04:48.174138-08:00","source_repo":"."}
{"id":"goread2-7tpb","content_hash":"923c8515e839a483a83fff6bdb6c308d2f48acd329bd8e9c1ea8bf4ab1b5a7c5","title":"url_validator.go:CreateSecureHTTPClient has hardcoded timeouts","description":"Lines 126-155 create HTTP client with hardcoded timeout values (30s dial, 10s TLS, 10s headers, 1s expect-continue). These aren't configurable and may not suit all feed sources. Issue: Some slow feeds may need longer timeouts, fast feeds could use shorter. No way to customize per use case. Fix: Accept timeout configuration via URLValidator constructor or CreateSecureHTTPClient parameters.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:08:59.321238-08:00","updated_at":"2025-11-15T20:08:59.321238-08:00","source_repo":"."}
{"id":"goread2-7zv","content_hash":"17740bc8bbe66b1c50ddd6a62b94346807e1803237dc7f724b7d9f4025a30552","title":"Cron endpoint SSRF vulnerability in non-GAE","description":"RefreshFeeds and CleanupOrphanedUserArticles cron endpoints check X-Appengine-Cron header which can be spoofed outside GAE. Local auth only checks IsAdmin.\n\nLocation: internal/handlers/feed_handler.go:278-342\nImpact: Attackers can trigger expensive cron operations, DoS risk\n\nFix: Add ADMIN_TOKEN check for local cron requests or use signed tokens","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-15T19:57:03.982977-08:00","updated_at":"2025-11-16T18:14:48.047515-08:00","closed_at":"2025-11-16T18:14:48.047515-08:00","source_repo":"."}
{"id":"goread2-816eefe1","content_hash":"b3c2bf967e3e78dc59799a589331f429bd4d713fe957d7d21e4d45795772740a","title":"LOW: Missing GDPR Compliance Mechanisms","description":"**Location:** Privacy policy referenced but no data export/deletion\n\n**Issue:** The application references a privacy policy but lacks required GDPR compliance features:\n- No user data export functionality\n- No user account deletion endpoint  \n- No data retention policies implemented\n- User data (articles read/starred) persists indefinitely\n\n**Current State:**\n- Privacy policy page exists at /privacy\n- Users can view their data but cannot export it\n- No way to delete account and associated data\n\n**Risk:** LOW - Potential GDPR/privacy regulation violations in EU\n\n**Recommendation:**\n1. Add 'Export My Data' endpoint (JSON format)\n2. Add 'Delete My Account' endpoint (with confirmation)\n3. Implement data retention policies\n4. Add consent tracking for analytics/cookies\n5. Document data processing in privacy policy","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-15T20:18:52.841096-08:00","updated_at":"2025-11-15T20:18:52.841096-08:00","source_repo":"."}
{"id":"goread2-83","content_hash":"3c2187210ad921d2871e0c471a5cc4ba7889572147fa3885aaaa957be0c9a78b","title":"Add feed grouping and organization features","description":"Add ability to group and organize feeds into folders/categories.\n\nCurrent state:\n- Flat feed list\n- No way to organize feeds\n- Becomes unwieldy with many feeds\n- goread2-19 exists for feed ordering, this is for grouping\n\nFeatures:\n\n1. Folder/Category support:\n   - Create folders (e.g., Tech, News, Blogs)\n   - Drag and drop feeds into folders\n   - Expand/collapse folders\n   - Show unread count per folder\n   - 'All Articles' view shows all folders\n\n2. Visual organization:\n   - Indent feeds within folders\n   - Folder icons (📁 or SVG)\n   - Color coding for folders (optional)\n   - Compact folder view option\n\n3. Folder operations:\n   - Mark all as read in folder\n   - Refresh all feeds in folder\n   - Rename folder\n   - Delete folder (keeps feeds)\n\n4. Import/Export:\n   - OPML import should preserve folders\n   - OPML export includes folder structure\n\n5. UI/UX:\n   - Context menu for feed management\n   - Keyboard shortcuts (g+folder-name)\n   - Search within folder\n\nStorage:\n- Backend: folder metadata per user\n- Associate feeds with folder IDs\n- Default 'Uncategorized' folder\n\nDependencies:\n- Blocks or relates to goread2-19 (feed ordering)\n\nFiles to modify:\n- Backend: Add folders table, update feed schema\n- web/static/js/app.js (folder UI, drag-drop)\n- web/static/css/styles.css (folder styling)\n- web/templates/index.html (folder structure)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-10-21T15:48:32.220064Z","updated_at":"2025-10-21T15:48:32.220064Z","source_repo":"."}
{"id":"goread2-83339b62","content_hash":"92f01d354e1d7fa8c12bbc8d7cff6f5810bfc4c0fa7815cf64721d14a8fa14d0","title":"Add performance tests for feed refresh","description":"Add performance and load tests to ensure system scales properly:\n- Feed refresh with 100+ feeds\n- Concurrent user operations\n- Database query performance under load\n- Memory usage during bulk operations\n- Staggered refresh scheduler performance\n- Rate limiter under high load\nCreate benchmarks to track performance regressions.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T20:18:52.841569-08:00","updated_at":"2025-11-15T20:18:52.841569-08:00","closed_at":"2025-10-19T21:48:22.877179Z","source_repo":"."}
{"id":"goread2-84","content_hash":"6e0bcb450e1e8c94244e94d06c6d87aef779b44e311816c8b7310b4171dd1f2a","title":"Add unread count and total count display","description":"Improve article count visibility by showing both unread and total counts.\n\nCurrent state:\n- Only shows unread count as badge\n- Badge disappears when count is 0\n- No context for total articles available\n\nImprovements:\n\n1. Feed list counts:\n   - Show 'X / Y' format (unread / total)\n   - Or 'X unread' with total on hover\n   - Subtle 'All caught up' indicator when unread = 0\n   - Total count helps gauge feed activity\n\n2. Article pane header:\n   - Show count of filtered articles\n   - E.g., 'Showing 15 unread articles' or 'Showing 50 articles'\n   - Update dynamically as articles load\n\n3. 'All Articles' view:\n   - Show total across all feeds\n   - E.g., '127 unread / 450 total'\n\n4. Visual design:\n   - Keep unread badge prominent (current blue)\n   - Total count in gray/subtle text\n   - Don't clutter UI on mobile\n\n5. Settings option:\n   - Toggle to show/hide total counts\n   - Some users only care about unread\n\nFiles to modify:\n- web/static/js/app.js (count calculation and display)\n- web/static/css/styles.css (count styling)\n- Backend: May need to return total counts in API","status":"open","priority":2,"issue_type":"feature","created_at":"2025-10-21T15:48:42.140264Z","updated_at":"2025-10-21T15:48:42.140264Z","source_repo":"."}
{"id":"goread2-84efd68d","content_hash":"c52049fcec8064849a905cc2604223e5981d7ae95f044174284942cc57481821","title":"Add view density toggle (compact/comfortable/spacious)","description":"Allow users to choose article list density to fit their preference and screen size.\n\nThree density modes:\n1. Compact - 8px padding, smaller fonts, more items visible\n2. Comfortable - Current default (16px padding)\n3. Spacious - 24px padding, larger fonts, easier reading\n\nImplementation:\n- Toggle in header or settings\n- Apply CSS class to article-list container\n- Store preference in localStorage\n- Different densities for desktop vs mobile\n- Update min-height for touch targets on mobile\n\nBenefits:\n- Power users can see more items\n- Users with vision issues can use spacious mode\n- Customization improves user satisfaction\n\nFiles to modify:\n- web/static/css/styles.css (density classes)\n- web/static/js/app.js (toggle logic)\n- web/templates/index.html (toggle UI)","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-15T20:18:52.842007-08:00","updated_at":"2025-11-15T20:18:52.842007-08:00","source_repo":"."}
{"id":"goread2-85","content_hash":"8819815f2a454d4828324bd0122a9f6f899cc370abbeb004e513a5e364bf029d","title":"Add animation and micro-interaction polish","description":"Add smooth animations and micro-interactions throughout the app for a more polished feel.\n\nCurrent state:\n- Some basic hover transitions\n- Mobile pane transitions exist\n- Could be more delightful\n\nAnimations to add:\n\n1. List interactions:\n   - Smooth fade-in when articles load\n   - Slide animation when marking as read\n   - Bounce when starring\n   - Ripple effect on tap (mobile)\n\n2. Modal animations:\n   - Slide up from bottom on mobile (vs fade)\n   - Backdrop fade in\n   - Content scale-in slightly\n\n3. Button feedback:\n   - Scale slightly on press (0.95)\n   - Color transition smoothing\n   - Loading state animations\n\n4. Pane transitions:\n   - Smooth slide transitions on mobile nav\n   - Fade between content changes\n   - Skeleton → content fade\n\n5. Contextual animations:\n   - Success checkmark when action completes\n   - Error shake on failed validation\n   - Article count badge animate on change\n   - Pulse on new articles\n\n6. Scroll effects:\n   - Header shadow on scroll\n   - Smooth scroll to top button\n   - Scroll progress indicator\n\nPerformance:\n- Use CSS transforms (GPU accelerated)\n- Respect prefers-reduced-motion\n- Keep animations under 300ms\n- Use requestAnimationFrame for JS animations\n\nFiles to modify:\n- web/static/css/styles.css (animation keyframes, transitions)\n- web/static/js/app.js (trigger animations)\n- Add utility animation classes","status":"open","priority":2,"issue_type":"task","created_at":"2025-10-21T15:48:54.228141Z","updated_at":"2025-10-21T15:48:54.228141Z","source_repo":"."}
{"id":"goread2-86","content_hash":"dc795515e740f97f5d684d6dc16415ef076f70f805a1f5809acac03ce9bb5d0a","title":"Auto-select first unread article after load more","description":"When clicking 'load more articles' after reading the first 50, the UI should auto-select the first unread article in the newly loaded list. Currently, the selection stays on the previously read article, requiring the user to manually click or navigate to the next unread article. Expected: pressing 'j' after load more should jump to the first unread article in the new batch.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-10-29T18:26:55.172614Z","updated_at":"2025-10-29T18:31:43.583891Z","closed_at":"2025-10-29T18:31:43.583893Z","source_repo":"."}
{"id":"goread2-87","content_hash":"ca69fd13ff3ea5c04d89b97317d7a41a47e651951f4d29681d98ec20ad0bc482","title":"Improve error messages with retry actions","description":"Enhance error handling UI throughout the app with better messages and retry capabilities.\n\nCurrent issues:\n- Generic error messages lack specific guidance\n- No retry mechanism for failed operations\n- Errors block UI with no recovery path\n- Network errors indistinguishable from other errors\n\nImprovements needed:\n1. Add retry buttons to error messages\n2. Differentiate error types (network, auth, validation, server)\n3. Provide specific guidance for each error type\n4. Use toast notifications for non-critical errors\n5. Add exponential backoff for automatic retries\n6. Show connection status indicator\n\nAreas to improve:\n- Feed refresh failures\n- Article loading errors\n- Feed addition errors\n- OPML import errors\n- Authentication failures\n\nFiles to modify:\n- web/static/js/app.js (error handling functions)\n- web/static/css/styles.css (error and toast styling)\n- web/templates/index.html (error message markup)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-15T20:18:52.842591-08:00","updated_at":"2025-11-15T20:18:52.842591-08:00","closed_at":"2025-10-31T20:30:49.290059Z","source_repo":"."}
{"id":"goread2-87b5bc9b","content_hash":"6ebb1d3b3a597565b7142210d61e17df22cb5cf0c6e69a94075f84d8d88aa588","title":"Improve subscription service test coverage","description":"Subscription service has 34.7% coverage with many error paths untested. Add tests for:\n- Trial expiration edge cases (lines 206-252)\n- Feed limit enforcement (lines 253-325)\n- Subscription status calculation (lines 326-436)\n- Edge cases around billing dates\n- Concurrent subscription updates\n- Stripe metadata handling\nFocus on error paths and edge cases that are currently at 32-52% coverage.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T20:18:52.84304-08:00","updated_at":"2025-11-15T20:18:52.84304-08:00","closed_at":"2025-10-19T10:38:49.423681Z","source_repo":"."}
{"id":"goread2-882a3931","content_hash":"fafb502c0f9f3fe5787399cc90bba1044cfd144c78b6f377ab949976ba475f74","title":"Add Google Analytics","description":"Add Google Analytics so I can track myself.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-10-14T18:43:56.257518Z","updated_at":"2025-11-15T11:14:31.381152-08:00","closed_at":"2025-10-14T18:43:56.299939Z","external_ref":"gh-4","source_repo":"."}
{"id":"goread2-89","content_hash":"a366655dd6e0b4a8578268acdca5fb73163e988d9b3e2148928355a43e334cac","title":"Improve error messages with retry actions","description":"Enhance error handling UI throughout the app with better messages and retry capabilities.\n\nCurrent issues:\n- Generic error messages lack specific guidance\n- No retry mechanism for failed operations\n- Errors block UI with no recovery path\n- Network errors indistinguishable from other errors\n\nImprovements needed:\n1. Add retry buttons to error messages\n2. Differentiate error types (network, auth, validation, server)\n3. Provide specific guidance for each error type\n4. Use toast notifications for non-critical errors\n5. Add exponential backoff for automatic retries\n6. Show connection status indicator\n\nAreas to improve:\n- Feed refresh failures\n- Article loading errors\n- Feed addition errors\n- OPML import errors\n- Authentication failures\n\nFiles to modify:\n- web/static/js/app.js (error handling functions)\n- web/static/css/styles.css (error and toast styling)\n- web/templates/index.html (error message markup)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-01T18:08:17.723051Z","updated_at":"2025-11-02T12:14:40.185326Z","closed_at":"2025-11-02T12:14:40.185326Z","source_repo":"."}
{"id":"goread2-89h","content_hash":"8eda9d35d276c521bce126dee859f38c8c0cfbefc1bd51dc241d0a8f0e268e95","title":"Update WarnAboutUnhandledEnvVars to include all config variables","description":"The handledVars map in WarnAboutUnhandledEnvVars is missing several environment variables that are actually handled by the application, causing false warnings.\n\nLocation: internal/config/validation.go:130-177\n\nMissing variables:\n- RATE_LIMIT_REQUESTS_PER_MINUTE (used in config.go:80)\n- RATE_LIMIT_BURST_SIZE (used in config.go:81)\n- SCHEDULER_UPDATE_WINDOW (used in config.go:82)\n- SCHEDULER_MIN_INTERVAL (used in config.go:83)\n- SCHEDULER_MAX_CONCURRENT (used in config.go:84)\n- SCHEDULER_CLEANUP_INTERVAL (used in config.go:85)\n- DATABASE_PATH (used in config.go:61)\n- CSRF_SECRET (used in internal/auth/csrf.go)\n- ENVIRONMENT (checked in internal/auth/session.go)\n- GAE_ENV (checked in multiple places)\n\nImpact:\nUsers will see false warnings like 'WARNING: Environment variable RATE_LIMIT_REQUESTS_PER_MINUTE may not be handled' even though it is handled.\n\nFix:\nAdd all missing variables to the handledVars map.\n\nPriority: Medium - causes confusion but doesn't break functionality","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T19:49:12.591643-08:00","updated_at":"2025-11-15T19:49:12.591643-08:00","source_repo":"."}
{"id":"goread2-8bd6a6a4","content_hash":"a38c8d7b7ff509d20bdd49f735ca80ae948b4daa46359554b3f18e807c84eb57","title":"Replace InsecureSkipVerify with proper CA certificate bundle on App Engine","description":"## Problem","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:18:52.843481-08:00","updated_at":"2025-11-15T20:18:52.843481-08:00","closed_at":"2025-10-14T18:42:42.424912Z","source_repo":"."}
{"id":"goread2-8e38b6b6","content_hash":"fae7c53f57f14131f5b6e32736a682b9836740f3285642240be9756a302c1b59","title":"Add onboarding flow for new users","description":"Create a welcoming onboarding experience for first-time users to guide them through key features.\n\nCurrent state:\n- New users see blank screens\n- No guidance on how to get started\n- Keyboard shortcuts hidden in help modal\n- Features not discoverable\n\nOnboarding flow:\n1. Welcome screen after first login\n2. Option to add sample feeds or import OPML\n3. Brief tour of key features (optional, can skip)\n4. Highlight keyboard shortcuts\n5. Show where to find help\n\nImplementation approaches:\n- Lightweight tooltip tour (use a library like Intro.js or custom)\n- Optional video walkthrough\n- Interactive checklist of first actions\n- Sample/demo feeds to explore\n\nFirst-time user checklist:\n□ Add your first feed\n□ Star an article  \n□ Try keyboard shortcuts (j/k)\n□ Import OPML from another reader\n□ Customize settings\n\nFeatures to highlight:\n- Keyboard shortcuts (j/k/m/s/o)\n- Swipe navigation on mobile\n- Mark all as read\n- Feed discovery (can enter any URL)\n\nStorage:\n- Use localStorage to track onboarding completion\n- Don't show again after dismissal\n\nFiles to modify:\n- web/static/js/app.js (onboarding logic)\n- web/static/css/styles.css (tooltip/overlay styling)\n- web/templates/index.html (onboarding markup)\n- Consider adding sample feed suggestions","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-15T20:18:52.843924-08:00","updated_at":"2025-11-15T20:18:52.843924-08:00","source_repo":"."}
{"id":"goread2-9","content_hash":"8b5adffbd8f43450c2d9c1056e6dec6da6306f5990ded6fb36ac496f90be9ef3","title":"Replace InsecureSkipVerify with proper CA certificate bundle on App Engine","description":"Currently, TLS certificate verification is disabled on App Engine (InsecureSkipVerify: true) as a workaround. This needs to be fixed by bundling proper CA certificates.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-10-14T18:43:55.289834Z","updated_at":"2025-11-18T17:58:43.878701-08:00","closed_at":"2025-11-18T17:58:43.878701-08:00","external_ref":"gh-21","source_repo":"."}
{"id":"goread2-90","content_hash":"d116dafab970bb49e4950e2f67aa6710ece4c33d40fe5b7a2a36460a9a2900cd","title":"iPad landscape mode: Navigation buttons hidden behind Safari chrome","description":"","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-01T18:09:05.351225Z","updated_at":"2025-11-01T18:09:05.351225Z","source_repo":"."}
{"id":"goread2-901dccc6","content_hash":"2bbdcc8d2715d2588fb63bcc82b66a8091b7242e266fcb04d33cc05158b38b96","title":"Add custom accent color picker","description":"Allow users to customize the app accent color beyond the default blue.\n\nCurrent state:\n- Hardcoded blue (#1a73e8) throughout app\n- Very Google-like, no personalization\n\nImplementation:\n- Color picker in settings/account page\n- Preset color options (blue, green, purple, orange, red)\n- Custom color picker for advanced users\n- Update CSS variables dynamically\n- Store in user preferences (backend) or localStorage\n- Apply to: buttons, links, active states, badges\n\nCSS variables to add:\n--color-primary\n--color-primary-hover\n--color-primary-light\n--color-primary-dark\n\nEnsure:\n- Sufficient contrast ratios maintained\n- Works with both light and dark modes\n- Preview before applying\n\nFiles to modify:\n- web/static/css/styles.css (CSS variables)\n- web/static/js/app.js or account.js (color picker)\n- web/templates/account.html (settings UI)\n- Backend: Store user preference","status":"closed","priority":3,"issue_type":"feature","created_at":"2025-10-21T15:47:33.213376Z","updated_at":"2025-11-15T11:14:31.396765-08:00","closed_at":"2025-11-06T19:40:47.778329-08:00","source_repo":"."}
{"id":"goread2-9191b587","content_hash":"e8d2df18e86a07e24a97be511ab3cd8ef02909eabdfdc664a496e2edca3f3c65","title":"Implement cursor-based pagination for Datastore","description":"Replace offset-based pagination with Datastore cursors in GetUserArticlesPaginated(). Cursor-based pagination is more efficient and eliminates need to fetch extra articles. Major refactor but significant cost savings.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-02T12:23:13.507496Z","updated_at":"2025-11-15T11:14:31.381985-08:00","closed_at":"2025-11-03T19:04:32.177923Z","source_repo":"."}
{"id":"goread2-9440","content_hash":"77288af9fa69f7c336a3acb3149dca252b059f5d5387d35e8ab77a583c7607cf","title":"Cache GetAllUserFeeds() results with 15-30min TTL","description":"Add caching to GetAllUserFeeds() in feed_service.go. Currently does full table scan on every feed refresh (48x/day). Cache for 15-30 minutes to reduce repeated queries. Estimated savings: -100/month.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-11-02T12:23:13.376654Z","updated_at":"2025-11-02T13:10:04.805636Z","closed_at":"2025-11-02T13:10:04.805636Z","source_repo":"."}
{"id":"goread2-9510978f","content_hash":"284484c5a38b1bc3e2ff3d39b69ac141cbeb4240c9cbec43b3b15fa86a035125","title":"Figure out weird titles","description":"Some feeds have weird titles, either gibberish or weird formats.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-10-14T18:43:56.193637Z","updated_at":"2025-11-15T11:14:31.380477-08:00","closed_at":"2025-10-14T18:43:56.236214Z","external_ref":"gh-5","source_repo":"."}
{"id":"goread2-9a2f","content_hash":"8df1dfe7062c2c4870db4255f52bca4ab2ffcaed8f195d90a88ef9b85126a169","title":"Implement smart feed update prioritization","description":"Don't update feeds that haven't published in months. Track feed update frequency and adjust refresh schedule accordingly. Feeds that update daily get refreshed frequently, feeds that update monthly get checked less often. Estimated savings: 20-40% reduction in unnecessary feed fetches.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-02T12:23:14.03642Z","updated_at":"2025-11-05T18:44:55.828843-08:00","closed_at":"2025-11-05T18:44:55.828843-08:00","source_repo":"."}
{"id":"goread2-9f6796e6","content_hash":"d5676ed4c46e3bc8f1f5c3f2e0970725547110092d55b281d6c681ac5fe889e9","title":"Add table of contents for long articles","description":"Auto-generate table of contents from article headings for easier navigation in long articles.\n\nFeatures:\n- Scan article content for h2, h3 headings\n- Generate collapsible TOC sidebar or floating menu\n- Smooth scroll to section on click\n- Highlight current section as user scrolls\n- Only show for articles with 3+ headings\n- Minimize/collapse option\n\nImplementation:\n- Parse article HTML for heading tags\n- Generate TOC list with anchor links\n- Add IDs to headings if missing\n- Track scroll position to highlight active section\n- Responsive: drawer on mobile, sidebar on desktop\n\nDesign options:\n1. Fixed sidebar on right (desktop only)\n2. Floating button that opens TOC overlay\n3. Expandable panel at top of article\n\nFiles to modify:\n- web/static/js/app.js (TOC generation, scroll tracking)\n- web/static/css/styles.css (TOC styling)\n- Integrate with article content rendering","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-15T20:18:52.844481-08:00","updated_at":"2025-11-15T20:18:52.844481-08:00","source_repo":"."}
{"id":"goread2-9pm","content_hash":"ba18c2917386775c30a66b15e89fbdc5e301016a8acce2b49daa55835c5cf9b7","title":"Weak local cron authentication","description":"Local cron endpoints only check user.IsAdmin without requiring ADMIN_TOKEN. Any admin user can trigger expensive operations.\n\nLocation: internal/handlers/feed_handler.go:288-294, 332-337\nImpact: Privileged users can trigger expensive cron operations\n\nFix: Require ADMIN_TOKEN header even for authenticated admin users in local env","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T19:57:21.933854-08:00","updated_at":"2025-11-15T19:57:21.933854-08:00","source_repo":"."}
{"id":"goread2-9qd","content_hash":"a47ba7b30d90f7ef47e0389e9e56d3161f73f55892c4cfbd9dcaa5a62392f3f8","title":"Fix UpdateCount to verify cache validity before updating","description":"UpdateCount doesn't check if cache is expired before modifying it, leading to potential correctness issues.\n\nLocation: internal/cache/unread_cache.go:76-97\n\nProblem:\n- UpdateCount modifies cache even if it's expired\n- Next Get() returns miss (expired), but stale data was modified\n- Low severity but incorrect behavior\n\nScenario:\n1. Cache set at T+0, expires at T+60\n2. At T+61, cache expired but still in memory\n3. UpdateCount() modifies the expired cache\n4. Next Get() returns miss, but stale data was modified\n\nRequired fix:\nAdd expiration check in UpdateCount:\n\nfunc (uc *UnreadCache) UpdateCount(userID, feedID int, wasRead, nowRead bool) {\n    uc.mu.Lock()\n    defer uc.mu.Unlock()\n\n    counts, exists := uc.counts[userID]\n    if !exists {\n        return\n    }\n    \n    // Check if cache is still valid\n    if time.Now().After(uc.refreshAt[userID]) {\n        return // Don't update expired cache\n    }\n    \n    // ... rest of update logic\n}\n\nImpact: Correctness issue, medium severity\nPriority: Should fix with memory leak cleanup","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-15T19:46:28.022186-08:00","updated_at":"2025-11-18T18:15:21.08037-08:00","closed_at":"2025-11-18T18:15:21.08037-08:00","source_repo":"."}
{"id":"goread2-9sm","content_hash":"21d74ad990078d7db48e92449a57bdcb12ac4586f422e7e4346c0e3c7e755fab","title":"No timeout on Secret Manager API calls","description":"GetSecret uses context without timeout. Secret Manager API calls could hang indefinitely if service is slow or unavailable.\n\nLocation: internal/secrets/secrets.go:20-32\nImpact: Service hangs on startup if Secret Manager is slow, no timeout protection\n\nFix: Use context.WithTimeout with reasonable timeout (e.g., 10s) for all Secret Manager calls","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-15T20:02:05.125173-08:00","updated_at":"2025-11-16T12:16:48.073185-08:00","closed_at":"2025-11-16T12:16:48.073185-08:00","source_repo":"."}
{"id":"goread2-a244261f","content_hash":"edeb140a6dcf159af1677e38fe79676da4df8b4dad1f9fb325c424002e9e623c","title":"Add functionality to export OPML","description":"Add functionality to export OPML","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-15T20:18:52.844939-08:00","updated_at":"2025-11-15T20:18:52.844939-08:00","closed_at":"2025-10-14T18:42:42.42428Z","source_repo":"."}
{"id":"goread2-a4a35204","content_hash":"d89e71b8d123c5ac3c5e8f2448391d6c5f1e02c8593d2793ac0b1e8935a418ba","title":"Feed names are weird?","description":"Look into where the feed names are being pulled from, there are a few that are wrong.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-10-14T18:43:55.991621Z","updated_at":"2025-11-15T11:14:31.376941-08:00","closed_at":"2025-10-14T18:43:56.038289Z","external_ref":"gh-8","source_repo":"."}
{"id":"goread2-aa7e1460","content_hash":"85ad84a51701d2cbe342582ed025f98cd0306939e90b16fe427d7326ddc6a1ba","title":"Implement cursor-based pagination for article loading","description":"","notes":"## Problem\n\nCurrent pagination uses offset-based queries with unread_only filtering, which has fundamental issues when the underlying dataset changes:\n\n1. User loads first 50 articles (offset=0)\n2. User marks some as read\n3. Server's unread query now returns different results for offset positions\n4. Clicking 'Load More' with offset=50 can skip articles or show duplicates\n\n## Current Workaround\n\nClient-side duplicate detection using a Set of loaded article IDs. This prevents duplicates but doesn't solve the skipped articles problem.\n\n## Ideal Solution\n\nImplement cursor-based pagination using timestamps:\n\n- Instead of offset, use before parameter with article timestamp/ID\n- Example: /api/feeds/all/articles?limit=50\u0026before=2025-10-13T18:30:00\u0026unread_only=true\n- Server returns articles published before the cursor, maintaining consistent ordering\n- Works correctly even when articles are marked as read between requests\n\n## Implementation\n\nBackend changes needed:\n- Modify GetUserArticlesPaginated in feed service to accept cursor parameter\n- Change SQL query from OFFSET to WHERE published_at \u003c ? with ORDER BY published_at DESC\n- Return cursor value for next page in response\n\nFrontend changes:\n- Track cursor (timestamp of last article) instead of offset\n- Pass cursor to subsequent requests\n\n## Benefits\n\n- No duplicate articles\n- No skipped articles  \n- Consistent pagination regardless of read/unread state changes\n- Better performance (cursor queries faster than large offsets)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-10-13T18:41:47.375395Z","updated_at":"2025-11-15T11:14:31.376199-08:00","closed_at":"2025-11-06T19:29:50.708651-08:00","source_repo":"."}
{"id":"goread2-apn","content_hash":"fb5a240fe561ae38dff0eb03e0aa42154f2ee4198e5a6a451a9e9b19d725fcd4","title":"Insufficient test coverage for handlers","description":"Handler test files only test constructors, not actual HTTP handler logic with full request/response cycle.\n\nLocation: internal/handlers/*_test.go (except admin_handler_test.go)\nImpact: Low confidence in handler behavior, regression risk\n\nFix: Add comprehensive handler tests with mock requests/responses","status":"open","priority":3,"issue_type":"chore","created_at":"2025-11-15T19:58:04.043367-08:00","updated_at":"2025-11-15T19:58:04.043367-08:00","source_repo":"."}
{"id":"goread2-b0c79bb2","content_hash":"2a6e5a1521e1fa97d863648e82df9311276e4b78b7b69b87ce56f84c535a1afe","title":"Add article preview thumbnails","description":"Display thumbnail images in article list for articles that have featured images.\n\nCurrent state:\n- Article list shows only text (title, metadata, description)\n- Visual feeds lose their visual appeal\n\nImplementation:\n- Extract og:image or first image from article content\n- Show 60x60px thumbnail on left side of article item\n- Lazy load images for performance\n- Fallback to feed icon or generic icon if no image\n- Add setting to disable thumbnails (for minimal UI)\n- Ensure responsive sizing on mobile\n\nDesign considerations:\n- Maintain touch target sizes on mobile\n- Don't break existing layout too much\n- Consider optional larger thumbnails (80x80px)\n- Cache thumbnail URLs to avoid re-parsing\n\nFiles to modify:\n- Backend: Update article parsing to extract images\n- web/static/js/app.js (render thumbnails)\n- web/static/css/styles.css (thumbnail styling)\n- Database: May need to store thumbnail URL","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-15T20:18:52.845352-08:00","updated_at":"2025-11-15T20:18:52.845352-08:00","source_repo":"."}
{"id":"goread2-b61c22b6","content_hash":"5e901277b611ae2b3829aecd0b66aedf2c421270ff85bf16183cfbb4c4e218e6","title":"Add rate limiter cleanup and edge case tests","description":"Rate limiter has gaps in test coverage. Add tests for:\n- Cleanup function for expired entries (line 76, currently 0%)\n- Concurrent access patterns\n- Edge cases around time boundaries\n- Memory cleanup verification\n- Rate limit reset behavior\nCurrent coverage is 75% but cleanup mechanism is untested.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T20:18:52.845834-08:00","updated_at":"2025-11-15T20:18:52.845834-08:00","closed_at":"2025-10-19T20:59:27.438141Z","source_repo":"."}
{"id":"goread2-b96bca08","content_hash":"e7d706e61d3496e7e201bdb2e9755aea7a0b46df975b3084ecae14fdedc2b319","title":"Allow me to edit the names of my feeds","description":"Note this can only affect my feeds and not everyone who subscribes to the feeds.","status":"open","priority":2,"issue_type":"task","created_at":"2025-10-14T18:43:55.59938Z","updated_at":"2025-11-15T11:14:31.374575-08:00","external_ref":"gh-15","source_repo":"."}
{"id":"goread2-bab129c8","content_hash":"921eb4705a331a21c45b9a4d93da8f6b3042bc5b9201cdb1d40a727f95cc44c5","title":"When you add a feed, add a reasonable number of unread articles","description":"I added slashdot.org and it gave me 600+ unread articles which seems like too much","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-10-14T18:43:55.645304Z","updated_at":"2025-11-15T11:14:31.374811-08:00","closed_at":"2025-10-14T18:43:55.68732Z","external_ref":"gh-14","source_repo":"."}
{"id":"goread2-bcfa1283","content_hash":"93db692931e41ec55277f923ebcb0dc680b30386a1356de4ff802637d86b9e19","title":"Keyboard shortcut weirdness","description":"I have to select an article in the middle pane before I can use j to go to the next article. Should probably just highlight it by default.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-10-14T18:43:56.455394Z","updated_at":"2025-11-15T11:14:31.382463-08:00","closed_at":"2025-10-14T18:43:56.503148Z","external_ref":"gh-1","source_repo":"."}
{"id":"goread2-be66c7c3","content_hash":"5f8324f81224d50630acc6c8e482731822eda28006af9fdb3715abcf20ef389c","title":"Add CSRF token edge case tests","description":"CSRF manager has coverage gaps. Add tests for:\n- Token expiration and cleanup (line 101, currently 0%)\n- Concurrent token generation\n- Token storage overflow\n- Invalid token formats\n- Token replay attacks\nCurrent coverage is 66.7% with cleanup function untested.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T20:18:52.846261-08:00","updated_at":"2025-11-15T20:18:52.846261-08:00","closed_at":"2025-10-19T20:59:27.404052Z","source_repo":"."}
{"id":"goread2-bgb","content_hash":"80964a65ba3d6cd8a67564744b6e48f5db2d987cb04acf94d791b48c3ecb170f","title":"No memory limit on RequestCache","description":"RequestCache has no size limit. In long-running requests with many user lookups, cache could grow unbounded.\n\nLocation: internal/middleware/request_cache.go:12-15, 22\nImpact: Memory leak in pathological cases (e.g., admin viewing many users)\n\nFix: Add LRU eviction or max entry count limit","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T19:59:53.739588-08:00","updated_at":"2025-11-15T19:59:53.739588-08:00","source_repo":"."}
{"id":"goread2-bgt","content_hash":"3901f7ffbc241fbddb71bbbc11ed82e1e46b29fb1b86e93227884af05828354b","title":"Inefficient Datastore batch chunking","description":"Batch operations chunk into groups of 100, but Datastore limit is 1000. Processing 10x slower than necessary.\n\nLocation: internal/database/datastore.go:1267-1328\nImpact: Batch operations take 10x longer than necessary\n\nFix: Change chunk size from 100 to 1000 (or make configurable)","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T19:54:23.010393-08:00","updated_at":"2025-11-15T19:54:23.010393-08:00","source_repo":"."}
{"id":"goread2-bih","content_hash":"e9e617a785241c5879b6b84647cf49abd904abe7d472325e83f3fbf864bb9895","title":"Hardcoded site-specific feed URLs","description":"addFeedForUserInternal has hardcoded feed URLs for specific sites (slashdot, nytimes, seattletimes). Unmaintainable and breaks if sites change feeds.\n\nLocation: internal/services/feed_service.go:234-240\nImpact: Brittle, requires code changes when sites change feeds\n\nFix: Use feed discovery for all sites or externalize to configuration","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T20:04:42.173323-08:00","updated_at":"2025-11-15T20:04:42.173323-08:00","source_repo":"."}
{"id":"goread2-btu","content_hash":"8e35236dcea00197e38be518fb47d94c7a6c44ce635fcdb3890f829384f2574e","title":"Hardcoded feed limit in error messages","description":"Feed limit value '20' is hardcoded in multiple error messages instead of using services.FreeTrialFeedLimit constant.\n\nLocation: internal/handlers/feed_handler.go:68, 567\nImpact: Maintenance burden, error messages can become stale\n\nFix: Use constant in all error messages","status":"open","priority":2,"issue_type":"chore","created_at":"2025-11-15T19:57:39.91198-08:00","updated_at":"2025-11-15T19:57:39.91198-08:00","source_repo":"."}
{"id":"goread2-bub","content_hash":"168bf5caa44da267bce7641e47d0dd886e8d02b200ee314fe46db0ce574edc44","title":"Add logging for config parsing failures","description":"parseInt and parseDuration silently return default values when parsing fails, which can hide configuration errors from users.\n\nLocation: internal/config/config.go:154-175\n\nProblem:\nWhen parsing fails, functions silently use defaults without logging. User won't know their config was invalid.\n\nExample scenario:\n- User sets RATE_LIMIT_REQUESTS_PER_MINUTE=abc123\n- Parsing fails silently, uses default 120\n- User thinks rate limit is configured but it's using default\n- No indication of error\n\nCurrent behavior:\nfunc parseInt(value string, defaultValue int) int {\n    if value == \"\" {\n        return defaultValue\n    }\n    if parsed, err := strconv.Atoi(value); err == nil {\n        return parsed\n    }\n    return defaultValue  // Silent failure!\n}\n\nRecommended fix:\nfunc parseInt(value string, defaultValue int) int {\n    if value == \"\" {\n        return defaultValue\n    }\n    if parsed, err := strconv.Atoi(value); err == nil {\n        return parsed\n    }\n    log.Printf(\"WARNING: Failed to parse integer value '%s', using default %d: %v\", value, defaultValue, err)\n    return defaultValue\n}\n\nSame fix needed for parseDuration().\n\nImpact: Configuration errors may go unnoticed in production\nPriority: Medium - can cause silent misconfigurations","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T19:49:26.78993-08:00","updated_at":"2025-11-15T19:49:26.78993-08:00","source_repo":"."}
{"id":"goread2-bxs","content_hash":"b3270133964ae01aaea0014d834c0952ed77dab7d73351794f19077ce829feb8","title":"Add context-aware cleanup for graceful shutdown","description":"Enhancement: Make cache cleanup goroutines context-aware for graceful application shutdown.\n\nLocations:\n- internal/cache/unread_cache.go\n- internal/cache/feed_list_cache.go\n\nCurrent implementation:\n- Cleanup goroutines run indefinitely\n- No graceful shutdown mechanism\n- Could cause issues during deployment/restart\n\nRecommended implementation:\n1. Add Start(ctx context.Context) method\n2. Use context for cleanup goroutine lifecycle\n3. Support graceful shutdown\n\nExample:\nfunc (uc *UnreadCache) Start(ctx context.Context) {\n    go uc.cleanupExpiredEntries(ctx)\n}\n\nfunc (uc *UnreadCache) cleanupExpiredEntries(ctx context.Context) {\n    ticker := time.NewTicker(5 * time.Minute)\n    defer ticker.Stop()\n    \n    for {\n        select {\n        case \u003c-ticker.C:\n            // ... cleanup logic\n        case \u003c-ctx.Done():\n            return  // Graceful shutdown\n        }\n    }\n}\n\nBenefits:\n- Cleaner shutdown behavior\n- Better testing support\n- More production-ready\n\nImpact: Enhancement - improves production readiness\nPriority: Low - nice to have for production deployments","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-15T19:47:23.109328-08:00","updated_at":"2025-11-15T19:47:23.109328-08:00","source_repo":"."}
{"id":"goread2-c157cce1","content_hash":"3cf0968cabb1d016840d59fa69bb2abbcfb49521c9ce86781285aedaeac16809","title":"Add accessibility ARIA labels and improvements","description":"Improve accessibility throughout the application with proper ARIA labels, keyboard navigation, and screen reader support.\n\nIssues to address:\n1. Missing ARIA labels on interactive elements\n2. Keyboard focus indicators not visible enough\n3. Color contrast issues (read articles at opacity 0.6)\n4. No screen reader announcements for dynamic content\n5. Modal keyboard traps not implemented\n6. Missing skip-to-content links\n\nSpecific improvements:\n- Add aria-label to all icon buttons\n- Add aria-live regions for notifications\n- Implement proper focus management in modals\n- Add visible focus indicators (outline style)\n- Improve color contrast ratios to WCAG AA standard\n- Add keyboard navigation docs to help modal\n- Implement ESC key to close modals\n- Tab trap within modals\n- Add role attributes where appropriate\n\nTesting requirements:\n- Test with screen reader (VoiceOver/NVDA)\n- Keyboard-only navigation test\n- Color contrast validation\n- Automated accessibility audit (Lighthouse)\n\nFiles to modify:\n- web/templates/index.html\n- web/static/css/styles.css (focus indicators, contrast)\n- web/static/js/app.js (keyboard handling, ARIA updates)","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-15T20:18:52.846696-08:00","updated_at":"2025-11-15T20:18:52.846696-08:00","source_repo":"."}
{"id":"goread2-c23a5c7c","content_hash":"ac2a1e6f3d69f713001205e084c1cd7c9492948a3eff19436fbd5810543d33cc","title":"Use keys-only queries where full entities not needed","description":"Extend use of keys-only queries (already used in some places like line 260, 665 in datastore.go) to more operations. Keys-only queries cost 1/3 of full entity reads. Review all queries and identify where only keys or counts are needed.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-02T12:23:14.34263Z","updated_at":"2025-11-15T11:14:31.397521-08:00","source_repo":"."}
{"id":"goread2-c5u","content_hash":"9fca44424fbd0fe60d4130b337479a62fe2ba6da66eb87e98d6eb9716229c59d","title":"No cache invalidation mechanism","description":"RequestCache has no way to invalidate entries if data changes during request (e.g., user subscribes to feed).\n\nLocation: internal/middleware/request_cache.go\nImpact: Stale data returned within same request after mutations\n\nFix: Add InvalidateUserFeeds(userID) method or clear on mutation","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-15T20:00:11.786632-08:00","updated_at":"2025-11-15T20:00:11.786632-08:00","source_repo":"."}
{"id":"goread2-c7f698a3","content_hash":"84ed2a771479c0b0e5449b38add4781c2fae4c9f66f0ea6fec83accdf0c9a8d9","title":"Mock external HTTP calls in tests for faster execution","description":"","notes":"Replace real RSS feed fetching in tests with mock HTTP servers to eliminate network latency (0.3s+ per fetch). Use httptest.NewServer to serve pre-defined RSS XML responses. Would reduce test time by another 5-10x for network-dependent tests.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T20:18:52.847133-08:00","updated_at":"2025-11-15T20:18:52.847133-08:00","closed_at":"2025-10-19T16:53:18.299984Z","source_repo":"."}
{"id":"goread2-cbebcd03","content_hash":"c16fe1af742f7efa759420a2a5209727896b7c346c823d5e335a92b016a0b98c","title":"Increase unread cache TTL from 90s to 5-10min","description":"Increase unread cache TTL in feed_service.go:150 from 90 seconds to 5-10 minutes. This will reduce query frequency for frequently-accessed feeds without significantly impacting UX.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-02T12:23:13.81964Z","updated_at":"2025-11-18T18:03:46.44534-08:00","closed_at":"2025-11-18T18:03:46.44534-08:00","source_repo":"."}
{"id":"goread2-csn","content_hash":"b757e6bf61bfbc1fff0c57c4f30f8aa54c0eb3a4921ef2bdad22574aa91ea4b9","title":"Session looked up multiple times per request","description":"GetSessionFromRequest is called in every auth middleware (RequireAuth, RequireAdmin, OptionalAuth) without caching. Multiple DB/cache lookups per request.\n\nLocation: internal/auth/middleware.go:28, 61, 72\nImpact: Unnecessary session store lookups, performance impact\n\nFix: Cache session in request context on first lookup","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:00:05.79197-08:00","updated_at":"2025-11-15T20:00:05.79197-08:00","source_repo":"."}
{"id":"goread2-cwn","content_hash":"2f4efdda0056761e5e7dbfbf6878f8d620821a0eb3d91435f973bcab7d1e9a45","title":"Add sanity checking for duration config values","description":"Duration configuration values have no sanity checking, allowing invalid or problematic values.\n\nLocation: internal/config/config.go:82-86\n\nProblem:\n- Negative durations allowed\n- Zero durations allowed (would cause tight loops in schedulers)\n- Extremely short durations could cause performance issues\n- No validation that intervals make sense relative to each other\n\nAffected values:\n- SchedulerUpdateWindow (should be \u003e 0, typically \u003e= 1 minute)\n- SchedulerMinInterval (should be \u003e 0, typically \u003e= 1 minute)\n- SchedulerCleanupInterval (should be \u003e 0, typically \u003e= 5 minutes)\n\nAdditional validation:\n- SchedulerMinInterval should be \u003c SchedulerUpdateWindow (otherwise no feeds update)\n\nRecommended implementation:\nfunc validateSchedulerConfig(cfg *Config) error {\n    if cfg.SchedulerUpdateWindow \u003c= 0 {\n        return fmt.Errorf(\"SCHEDULER_UPDATE_WINDOW must be positive\")\n    }\n    if cfg.SchedulerMinInterval \u003c= 0 {\n        return fmt.Errorf(\"SCHEDULER_MIN_INTERVAL must be positive\")\n    }\n    if cfg.SchedulerMinInterval \u003e cfg.SchedulerUpdateWindow {\n        return fmt.Errorf(\"SCHEDULER_MIN_INTERVAL (%v) must be less than SCHEDULER_UPDATE_WINDOW (%v)\",\n            cfg.SchedulerMinInterval, cfg.SchedulerUpdateWindow)\n    }\n    // Warn about very short durations\n    if cfg.SchedulerMinInterval \u003c time.Minute {\n        log.Printf(\"WARNING: Very short SCHEDULER_MIN_INTERVAL: %v\", cfg.SchedulerMinInterval)\n    }\n    return nil\n}\n\nImpact: Invalid configs could cause scheduler issues or performance problems\nPriority: Low - edge case but prevents foot-shooting","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-15T19:49:57.739376-08:00","updated_at":"2025-11-15T19:49:57.739376-08:00","source_repo":"."}
{"id":"goread2-d06f378c","content_hash":"09c2603f36815be93d12644ed9969e6af0eacd3ab2b7ebc8d8f4828131373e99","title":"Add functionality to export OPML","description":"Add functionality to export OPML","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-10-14T18:43:55.243125Z","updated_at":"2025-11-15T11:14:31.397756-08:00","closed_at":"2025-10-15T16:58:51.363408Z","external_ref":"gh-22","source_repo":"."}
{"id":"goread2-d53c","content_hash":"11880a731c5a7a5cbe38fe556710896bf91daba55772f788c24ea6612b6b6365","title":"Optimize UnsubscribeUserFromFeed operation","description":"Optimize unsubscribe in datastore.go:651-710. Currently queries all articles in feed then UserArticle relationships. Consider marking as deleted instead of actual deletion, or use more efficient batch operations. Can result in thousands of reads for popular feeds.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-02T12:23:13.644333Z","updated_at":"2025-11-04T18:42:14.322619-08:00","closed_at":"2025-11-04T18:42:14.322619-08:00","source_repo":"."}
{"id":"goread2-d5f9f78b","content_hash":"dbded8a971e26231bf2e5b2ff60f550c9ce58b094d6dfa394e6021e7373a6264","title":"Add caching for unread counts to reduce Firestore reads by 30-50%","description":"**Location:** internal/database/datastore.go:1081-1212 (GetUserUnreadCounts)\n\n**Problem:**\nGetUserUnreadCounts is THE most expensive database operation, causing 20-150 Firestore reads per call. It's called on every page load to display unread badge counts.\n\n**Current Behavior:**\nFor a user with 20 feeds and 500 articles per feed:\n1. GetUserFeeds: 1 read\n2. For each of 20 feeds:\n   - GetArticles query: 20 reads\n   - GetMulti for user article statuses in 1000-article chunks: ~100 reads\n3. **Total: ~121 reads per page load**\n\n**Impact:**\n- #2 source of Firestore read costs\n- Estimated 2.2M reads/year per daily active user\n- Called on EVERY page navigation\n- Uses parallel goroutines with no circuit breaker\n\n**Solution: In-Memory Cache with Background Refresh**\n\n1. Create UnreadCountCache in internal/cache/unread_cache.go:\n```go\ntype UnreadCache struct {\n    counts    map[int]*UnreadCountData // userID → counts\n    mu        sync.RWMutex\n    refreshAt map[int]time.Time\n    ttl       time.Duration // 60-120 seconds\n}\n```\n\n2. Cache Strategy:\n   - Serve cached counts immediately (fast response)\n   - Refresh in background every 60-120 seconds\n   - Invalidate on manual article actions (mark read/star)\n   - Eventual consistency acceptable (counts refresh soon)\n\n3. Implementation:\n```go\nfunc (uc *UnreadCache) GetUnreadCounts(userID int) (*UnreadCountData, bool) {\n    uc.mu.RLock()\n    defer uc.mu.RUnlock()\n    \n    if data, exists := uc.counts[userID]; exists {\n        if time.Now().Before(uc.refreshAt[userID]) {\n            return data, true // Cache hit\n        }\n    }\n    return nil, false // Cache miss\n}\n\nfunc (uc *UnreadCache) RefreshInBackground(userID int, db database.Database) {\n    go func() {\n        counts, err := db.GetUserUnreadCounts(userID)\n        if err == nil {\n            uc.SetCounts(userID, counts)\n        }\n    }()\n}\n```\n\n**Expected Savings:**\n- 50-70% reduction in Firestore reads for this endpoint\n- From ~121 reads/call to ~1-2 reads/call (background refresh)\n- Faster page loads (instant cache response)\n- Better user experience (no loading spinner)\n\n**Trade-offs:**\n- Counts may be stale by up to 60-120 seconds\n- Acceptable: unread counts don't need real-time accuracy\n- Manual actions (mark read) trigger immediate invalidation\n\n**Priority:** P1 - Second most expensive operation after sessions","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T20:18:52.847577-08:00","updated_at":"2025-11-15T20:18:52.847577-08:00","closed_at":"2025-10-17T20:27:06.855357Z","source_repo":"."}
{"id":"goread2-d88e5aa3","content_hash":"c8b0eaa7913518601d2de319c9c5c18b86c3efa9402619639e0c2658471b245e","title":"LOW: Session Fixation Vulnerability on Login","description":"**Location:** internal/handlers/auth_handler.go - Callback()\n\n**Issue:** Sessions are not regenerated after successful authentication, allowing session fixation attacks. An attacker can set a victim's session ID before login, then hijack the authenticated session.\n\n**Missing:** Session ID regeneration after authentication\n\n**Risk:** LOW - Requires attacker to set victim's session cookie before authentication\n\n**Recommendation:**\n1. Delete old session after successful OAuth callback\n2. Generate new session with new ID\n3. Update session cookie with new ID","status":"open","priority":3,"issue_type":"bug","created_at":"2025-11-15T20:18:52.848032-08:00","updated_at":"2025-11-15T20:18:52.848032-08:00","source_repo":"."}
{"id":"goread2-d8s","content_hash":"0c19e75994bfc16aa950ba40eea2cdfd62610e7d5b7f1512bfcff1c473f4f912","title":"Race condition in RequestCache check-then-act","description":"GetCachedUserFeeds has race condition between RUnlock (line 49) and Lock (line 61). Two goroutines can both get cache miss and both fetch from DB.\n\nLocation: internal/middleware/request_cache.go:46-63\nImpact: Duplicate DB queries, wasted resources, potential data inconsistency\n\nFix: Use single Lock or use sync.Map, or check cache again after acquiring write lock","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-15T19:59:35.847198-08:00","updated_at":"2025-11-16T11:53:39.835472-08:00","closed_at":"2025-11-16T11:53:39.835472-08:00","source_repo":"."}
{"id":"goread2-da4e1108","content_hash":"343c2678f18cfa0871c022b6c979b4346e2d47b7693910edee3fda8fd9acfffd","title":"Replace emoji icons with SVG in mobile nav","description":"Replace emoji icons (📑📄📖) in mobile bottom navigation with proper SVG icons for better clarity, consistency, and accessibility.\n\nCurrent emoji icons:\n- 📑 Feeds\n- 📄 Articles  \n- 📖 Content\n\nBenefits of SVG:\n- More consistent rendering across devices\n- Better accessibility with ARIA labels\n- Can match app color scheme\n- Scale better at different sizes\n\nImplementation:\n- Create or source 3 simple SVG icons\n- Update mobile-nav-btn markup\n- Ensure proper sizing (22px)\n- Add proper ARIA labels\n- Test on iOS and Android\n\nFiles to modify:\n- web/templates/index.html (lines 106-119)\n- web/static/css/styles.css (mobile nav icon sizing)\n- Add SVG files to web/static/images/","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-15T20:18:52.848686-08:00","updated_at":"2025-11-15T20:18:52.848686-08:00","closed_at":"2025-10-30T18:31:22.426463Z","source_repo":"."}
{"id":"goread2-df641aed","content_hash":"ded920d6c82d89422c5cb121f5b3343f8dbc325eef3f6c9066b344cb4049b7a2","title":"Add resizable panes on desktop","description":"Allow users to resize the three-pane layout on desktop with draggable dividers.\n\nCurrent state:\n- Fixed widths: 300px (feeds), 400px (articles), flex (content)\n- No way to customize layout for different use cases\n\nImplementation:\n- Add draggable divider between feed and article panes\n- Add draggable divider between article and content panes\n- Store pane widths in localStorage\n- Set reasonable min/max constraints (e.g., 200px-500px)\n- Add visual hover state on dividers\n- Implement smooth drag UX with cursor change\n- Consider double-click to reset to defaults\n\nUser benefits:\n- Power users can optimize layout for their workflow\n- Wider feed pane for long feed names\n- Wider content pane for reading focus\n- Narrower article list for quick scanning\n\nFiles to modify:\n- web/static/js/app.js (drag handlers, localStorage)\n- web/static/css/styles.css (divider styling, cursor)\n- web/templates/index.html (divider elements)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-15T20:18:52.849146-08:00","updated_at":"2025-11-15T20:18:52.849146-08:00","source_repo":"."}
{"id":"goread2-dij","content_hash":"5cd76116376d4c979026b2afdb5c54b372fcf628bf744598afac19fb20996a76","title":"Magic string for cache context key","description":"String 'request_cache' used for context key is not a constant, could lead to typos.\n\nLocation: internal/middleware/request_cache.go:24, 38\nImpact: Potential bugs from typos, harder to refactor\n\nFix: Define as constant: const RequestCacheKey = 'request_cache'","status":"open","priority":3,"issue_type":"chore","created_at":"2025-11-15T20:00:23.787543-08:00","updated_at":"2025-11-15T20:00:23.787543-08:00","source_repo":"."}
{"id":"goread2-dj4","content_hash":"06f5aa101c07cc613f412391e82fce78751825bbc309dd9a449d075aaa6a4cd2","title":"Add bounds validation for numeric config values","description":"Numeric configuration values have no bounds checking, allowing invalid values that could break functionality.\n\nLocation: internal/config/config.go:80-85\n\nProblem:\n- Negative values allowed (would break rate limiter)\n- Zero values allowed (would break scheduler)\n- Extremely large values allowed (could cause resource issues)\n\nAffected values:\n- RateLimitRequestsPerMinute (must be \u003e 0)\n- RateLimitBurstSize (must be \u003e 0)\n- SchedulerMaxConcurrent (must be \u003e 0, reasonable max like 1000)\n\nRecommended implementation:\n1. Create validation function for each config type\n2. Call during Load() or add ValidateConfig() method\n3. Log warnings or fail fast for invalid values\n\nExample:\nfunc validateRateLimitConfig(cfg *Config) error {\n    if cfg.RateLimitRequestsPerMinute \u003c= 0 {\n        return fmt.Errorf(\"RATE_LIMIT_REQUESTS_PER_MINUTE must be positive, got %d\", cfg.RateLimitRequestsPerMinute)\n    }\n    if cfg.RateLimitBurstSize \u003c= 0 {\n        return fmt.Errorf(\"RATE_LIMIT_BURST_SIZE must be positive, got %d\", cfg.RateLimitBurstSize)\n    }\n    // Add reasonable maximums\n    if cfg.RateLimitRequestsPerMinute \u003e 10000 {\n        log.Printf(\"WARNING: Very high rate limit %d req/min\", cfg.RateLimitRequestsPerMinute)\n    }\n    return nil\n}\n\nImpact: Invalid configs could cause runtime errors or performance issues\nPriority: Low - edge case but good defensive programming","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-15T19:49:42.814023-08:00","updated_at":"2025-11-15T19:49:42.814023-08:00","source_repo":"."}
{"id":"goread2-dp8","content_hash":"15280f523f0b7b431556aa2c174312ee370593a0489ae49842616e1d060456df","title":"Secrets fetched on every call, no caching","description":"GetOAuthCredentials and GetStripeCredentials fetch from Secret Manager on every call. No caching, slow startup and potential rate limiting.\n\nLocation: internal/secrets/secrets.go:41-113\nImpact: Slow application startup (multiple network calls), potential Secret Manager rate limits\n\nFix: Implement secret caching with TTL or fetch once at startup","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-15T20:02:11.089631-08:00","updated_at":"2025-11-16T12:10:33.081742-08:00","closed_at":"2025-11-16T12:10:33.081742-08:00","source_repo":"."}
{"id":"goread2-e641efc9","content_hash":"4fe665c8bbe5eb79bd0a404500ddb579d3315d2ebfa582ab35431a7dcf766289","title":"Implement virtual scrolling for performance","description":"Add virtual scrolling for feed and article lists to improve performance with large datasets.\n\nCurrent issues:\n- All items rendered in DOM even if not visible\n- Performance degrades with 100+ feeds or 1000+ articles\n- Memory usage grows unnecessarily\n\nVirtual scrolling benefits:\n- Only render visible items + buffer\n- Constant performance regardless of list size\n- Lower memory footprint\n- Smoother scrolling\n\nImplementation approach:\n- Use library (react-window, vue-virtual-scroller) or custom\n- Calculate item heights dynamically\n- Maintain scroll position correctly\n- Handle variable height items (articles have different heights)\n\nChallenges:\n- Article items have variable heights\n- Need to measure rendered items\n- Scroll position restoration\n- Search and filtering interactions\n\nLists to virtualize:\n1. Feed list (if user has 50+ feeds)\n2. Article list (main performance concern)\n\nTesting:\n- Test with 1000+ articles\n- Ensure smooth 60fps scrolling\n- Verify keyboard navigation still works\n- Check mobile scroll behavior\n\nFiles to modify:\n- web/static/js/app.js (virtual scrolling logic)\n- web/static/css/styles.css (virtual list container)\n- Consider adding a lightweight library","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-15T20:18:52.849585-08:00","updated_at":"2025-11-15T20:18:52.849585-08:00","source_repo":"."}
{"id":"goread2-e73","content_hash":"4944fa2c5179c64ccfab50266154cdf0e550ce6720e8959ec7fd95fa100efc30","title":"Missing composite index on user_articles","description":"GetUserUnreadCounts queries user_articles by (user_id, is_read) frequently, but only has index on user_id.\n\nLocation: internal/database/schema.go (CreateIndexes)\nImpact: Slow unread count queries, especially for users with many articles\n\nFix: Add composite index on (user_id, is_read)","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T19:54:28.979272-08:00","updated_at":"2025-11-15T19:54:28.979272-08:00","source_repo":"."}
{"id":"goread2-ea3a1e84","content_hash":"2bcf8db91b46cd77a862747112a71c113ad51206277cec18a84498462899f62e","title":"Add config validation tests","description":"Config validation (internal/config/validation.go) has 0% test coverage. Add tests for:\n- ValidateEnvironmentConfig with various configurations\n- OAuth credential validation (missing/empty/invalid)\n- Stripe credential validation (format checking for sk_, pk_, whsec_, price_ prefixes)\n- Strict vs non-strict mode differences\n- Admin email parsing\n- Error message formatting\nTests should cover both success and failure scenarios for local and production environments.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-15T20:18:52.850009-08:00","updated_at":"2025-11-15T20:18:52.850009-08:00","closed_at":"2025-10-18T19:04:04.862079Z","source_repo":"."}
{"id":"goread2-ebcd9536","content_hash":"e1659e3a1fc9d287824de857ce0baef95561da97d56aaf62ec588fcea5a7ffbb","title":"Add reading progress indicator","description":"Add a visual reading progress indicator to show how far user has scrolled through an article.\n\nImplementation options:\n1. Fixed progress bar at top of content pane (like Medium)\n2. Circular progress indicator (percentage in corner)\n3. Subtle progress line in scrollbar\n\nRecommended approach:\n- Thin progress bar at top of article content\n- Calculate based on scroll position\n- Update smoothly as user scrolls\n- Color matches primary theme color (#1a73e8)\n- Works on desktop and mobile\n- Optional: Show estimated reading time remaining\n\nAdditional features:\n- Jump to percentage (click on progress bar)\n- Remember scroll position when returning to article\n- Sync across devices (could be future enhancement)\n\nFiles to modify:\n- web/static/js/app.js (scroll tracking)\n- web/static/css/styles.css (progress bar styling)\n- Consider localStorage for scroll position memory","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-15T20:18:52.850438-08:00","updated_at":"2025-11-15T20:18:52.850438-08:00","source_repo":"."}
{"id":"goread2-ef52537a","content_hash":"950feaa48af1eebafc20abd0befdffd68dd42324ba89c266633ca7e88840439c","title":"Optimize UserArticle query to reduce Firestore reads by 30-40%","description":"**Location:** internal/database/datastore.go:806-827 (GetUserArticlesPaginated)\n\n**Problem:**\nThe GetUserArticlesPaginated function fetches ALL UserArticle entities for a user from Firestore, then filters in memory. For users with many articles, this is extremely expensive.\n\n**Current Code:**\n```go\nquery := datastore.NewQuery(\"UserArticle\")\n    .FilterField(\"user_id\", \"=\", int64(userID))\n// Fetches entire table for this user!\n```\n\n**Impact:**\n- User with 1000 articles = 1 massive Datastore read on every page load\n- This is the #3 source of Firestore read costs\n- Estimated 1.1M reads/year per active user\n- Called on every article view (multiple times per day)\n\n**Solution:**\n1. Only fetch UserArticle entities for articles from user's current feeds\n2. Build article IDs list from feed articles first\n3. Batch query UserArticle by articleID + userID in chunks of 500\n\n**Pseudo-code:**\n```go\n// Build list of article IDs from feeds\narticleIDs := make([]int64, 0, len(articles))\nfor _, article := range articles {\n    articleIDs = append(articleIDs, int64(article.ID))\n}\n\n// Batch query in chunks of 500\nkeys := make([]*datastore.Key, len(articleIDs))\nfor i, articleID := range articleIDs {\n    keys[i] = datastore.NameKey(\"UserArticle\", \n        fmt.Sprintf(\"%d_%d\", userID, articleID), nil)\n}\n// Use GetMulti() for batch read\n```\n\n**Expected Savings:**\n- 30-40% reduction in Firestore reads for article-heavy users\n- Faster page loads (less data transfer)\n- Scales better with article count\n\n**Priority:** P1 - Second highest source of read costs after sessions","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-15T20:18:52.850848-08:00","updated_at":"2025-11-15T20:18:52.850848-08:00","closed_at":"2025-10-17T20:13:12.445762Z","source_repo":"."}
{"id":"goread2-f134","content_hash":"487f13cd31876f01b932a199d921dd3e53983d16eca36b8ff94a0b4a22fabd09","title":"Add Cloud Monitoring dashboards for cost tracking","description":"Set up Cloud Monitoring dashboards to track Datastore read/write operations, App Engine instance hours, and bandwidth usage. Add alerts for unusual cost spikes. This helps monitor optimization effectiveness and catch expensive operations early.","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-02T12:23:14.181336Z","updated_at":"2025-11-02T12:23:14.181336Z","source_repo":"."}
{"id":"goread2-f791f807","content_hash":"4774ab5acd177efa45dff0a84fb75949d71144bee957dbc4428fcb100d64672b","title":"Load more articles does not work right","description":"","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-15T20:18:52.851245-08:00","updated_at":"2025-11-15T20:18:52.851245-08:00","closed_at":"2025-10-14T17:42:11.668547Z","source_repo":"."}
{"id":"goread2-fb4e4acb","content_hash":"53fc84812f9d3cb0f809d1ab7d22ec8c810dbf29fd48df6a72cc5fa80fdce88c","title":"Implement bundle splitting to reduce initial load time by 33%","description":"Implement bundle splitting to lazy-load modal code, reducing initial JavaScript bundle from 42KB to ~28KB.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-10-14T18:43:55.384019Z","updated_at":"2025-11-15T11:14:31.373264-08:00","closed_at":"2025-10-14T18:43:55.428189Z","external_ref":"gh-19","source_repo":"."}
{"id":"goread2-fd3d8c67","content_hash":"353858c695b327542137e7dcb7c899e7c2ef5d96145903ef1c23ba21bd41070f","title":"Add HTTP caching headers to improve performance and reduce server load","description":"Add appropriate HTTP caching headers to API endpoints and static assets to improve repeat visit performance and reduce server load by ~60%.","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-10-14T18:43:55.336676Z","updated_at":"2025-11-15T11:14:31.372884-08:00","closed_at":"2025-10-20T21:49:50.006104Z","external_ref":"gh-20","source_repo":"."}
{"id":"goread2-fpj","content_hash":"691cd11013a2d6421228c74662408789508641e8818219068e53ce58cf2972e4","title":"Add email format validation to INITIAL_ADMIN_EMAILS","description":"Email parsing for INITIAL_ADMIN_EMAILS doesn't validate email format, allowing invalid emails to be configured.\n\nLocations:\n- internal/config/config.go:134-151 (parseEmailList)\n- internal/config/validation.go:119-125 (validateOtherConfig checks existence but not format)\n\nProblem:\nCurrent validation only checks if emails exist after parsing, not if they're valid emails.\n\nExample:\nINITIAL_ADMIN_EMAILS=foo,bar,baz\nThis would be accepted even though these aren't email addresses.\n\nRecommended fix:\nAdd basic email validation to parseEmailList():\n\nimport \"regexp\"\n\nvar emailRegex = regexp.MustCompile(`^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$`)\n\nfunc parseEmailList(value string) []string {\n    if value == \"\" {\n        return nil\n    }\n\n    emails := strings.Split(value, \",\")\n    var result []string\n\n    for _, email := range emails {\n        email = strings.TrimSpace(email)\n        if email == \"\" {\n            continue\n        }\n        \n        // Validate email format\n        if !emailRegex.MatchString(email) {\n            log.Printf(\"WARNING: Invalid email format in INITIAL_ADMIN_EMAILS: %s\", email)\n            continue  // Skip invalid emails\n        }\n        \n        result = append(result, email)\n    }\n\n    return result\n}\n\nAlternative: Use a proper email validation library for more robust checking.\n\nImpact: Invalid admin emails would fail silently, admin wouldn't be granted privileges\nPriority: Low - usually noticed quickly when admin can't access features","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-15T19:50:30.560919-08:00","updated_at":"2025-11-15T19:50:30.560919-08:00","source_repo":"."}
{"id":"goread2-fyqh","content_hash":"823b18b0f2cf45e3f2b093de5cc074fd1b66880c7f4b583124dfc5026a0a86fd","title":"subscription_service.go:ValidateAdminToken ignores timestamp update errors","description":"In ValidateAdminToken (lines 280-286 for SQLite, 308-316 for Datastore), the last_used_at timestamp update errors are logged but don't fail validation. If the update fails, token usage tracking becomes unreliable. Error: 'Warning: Failed to update last_used_at' is printed but validation still succeeds. Fix: Return error if timestamp update fails, or at minimum track failed updates for monitoring.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T20:08:35.413461-08:00","updated_at":"2025-11-15T20:08:35.413461-08:00","source_repo":"."}
{"id":"goread2-ge4","content_hash":"c5cebab229d99fcc98a2621589771feae24f4d180a95c673e4d5c581ff83c403","title":"Silent failure on duplicate article insert","description":"AddArticle uses INSERT OR IGNORE which silently fails on duplicate URL. Returns LAST_INSERT_ID which may be 0 for ignored inserts.\n\nLocation: internal/database/schema.go:470-491\nImpact: Could lead to incorrect article ID assignment\n\nFix: Use INSERT ... ON CONFLICT DO UPDATE or explicitly check for duplicates first","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T19:54:11.173647-08:00","updated_at":"2025-11-15T19:54:11.173647-08:00","source_repo":"."}
{"id":"goread2-h13","content_hash":"b73aa90ff26bfc66cd949696fea5534102317cf5d72a58806ace22861493c983","title":"Missing validation on pagination limit","description":"GetArticles accepts limit up to 200 without checking against reasonable per-user limits or total system load.\n\nLocation: internal/handlers/feed_handler.go:163-166\nImpact: Users can request excessive data, performance impact\n\nFix: Add configurable max limit and validate against it","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T19:57:33.907762-08:00","updated_at":"2025-11-15T19:57:33.907762-08:00","source_repo":"."}
{"id":"goread2-igo2","content_hash":"1e7b2d7eb5b3b860b582288ca5c974b01cd92c2704ef501b94b77307d00d389d","title":"Regex compilation on every HTML parse","description":"extractFeedLinksFromHTML compiles regex patterns on every call inside loop. Inefficient, should compile once.\n\nLocation: internal/services/feed_discovery.go:173-174\nImpact: CPU waste, slower feed discovery\n\nFix: Compile regex patterns once at package init or struct creation","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:05:12.288942-08:00","updated_at":"2025-11-15T20:05:12.288942-08:00","source_repo":"."}
{"id":"goread2-itp","content_hash":"386288c18452bab67e385329645e4504b802d62116d360ba22d72c8c7d93320a","title":"N+1 query problem in GetAccountStats","description":"GetAccountStats iterates through all user feeds and calls GetUserFeedArticles individually, causing N+1 queries.\n\nLocation: internal/handlers/feed_handler.go:631-682\nImpact: Slow response times for users with many feeds, database load\n\nFix: Use batch query or aggregate function to get counts","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-15T19:57:09.958594-08:00","updated_at":"2025-11-16T18:35:46.410196-08:00","closed_at":"2025-11-16T18:35:46.410196-08:00","source_repo":"."}
{"id":"goread2-jdqu","content_hash":"70a8ecc6fcf69755f4963d2ed3331ff154db701e580e373443bc09172048c2dc","title":"payment_service.go:Stripe credentials fetched without caching","description":"Lines 40-49 fetch Stripe credentials from Secret Manager on every NewPaymentService call. For services that are recreated frequently, this causes unnecessary Secret Manager API calls and latency. Issue: secrets.GetStripeCredentials(ctx) called every time service is initialized. No context timeout set. Fix: Implement credential caching at service layer or use the secrets package caching (from goread2-9sm). Add context timeout to prevent hangs.","notes":"Already implemented: GetStripeCredentials uses sync.Once to cache credentials on first call (lines 128-173 in secrets.go). Even though NewPaymentService calls it on every instantiation, Secret Manager is only accessed once. No additional work needed.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-15T20:08:53.336667-08:00","updated_at":"2025-11-18T17:53:27.386489-08:00","closed_at":"2025-11-18T03:18:29.374663716Z","source_repo":"."}
{"id":"goread2-kcq3","content_hash":"1db3c07702dbbd10293d2a68ec93237644c36f49e2b7b03b6c8992a5cc774dd1","title":"OPML import has no deduplication","description":"ImportOPMLWithLimits doesn't check if user is already subscribed to feeds. Duplicates allowed, wastes limit quota.\n\nLocation: internal/services/feed_service.go:911-942\nImpact: User confusion, limit consumed by duplicates\n\nFix: Check existing subscriptions before import","status":"open","priority":3,"issue_type":"bug","created_at":"2025-11-15T20:05:18.324911-08:00","updated_at":"2025-11-15T20:05:18.324911-08:00","source_repo":"."}
{"id":"goread2-lmz","content_hash":"2d481ea7403d34833aeafad8bd9e477413be47dd51d640047ab522475c7dd2f2","title":"Test coverage only tests env var paths","description":"secrets_test.go only tests environment variable fallback. No tests for actual Secret Manager integration (would need mocking).\n\nLocation: internal/secrets/secrets_test.go\nImpact: Low confidence in Secret Manager integration, regression risk\n\nFix: Add integration tests or mock Secret Manager client for unit tests","status":"open","priority":3,"issue_type":"chore","created_at":"2025-11-15T20:03:05.53829-08:00","updated_at":"2025-11-15T20:03:05.53829-08:00","source_repo":"."}
{"id":"goread2-m0d","content_hash":"ae35ece0fb1fae648e9e28d1b24c5baf4d0140a2f676d6e8fad9727164c1d13b","title":"Error string comparison instead of types","description":"CreateCheckoutSession compares error.Error() string instead of using typed errors.\n\nLocation: internal/handlers/payment_handler.go:49\nImpact: Brittle error handling, breaks if error message changes\n\nFix: Use errors.Is() with properly defined error types","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T19:57:27.914829-08:00","updated_at":"2025-11-15T19:57:27.914829-08:00","source_repo":"."}
{"id":"goread2-mtg","content_hash":"bbfbc36857b317e929c659957c2a7b2426b96bab07a08df483688d748dd2b1af","title":"Magic number for secret prefix check","description":"Hardcoded '8' for length check in '_secret:' prefix detection. Should be constant.\n\nLocation: internal/secrets/secrets.go:47, 59\nImpact: Maintenance burden, magic number unclear\n\nFix: Define const SecretPrefixLength = 8 or use len('_secret:')","status":"open","priority":3,"issue_type":"chore","created_at":"2025-11-15T20:02:53.432863-08:00","updated_at":"2025-11-15T20:02:53.432863-08:00","source_repo":"."}
{"id":"goread2-n6y","content_hash":"a8183c8ee96c8e4dad5c183a4021eec73d2e2bbd84e0a76fb039c4b0b357d60b","title":"Duplicate cron auth logic across handlers","description":"Cron authentication pattern (checking X-Appengine-Cron and admin auth) is duplicated in RefreshFeeds and CleanupOrphanedUserArticles.\n\nLocation: internal/handlers/feed_handler.go:278-342\nImpact: Code duplication, harder to maintain security logic\n\nFix: Extract to shared middleware or helper function","status":"open","priority":3,"issue_type":"chore","created_at":"2025-11-15T19:57:58.013001-08:00","updated_at":"2025-11-15T19:57:58.013001-08:00","source_repo":"."}
{"id":"goread2-piq","content_hash":"d73a77d1406ee5137bff0523f8f0235b7d232554b5d7eee016948f4dd25733c9","title":"No observability for database queries","description":"No query duration logging or metrics for slow queries. Makes performance debugging difficult in production.\n\nLocation: internal/database/schema.go, internal/database/datastore.go\nImpact: Hard to identify and debug slow queries in production\n\nFix: Add query duration logging and metrics (threshold-based or always-on)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-11-15T19:55:12.165684-08:00","updated_at":"2025-11-15T19:55:12.165684-08:00","source_repo":"."}
{"id":"goread2-pwa","content_hash":"93b787730df6ee06fbe11a1fecb33199d9f3bad359609ee9615e7ed7634d85fd","title":"Inconsistent secret reference detection","description":"OAuth credentials use '_secret:' prefix detection, Stripe uses exact string match. Inconsistent API, confusing for users.\n\nLocation: internal/secrets/secrets.go:47,59 vs 78,87,96,105\nImpact: Confusing configuration, documentation burden\n\nFix: Standardize on one convention (prefer '_secret:' prefix) across all credential types","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:02:35.236476-08:00","updated_at":"2025-11-15T20:02:35.236476-08:00","source_repo":"."}
{"id":"goread2-qbu","content_hash":"10ddc967b1f2258c02f2f612ed6b303e46ca0f2725a47a01008b72b06da272ea","title":"Secret Manager client created per request","description":"GetSecret creates new Secret Manager client on every call instead of reusing. Inefficient connection handling.\n\nLocation: internal/secrets/secrets.go:20-24\nImpact: Connection overhead, resource waste, slower secret fetches\n\nFix: Create singleton client or pass client as parameter, reuse across calls","notes":"Fixed: Implemented singleton pattern for Secret Manager client. Client is now created once using sync.Once and reused across all GetSecret calls. This eliminates the overhead of creating a new client connection on every secret fetch.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-11-15T20:02:17.059066-08:00","updated_at":"2025-11-18T17:53:27.403699-08:00","closed_at":"2025-11-18T03:18:06.680038174Z","source_repo":"."}
{"id":"goread2-qsw2","content_hash":"06c7b19a31473367602f425e015548336de30e2e70a7030f06c34b5a561d5ac6","title":"url_validator.go:ValidateURL DNS lookup has no timeout","description":"Line 96: net.LookupIP(hostname) called without context/timeout. DNS lookups can hang indefinitely if DNS server is slow or unresponsive, blocking feed URL validation. Issue: No way to cancel or timeout the DNS lookup. Could cause AddFeed operations to hang. Fix: Use net.Resolver with context: resolver := \u0026net.Resolver{}; resolver.LookupIP(ctx, 'ip', hostname) with timeout context.","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T20:09:05.295788-08:00","updated_at":"2025-11-15T20:09:05.295788-08:00","source_repo":"."}
{"id":"goread2-qti","content_hash":"6996be1453ae10f2b55646df9bf2a18883a66a151bde933ab75c2ad8b9d64127","title":"Race condition in admin self-demotion check","description":"SetAdminStatus checks if user is demoting themselves, but check happens after user lookup. Race condition if user is concurrently updated.\n\nLocation: internal/handlers/admin_handler.go:65-69\nImpact: Possible admin self-demotion in race condition\n\nFix: Perform check within database transaction or add optimistic locking","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T19:57:45.937338-08:00","updated_at":"2025-11-15T19:57:45.937338-08:00","source_repo":"."}
{"id":"goread2-qz6","content_hash":"e82ff99b88c154e61e29a3b33a0ff38e686511f8dc44b89871c8691e160dfa1e","title":"FIX CRITICAL: Add cleanup goroutine to FeedListCache to prevent memory leak","description":"CRITICAL MEMORY LEAK: Expired feed list cache entry is never removed from memory.\n\nLocation: internal/cache/feed_list_cache.go:40\n\nProblem:\n- When cache expires, it returns cache miss but feeds slice remains in memory\n- Similar issue to UnreadCache but simpler (single global cache vs per-user)\n\nCurrent behavior:\nif time.Now().After(fc.refreshAt) {\n    return nil, false  // Returns miss but DOESN'T delete expired data\n}\n\nRequired fix:\n1. Add cleanupIfExpired() goroutine in NewFeedListCache\n2. Run cleanup every 5 minutes with ticker\n3. Set fc.feeds = nil when expired\n\nExample implementation:\nfunc (fc *FeedListCache) cleanupIfExpired() {\n    ticker := time.NewTicker(5 * time.Minute)\n    defer ticker.Stop()\n    \n    for range ticker.C {\n        fc.mu.Lock()\n        if fc.feeds != nil \u0026\u0026 time.Now().After(fc.refreshAt) {\n            fc.feeds = nil\n        }\n        fc.mu.Unlock()\n    }\n}\n\nImpact: Production blocker - memory leak\nPriority: CRITICAL - must fix before production deployment","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-15T19:46:12.501493-08:00","updated_at":"2025-11-15T20:25:19.689428-08:00","closed_at":"2025-11-15T20:25:19.689428-08:00","source_repo":"."}
{"id":"goread2-rl4","content_hash":"1bb04e82c4b604fbfce76bcc1d11fbc38241091d3b239a34f1126cc5769bbb44","title":"No observability for secret access","description":"No logging when secrets are fetched from Secret Manager. Hard to debug configuration issues or audit secret access.\n\nLocation: internal/secrets/secrets.go (all functions)\nImpact: Difficult to debug startup issues, no audit trail for secret access\n\nFix: Add structured logging for secret fetches (redact values, log success/failure)","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:02:41.283729-08:00","updated_at":"2025-11-15T20:02:41.283729-08:00","source_repo":"."}
{"id":"goread2-rxy","content_hash":"debafb926d5741561f3bd30f4ac26a3ef1744427321fceff5ee8b4e8d352795d","title":"Add more context to OAuth callback errors","description":"Add more debugging context to error messages in HandleCallback for easier troubleshooting.\n\nLocation: internal/auth/auth.go:82-122\n\nRecommended implementation:\n- Add code length to token exchange error\n- Add response status to user info fetch error\n- Example: 'failed to exchange code for token (code length: %d): %w'\n\nRationale: Improves debugging capabilities for OAuth flow issues.","status":"open","priority":3,"issue_type":"task","created_at":"2025-11-15T19:45:30.288919-08:00","updated_at":"2025-11-15T19:45:30.288919-08:00","source_repo":"."}
{"id":"goread2-s58","content_hash":"eded142403c93fe400d37a08ddce09577e1b74a9f88d4e23312ef3eb667ddb9b","title":"Unchecked type assertion panic risk","description":"GetCachedUserFeeds uses unchecked type assertion cache := cacheInterface.(*RequestCache) which will panic if wrong type in context.\n\nLocation: internal/middleware/request_cache.go:44\nImpact: Service crash if context contains wrong value\n\nFix: Use comma-ok idiom: cache, ok := cacheInterface.(*RequestCache)","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T19:59:47.783408-08:00","updated_at":"2025-11-15T19:59:47.783408-08:00","source_repo":"."}
{"id":"goread2-sbw","content_hash":"4b3cdb66f4f42a76f62ae0211dc6d815daa1fade72f7855e698651d24f0cf6d9","title":"Missing OAuth state replay attack prevention","description":"OAuth state cookie in Login handler has 10min TTL but no nonce or one-time-use check. State can be replayed within the TTL window.\n\nLocation: internal/handlers/auth_handler.go:28-42\nImpact: OAuth CSRF protection can be bypassed via replay attacks\n\nFix: Store used state values in cache/session and reject reused states","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-15T19:56:57.968637-08:00","updated_at":"2025-11-16T18:26:14.80771-08:00","closed_at":"2025-11-16T18:26:14.80771-08:00","source_repo":"."}
{"id":"goread2-svht","content_hash":"4ed59bb8721e17c95fdbd1301a42094ceadfcc7124ff0e1010924935daddbe99","title":"rate_limiter.go:Wait() uses context.Background instead of accepting context","description":"Line 65: Wait() creates context.Background() instead of accepting a context parameter. This means callers can't cancel/timeout the wait. Issue: limiter.Wait(context.Background()) blocks indefinitely if rate limited. Should accept caller's context for cancellation. Fix: Change signature to Wait(ctx context.Context, feedURL string) error and pass ctx to limiter.Wait(ctx).","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:09:17.371778-08:00","updated_at":"2025-11-15T20:09:17.371778-08:00","source_repo":"."}
{"id":"goread2-v0mr","content_hash":"5404025b7bd6ad3cc0bfca4fa2af222419bc02dedfb4c44b01fa8dd5e892741f","title":"FeedScheduler stop doesn't wait for in-flight updates","description":"Stop() closes stopChan but doesn't wait for processScheduledFeeds goroutines to finish. Could leave orphaned goroutines.\n\nLocation: internal/services/feed_scheduler.go:91-102\nImpact: Goroutine leak on shutdown, unfinished feed updates\n\nFix: Use sync.WaitGroup to track in-flight updates and wait in Stop()","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:05:06.232817-08:00","updated_at":"2025-11-15T20:05:06.232817-08:00","source_repo":"."}
{"id":"goread2-v99","content_hash":"5c12ee48136b9f5f3f59cb62872caad889adbc4bf9c37edb6c4057a161a52024","title":"Missing XML complexity validation on OPML","description":"ImportOPML validates file size (10MB) but not XML complexity. Billion laughs or deeply nested XML could cause DoS.\n\nLocation: internal/handlers/feed_handler.go:549-560\nImpact: XML bomb DoS attacks\n\nFix: Add XML parser limits (max depth, max entities, etc.)","status":"open","priority":3,"issue_type":"bug","created_at":"2025-11-15T19:57:51.998641-08:00","updated_at":"2025-11-15T19:57:51.998641-08:00","source_repo":"."}
{"id":"goread2-vaqa","content_hash":"acade836004f3cad56503587e9aa329aeaf80eddada43745fd730e4d886ab4cb","title":"Feed title enhancement overwrites user customizations","description":"enhanceFeedTitle is called every time user adds feed, potentially overwriting previous title enhancements or manual edits.\n\nLocation: internal/services/feed_service.go:295-303\nImpact: User title customizations lost\n\nFix: Only enhance title on initial feed creation, not on subscription","status":"open","priority":3,"issue_type":"bug","created_at":"2025-11-15T20:05:24.340324-08:00","updated_at":"2025-11-15T20:05:24.340324-08:00","source_repo":"."}
{"id":"goread2-wf2","content_hash":"bbb91da74371678d80a4b011aee7375558eb9ab5c3c95c9f11699d23e43e07b1","title":"Missing context timeouts in Datastore operations","description":"All Datastore operations in datastore.go use context.Background() without timeouts. This could lead to hung operations and resource exhaustion in production.\n\nLocation: internal/database/datastore.go (throughout)\nImpact: Production stability risk - operations could hang indefinitely\n\nFix: Replace context.Background() with context.WithTimeout() using a configurable timeout (e.g., 30s default)","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-11-15T19:53:59.265033-08:00","updated_at":"2025-11-16T11:43:34.372524-08:00","closed_at":"2025-11-16T11:43:34.372524-08:00","source_repo":"."}
{"id":"goread2-wgj","content_hash":"5165d0d83fe01dd49a2992f7d1e637f819f5d58496281f3459aaabb5a8737b5d","title":"Missing CSRF validation in auth middleware","description":"RequireAuth middleware only validates session, doesn't check CSRF token. State-changing operations could be vulnerable to CSRF.\n\nLocation: internal/auth/middleware.go:26-38\nImpact: CSRF attacks possible if CSRF middleware not applied to all routes\n\nFix: Add optional CSRF validation or document that CSRF middleware must be applied separately","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T19:59:59.736151-08:00","updated_at":"2025-11-15T19:59:59.736151-08:00","source_repo":"."}
{"id":"goread2-wzp","content_hash":"b303fa65f24d7ad3f5c20fafacbe86031a59eae6c61b89090c857d9e1712a1d1","title":"Add CSRF secret validation in production","description":"Currently, if CSRF_SECRET is not set in production, the system generates a random secret and logs a warning. This means tokens will be invalidated on restart, causing user session issues. Change to fail-fast in production environments.\n\nLocation: internal/auth/csrf.go:32-63\n\nRecommended implementation:\n- Check if GAE_ENV=standard or ENVIRONMENT=production\n- If CSRF_SECRET is not set, call log.Fatalf() instead of generating random secret\n- This prevents silent security degradation across deployments\n\nRationale: Prevents production deployments with ephemeral CSRF secrets that invalidate all user sessions on restart.","status":"open","priority":1,"issue_type":"task","created_at":"2025-11-15T19:44:57.049272-08:00","updated_at":"2025-11-15T19:44:57.049272-08:00","source_repo":"."}
{"id":"goread2-x95","content_hash":"340b481c7f418e4adae95e23772e215efa9fe861b3a582d2cdf898b842a96eea","title":"Hardcoded pagination limit logic","description":"The 'LIMIT ? + 1' pattern for pagination is hardcoded in multiple places.\n\nLocation: internal/database/schema.go:747 and elsewhere\nImpact: Code duplication, harder to maintain\n\nFix: Extract to a constant or helper function","status":"open","priority":3,"issue_type":"chore","created_at":"2025-11-15T19:54:40.89834-08:00","updated_at":"2025-11-15T19:54:40.89834-08:00","source_repo":"."}
{"id":"goread2-xwd","content_hash":"4ffee8a69188e96c71196557556c98c399542a3462226857104fafd2323ec34b","title":"Missing validation in UpdateUserMaxArticlesOnFeedAdd","description":"No bounds checking on maxArticles parameter. Could set negative or unreasonably large values.\n\nLocation: internal/database/datastore_update.go:10-32, internal/database/schema.go:1313-1329\nImpact: Could allow invalid configuration values\n\nFix: Add validation (e.g., 0 \u003c maxArticles \u003c= 10000)","status":"open","priority":3,"issue_type":"bug","created_at":"2025-11-15T19:54:52.890178-08:00","updated_at":"2025-11-15T19:54:52.890178-08:00","source_repo":"."}
{"id":"goread2-xz8z","content_hash":"3d9c949675d1ae21e7f8489681466cdefc52d32426b6767e2c8ec380a9dbf5ed","title":"HTML tag stripper is vulnerable to malformed HTML","description":"stripHTMLTags uses simple character-by-character parsing. Malformed HTML with unclosed tags could leave inTag=true and strip all content.\n\nLocation: internal/services/feed_service.go:1200-1226\nImpact: Data loss, articles with no content if malformed HTML\n\nFix: Use proper HTML parser like golang.org/x/net/html","status":"open","priority":1,"issue_type":"bug","created_at":"2025-11-15T20:04:54.193697-08:00","updated_at":"2025-11-15T20:04:54.193697-08:00","source_repo":"."}
{"id":"goread2-y2s","content_hash":"dc94e2e561064248e11c34688603e410873c00817530f4689c54f23db9df7057","title":"Filter expired entries from cache stats","description":"GetStats() currently counts expired entries as if they were valid, giving misleading metrics.\n\nLocations:\n- internal/cache/unread_cache.go:125-138\n- internal/cache/feed_list_cache.go:80-88\n\nProblem:\n- Stats include expired but not-yet-cleaned entries\n- Misleading for monitoring cache effectiveness\n\nRecommended fix for UnreadCache:\nfunc (uc *UnreadCache) GetStats() CacheStats {\n    uc.mu.RLock()\n    defer uc.mu.RUnlock()\n\n    now := time.Now()\n    activeUsers := 0\n    totalFeeds := 0\n    \n    for userID, counts := range uc.counts {\n        if now.Before(uc.refreshAt[userID]) { // Only count valid entries\n            activeUsers++\n            totalFeeds += len(counts)\n        }\n    }\n\n    return CacheStats{\n        CachedUsers: activeUsers,\n        TotalFeeds:  totalFeeds,\n    }\n}\n\nSimilar fix needed for FeedListCache.\n\nImpact: Minor - improves observability accuracy\nPriority: Medium - fix after critical memory leaks","status":"open","priority":2,"issue_type":"task","created_at":"2025-11-15T19:46:41.990027-08:00","updated_at":"2025-11-15T19:46:41.990027-08:00","source_repo":"."}
{"id":"goread2-y9zg","content_hash":"19f40d5d98858e6363c5fde4d1880e83df1e1c4de382bb65c01b25b43b30f57e","title":"payment_service.go:NewPaymentService logs partial Stripe secret key","description":"Lines 56-60 log the first and last 4 characters of the Stripe secret key for debugging. This is a security risk as it leaks partial credentials to logs. Issue: 'Using Stripe key: sk_t...xyz1 (107 chars total)' exposes key prefix/suffix. Fix: Remove credential logging entirely or use a non-reversible hash for diagnostics. In production environments, logs may be stored/transmitted insecurely.","status":"open","priority":2,"issue_type":"bug","created_at":"2025-11-15T20:08:41.433816-08:00","updated_at":"2025-11-15T20:08:41.433816-08:00","source_repo":"."}
{"id":"goread2-yy7","content_hash":"178b24033d08f3fd930cf2b9604a97b132e849ac57cb1360d6715b64390dac76","title":"Add max cache size limits to prevent unbounded growth","description":"Enhancement: Add configurable maximum cache size limits to both caches to prevent unbounded memory growth.\n\nLocations:\n- internal/cache/unread_cache.go\n- internal/cache/feed_list_cache.go\n\nRationale:\n- Even with cleanup goroutines, active users could cause excessive memory use\n- Provides hard limits on memory consumption\n- Useful for capacity planning\n\nRecommended implementation:\n1. Add maxUsers field to UnreadCache (e.g., 10000)\n2. In Set(), check if limit reached\n3. If at limit and adding new user, evict oldest entry\n4. Consider LRU eviction strategy for better cache hit rates\n\nExample:\ntype UnreadCache struct {\n    counts    map[int]map[int]int\n    refreshAt map[int]time.Time\n    mu        sync.RWMutex\n    ttl       time.Duration\n    maxUsers  int // Configurable limit\n}\n\nBenefits:\n- Predictable memory usage\n- Prevents pathological cases\n- Better for capacity planning\n\nImpact: Enhancement - nice to have but not critical\nPriority: Low - implement after fixing memory leaks","status":"open","priority":3,"issue_type":"feature","created_at":"2025-11-15T19:46:56.143286-08:00","updated_at":"2025-11-15T19:46:56.143286-08:00","source_repo":"."}
